{"ast":null,"code":"import _defineProperty from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/regenerator/index.js\";import classNames from\"classnames\";import{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{BaseLink,useRoute}from\"react-router5\";import Icon from\"../../../components/Icon\";import ReportFilters from\"../../../components/reports/Filters\";import ReportTableControls from\"../../../components/reports/TableControls\";import ReportTableField from\"../../../components/reports/TableField\";import{httpClient,nError}from\"../../../funcs/base\";import{mapDispatchToProps,mapStateToProps}from\"../../../store\";import\"../../../styles/pages/common/report-list.sass\";import{getActiveAccount}from\"../../../funcs\";import qs from\"qs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CallCenter_PhoneNumbersPage_List=connect(mapStateToProps,mapDispatchToProps)(function(props){var $router=useRoute();var activeAccount=getActiveAccount(props.store);var _useState=useState(Math.random()),_useState2=_slicedToArray(_useState,2),$updater=_useState2[0],$setUpdater=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),reportData=_useState4[0],setReportData=_useState4[1];var _useState5=useState({search:'',page:1,filter_words:{type:[],source:[],area:[],company:[],call_flow:[],active:[]},sort:{field:'phone',direction:'up'},sortFields:[{span:'Phone Number',value:'phone'},{span:'Friendly Name',value:'friendly_name'},{span:'Type',value:'type'},{span:'Source',value:'source'},{span:'Area',value:'area'},{span:'Company',value:'company'},{span:'Call Flow',value:'call_flow'},{span:'Available',value:'active'}]}),_useState6=_slicedToArray(_useState5,2),localInterface=_useState6[0],setLocalInterface=_useState6[1];// Load clients function\nfunction loadClients(){return _loadClients.apply(this,arguments);}// Load clients on page mount\nfunction _loadClients(){_loadClients=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var activeFilters,_ref,clients;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:httpClient.defaults.headers['Authorization']=\"Bearer \".concat(props.store.accessToken);activeFilters=_objectSpread({},localInterface.filter_words);Object.keys(localInterface.filter_words).forEach(function(key){return!activeFilters[key].length&&delete activeFilters[key];});_context.prev=3;_context.next=6;return httpClient.post('/phonenumbers/report',qs.stringify(_objectSpread({account_id:activeAccount.account_id,limit_rows:props.store.reportsMaxRows,page:localInterface.page,sort_field:localInterface.sort.field,sort_type:localInterface.sort.direction==='up'?'asc':'desc',filter_field:JSON.stringify(activeFilters)},localInterface.search?{search:localInterface.search}:{})));case 6:_ref=_context.sent;clients=_ref.data;setReportData(clients);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](3);nError(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[3,11]]);}));return _loadClients.apply(this,arguments);}useEffect(function(){loadClients();},[$updater,localInterface.page]);// Is filter selected function\nfunction isFilterSelected(field,value){return localInterface.filter_words[field].includes(value);}function isAllFiltersSelected(field){return localInterface.filter_words[field].length===0;}function switchFilter(field,value,toggle){var _arr=_toConsumableArray(localInterface.filter_words[field]);if(toggle&&value===\"All\"){_arr=[];}else if(!toggle){while(true){var i=_arr.findIndex(function(filter){return filter===value;});if(i===-1)break;_arr.splice(i,1);}}else{if(reportData!==null&&reportData!==void 0&&reportData.interface.filter_words[field].every(function(option){return _arr.concat([value]).includes(option);}))_arr=[];else if(_arr.findIndex(function(filter){return filter===value;})===-1)_arr.push(value);}setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{filter_words:_objectSpread(_objectSpread({},localInterface.filter_words),{},_defineProperty({},field,_arr))}));}// Render function\nreturn/*#__PURE__*/_jsx(_Fragment,{children:reportData?/*#__PURE__*/_jsxs(\"div\",{className:\"CallCenter_PhoneNumbersPage_List\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-nav\",children:[/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"call_center.phoneNumbers\",className:classNames({_active:$router.route.name===\"call_center.phoneNumbers\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"phone-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Phone Numbers\"})]}),/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"call_center.dispatchers\",className:classNames({_active:$router.route.name===\"call_center.dispatchers\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"user-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Dispatchers\"})]}),/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"call_center.groups\",className:classNames({_active:$router.route.name===\"call_center.groups\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"user-29\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Groups\"})]}),/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"call_center.callFlows\",className:classNames({_active:$router.route.name===\"call_center.callFlows\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"share-7\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Call Flows\"})]}),/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"call_center.settings\",className:classNames({_active:$router.route.name===\"call_center.settings\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"gear-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Settings\"})]})]}),/*#__PURE__*/_jsx(ReportFilters,{onSearchInputChange:function onSearchInputChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{search:value}));},onUpdate:function onUpdate(){loadClients();}}),/*#__PURE__*/_jsx(ReportTableControls,{zIndex:5,onMaxRowsChange:function onMaxRowsChange(){return $setUpdater(Math.random());},amount:{total:reportData.interface.rows_all,start:reportData.interface.rows_start,end:reportData.interface.rows_end},page:localInterface.page,maxPages:reportData.interface.max_pages,onPagesStart:function onPagesStart(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:1}));},onPrevPage:function onPrevPage(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:localInterface.page-1}));},onNextPage:function onNextPage(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:localInterface.page+1}));},onPagesEnd:function onPagesEnd(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:reportData.interface.max_pages}));},sort:localInterface.sort,sortFields:localInterface.sortFields,onSortFieldChange:function onSortFieldChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:_objectSpread(_objectSpread({},localInterface.sort),{},{field:value})}));},onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:_objectSpread(_objectSpread({},localInterface.sort),{},{direction:value})}));},onSortFire:function onSortFire(){return $setUpdater(Math.random());},addButton:/*#__PURE__*/_jsx(\"div\",{className:\"add-button-wrapper\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"_iconed _rounded add-button\",onClick:function onClick(){return $router.router.navigate('call_center.phoneNumbers.new',{},{reload:true});},children:[/*#__PURE__*/_jsx(Icon,{icon:\"plus-thin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Phone\"}),/*#__PURE__*/_jsx(Icon,{icon:\"phone-1\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"contents\",children:[/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__show-on-wide',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Phone Number\"}),sortDirection:localInterface.sort.field==='phone'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'phone',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Friendly Name\"}),sortDirection:localInterface.sort.field==='friendly_name'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'friendly_name',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Type\"}),allFiltersSelected:isAllFiltersSelected(\"type\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"type\",\"All\",value);},filterWords:reportData.interface.filter_words.type.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"type\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"type\",value.word,value.selected);},sortDirection:localInterface.sort.field==='type'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'type',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Source\"}),allFiltersSelected:isAllFiltersSelected(\"source\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"source\",\"All\",value);},filterWords:reportData.interface.filter_words.source.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"source\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"source\",value.word,value.selected);},sortDirection:localInterface.sort.field==='source'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'source',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Area\"}),allFiltersSelected:isAllFiltersSelected(\"area\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"area\",\"All\",value);},filterWords:reportData.interface.filter_words.area.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"area\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"area\",value.word,value.selected);},sortDirection:localInterface.sort.field==='area'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'area',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Company\"}),allFiltersSelected:isAllFiltersSelected(\"company\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"company\",\"All\",value);},filterWords:reportData.interface.filter_words.company.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"company\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"company\",value.word,value.selected);},sortDirection:localInterface.sort.field==='company'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'company',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Call Flow\"}),allFiltersSelected:isAllFiltersSelected(\"call_flow\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"call_flow\",\"All\",value);},filterWords:reportData.interface.filter_words.call_flow.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"call_flow\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"call_flow\",value.word,value.selected);},sortDirection:localInterface.sort.field==='call_flow'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'call_flow',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Available\"}),allFiltersSelected:isAllFiltersSelected(\"active\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"active\",\"All\",value);},filterWords:reportData.interface.filter_words.active.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"active\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"active\",value.word,value.selected);},sortDirection:localInterface.sort.field==='active'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'active',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}})]}),reportData.phone_numbers.map(function(phoneNumber,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return $router.router.navigate('call_center.phoneNumbers.item',{},{reload:true});},children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container\",children:[/*#__PURE__*/_jsx(\"span\",{children:phoneNumber.phone}),/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed\",children:/*#__PURE__*/_jsx(Icon,{icon:\"gear-1\"})})]})}),/*#__PURE__*/_jsx(\"td\",{children:phoneNumber.friendly_name}),/*#__PURE__*/_jsx(\"td\",{className:classNames({'red-text':phoneNumber.type==='System','green-text':phoneNumber.type==='Source','blue-text':!['System','Source'].includes(phoneNumber.type)}),children:phoneNumber.type}),/*#__PURE__*/_jsx(\"td\",{children:phoneNumber.source}),/*#__PURE__*/_jsx(\"td\",{children:phoneNumber.area}),/*#__PURE__*/_jsx(\"td\",{children:phoneNumber.company}),/*#__PURE__*/_jsx(\"td\",{children:phoneNumber.call_flow}),/*#__PURE__*/_jsx(\"td\",{className:classNames({'red-text':phoneNumber.active==='Off','green-text':phoneNumber.active==='On'}),children:phoneNumber.active})]},i);})]}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__hide-on-wide','__hide-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsx(\"tr\",{}),reportData.phone_numbers.map(function(phoneNumber,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return $router.router.navigate('call_center.phoneNumbers.item',{},{reload:true});},children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.phone}),/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.friendly_name})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.source}),/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.area})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.company}),/*#__PURE__*/_jsx(\"div\",{className:classNames({'red-text':phoneNumber.type==='System','green-text':phoneNumber.type==='Source','blue-text':!['System','Source'].includes(phoneNumber.type)}),children:phoneNumber.type})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.call_flow}),/*#__PURE__*/_jsx(\"div\",{className:classNames({'red-text':phoneNumber.active==='Off','green-text':phoneNumber.active==='On'}),children:phoneNumber.active})]})]},i);})]}),/*#__PURE__*/_jsx(\"div\",{className:classNames('mobile-table-items','__show-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:reportData.phone_numbers.map(function(phoneNumber,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",onClick:function onClick(){return $router.router.navigate('call_center.phoneNumbers.item',{},{reload:true});},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:phoneNumber.phone})}),/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.friendly_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.company}),/*#__PURE__*/_jsx(\"div\",{className:classNames({'red-text':phoneNumber.type==='System','green-text':phoneNumber.type==='Source','blue-text':!['System','Source'].includes(phoneNumber.type)}),children:phoneNumber.type}),/*#__PURE__*/_jsx(\"div\",{className:classNames({'red-text':phoneNumber.active==='Off','green-text':phoneNumber.active==='On'}),children:phoneNumber.active})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Area:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",phoneNumber.area]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Source:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",phoneNumber.source]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"__right small\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:phoneNumber.call_flow})})})]})]},i);})})]}),/*#__PURE__*/_jsx(ReportTableControls,{isUnder:true,onMaxRowsChange:function onMaxRowsChange(){return $setUpdater(Math.random());},amount:{total:reportData.interface.rows_all,start:reportData.interface.rows_start,end:reportData.interface.rows_end},page:localInterface.page,maxPages:reportData.interface.max_pages,onPagesStart:function onPagesStart(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:1}));},onPrevPage:function onPrevPage(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:localInterface.page-1}));},onNextPage:function onNextPage(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:localInterface.page+1}));},onPagesEnd:function onPagesEnd(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:reportData.interface.max_pages}));},sort:localInterface.sort,sortFields:localInterface.sortFields,onSortFieldChange:function onSortFieldChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:_objectSpread(_objectSpread({},localInterface.sort),{},{field:value})}));},onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:_objectSpread(_objectSpread({},localInterface.sort),{},{direction:value})}));},onSortFire:function onSortFire(){return $setUpdater(Math.random());}})]}):null});});export default CallCenter_PhoneNumbersPage_List;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/CallCenter/PhoneNumbers/List.tsx"],"names":["classNames","useEffect","useState","connect","BaseLink","useRoute","Icon","ReportFilters","ReportTableControls","ReportTableField","httpClient","nError","mapDispatchToProps","mapStateToProps","getActiveAccount","qs","CallCenter_PhoneNumbersPage_List","props","$router","activeAccount","store","Math","random","$updater","$setUpdater","reportData","setReportData","search","page","filter_words","type","source","area","company","call_flow","active","sort","field","direction","sortFields","span","value","localInterface","setLocalInterface","loadClients","defaults","headers","accessToken","activeFilters","Object","keys","forEach","key","length","post","stringify","account_id","limit_rows","reportsMaxRows","sort_field","sort_type","filter_field","JSON","clients","data","isFilterSelected","includes","isAllFiltersSelected","switchFilter","toggle","_arr","i","findIndex","filter","splice","interface","every","option","concat","push","router","_active","route","name","total","rows_all","start","rows_start","end","rows_end","max_pages","navigate","reload","__respectAsidePanel","navActive","is","undefined","map","filterWord","word","selected","phone_numbers","phoneNumber","phone","friendly_name"],"mappings":"opBACA,MAAOA,CAAAA,UAAP,KAAuB,YAAvB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,QAAT,CAAmBC,QAAnB,KAAmC,eAAnC,CACA,MAAOC,CAAAA,IAAP,KAAiB,0BAAjB,CACA,MAAOC,CAAAA,aAAP,KAA0B,qCAA1B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,2CAAhC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,wCAA7B,CACA,OAASC,UAAT,CAAqBC,MAArB,KAAmC,qBAAnC,CAGA,OAAoCC,kBAApC,CAAwDC,eAAxD,KAA+E,gBAA/E,CAEA,MAAO,+CAAP,CACA,OAAQC,gBAAR,KAA+B,gBAA/B,CAEA,MAAOC,CAAAA,EAAP,KAAe,IAAf,C,6IAqCA,GAAMC,CAAAA,gCAAgC,CAAGb,OAAO,CAACU,eAAD,CAAkBD,kBAAlB,CAAP,CAA6C,SAASK,KAAT,CAAuB,CAE3G,GAAMC,CAAAA,OAAO,CAAGb,QAAQ,EAAxB,CAEA,GAAMc,CAAAA,aAAa,CAAGL,gBAAgB,CAACG,KAAK,CAACG,KAAP,CAAtC,CACA,cAAgClB,QAAQ,CAAMmB,IAAI,CAACC,MAAL,EAAN,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAEA,eAAoCtB,QAAQ,CAA4B,IAA5B,CAA5C,yCAAOuB,UAAP,eAAmBC,aAAnB,eACA,eAA4CxB,QAAQ,CAAC,CAEnDyB,MAAM,CAAE,EAF2C,CAInDC,IAAI,CAAE,CAJ6C,CAMnDC,YAAY,CAAE,CAEZC,IAAI,CAAE,EAFM,CAGZC,MAAM,CAAE,EAHI,CAIZC,IAAI,CAAE,EAJM,CAKZC,OAAO,CAAE,EALG,CAMZC,SAAS,CAAE,EANC,CAOZC,MAAM,CAAE,EAPI,CANqC,CAgBnDC,IAAI,CAAE,CACJC,KAAK,CAAE,OADH,CAEJC,SAAS,CAAE,IAFP,CAhB6C,CAoBnDC,UAAU,CAAE,CAAC,CACXC,IAAI,CAAE,cADK,CAEXC,KAAK,CAAE,OAFI,CAAD,CAGV,CACAD,IAAI,CAAE,eADN,CAEAC,KAAK,CAAE,eAFP,CAHU,CAMV,CACAD,IAAI,CAAE,MADN,CAEAC,KAAK,CAAE,MAFP,CANU,CASV,CACAD,IAAI,CAAE,QADN,CAEAC,KAAK,CAAE,QAFP,CATU,CAYV,CACAD,IAAI,CAAE,MADN,CAEAC,KAAK,CAAE,MAFP,CAZU,CAeV,CACAD,IAAI,CAAE,SADN,CAEAC,KAAK,CAAE,SAFP,CAfU,CAkBV,CACAD,IAAI,CAAE,WADN,CAEAC,KAAK,CAAE,WAFP,CAlBU,CAqBV,CACAD,IAAI,CAAE,WADN,CAEAC,KAAK,CAAE,QAFP,CArBU,CApBuC,CAAD,CAApD,yCAAOC,cAAP,eAAuBC,iBAAvB,eAgDA;AAxD2G,QAyD5FC,CAAAA,WAzD4F,8CAmF3G;AAnF2G,6FAyD3G,kKAEElC,UAAU,CAACmC,QAAX,CAAoBC,OAApB,CAA4B,eAA5B,mBAAyD7B,KAAK,CAACG,KAAN,CAAY2B,WAArE,EAEIC,aAJN,kBAI+BN,cAAc,CAACb,YAJ9C,EAKEoB,MAAM,CAACC,IAAP,CAAYR,cAAc,CAACb,YAA3B,EAAyCsB,OAAzC,CAAiD,SAACC,GAAD,QAAc,CAACJ,aAAa,CAACI,GAAD,CAAb,CAAmBC,MAApB,EAA8B,MAAOL,CAAAA,aAAa,CAACI,GAAD,CAAhE,EAAjD,EALF,sCAQqC1C,CAAAA,UAAU,CAAC4C,IAAX,CAAgB,sBAAhB,CAAwCvC,EAAE,CAACwC,SAAH,gBACvEC,UAAU,CAAErC,aAAa,CAACqC,UAD6C,CAEvEC,UAAU,CAAExC,KAAK,CAACG,KAAN,CAAYsC,cAF+C,CAGvE9B,IAAI,CAAEc,cAAc,CAACd,IAHkD,CAIvE+B,UAAU,CAAEjB,cAAc,CAACN,IAAf,CAAoBC,KAJuC,CAKvEuB,SAAS,CAAElB,cAAc,CAACN,IAAf,CAAoBE,SAApB,GAAkC,IAAlC,CAAyC,KAAzC,CAAiD,MALW,CAMvEuB,YAAY,CAAEC,IAAI,CAACP,SAAL,CAAeP,aAAf,CANyD,EAOnEN,cAAc,CAACf,MAAf,CAAwB,CAACA,MAAM,CAAEe,cAAc,CAACf,MAAxB,CAAxB,CAA0D,EAPS,EAAxC,CARrC,2BAQkBoC,OARlB,MAQYC,IARZ,CAkBItC,aAAa,CAACqC,OAAD,CAAb,CAlBJ,iFAqBIpD,MAAM,aAAN,CArBJ,qEAzD2G,8CAoF3GV,SAAS,CAAC,UAAM,CAAE2C,WAAW,GAAI,CAAxB,CAA0B,CACjCrB,QADiC,CAEjCmB,cAAc,CAACd,IAFkB,CAA1B,CAAT,CAKA;AACA,QAASqC,CAAAA,gBAAT,CAA0B5B,KAA1B,CAA6CI,KAA7C,CAA4D,CAC1D,MAAOC,CAAAA,cAAc,CAACb,YAAf,CAA4BQ,KAA5B,EAAmC6B,QAAnC,CAA4CzB,KAA5C,CAAP,CACD,CAED,QAAS0B,CAAAA,oBAAT,CAA8B9B,KAA9B,CAAiD,CAC/C,MAAOK,CAAAA,cAAc,CAACb,YAAf,CAA4BQ,KAA5B,EAAmCgB,MAAnC,GAA8C,CAArD,CACD,CAED,QAASe,CAAAA,YAAT,CAAsB/B,KAAtB,CAAyCI,KAAzC,CAAwD4B,MAAxD,CAAyE,CAEvE,GAAIC,CAAAA,IAAI,oBAAO5B,cAAc,CAACb,YAAf,CAA4BQ,KAA5B,CAAP,CAAR,CAEA,GAAIgC,MAAM,EAAI5B,KAAK,GAAK,KAAxB,CAA+B,CAAE6B,IAAI,CAAG,EAAP,CAAW,CAA5C,IAEK,IAAI,CAACD,MAAL,CAAa,CAEhB,MAAO,IAAP,CAAa,CACX,GAAIE,CAAAA,CAAC,CAAGD,IAAI,CAACE,SAAL,CAAe,SAACC,MAAD,QAAYA,CAAAA,MAAM,GAAKhC,KAAvB,EAAf,CAAR,CACA,GAAG8B,CAAC,GAAK,CAAC,CAAV,CAAa,MACbD,IAAI,CAACI,MAAL,CAAYH,CAAZ,CAAe,CAAf,EACD,CACF,CAPI,IASA,CAEH,GAAI9C,UAAJ,SAAIA,UAAJ,WAAIA,UAAU,CAAEkD,SAAZ,CAAsB9C,YAAtB,CAAmCQ,KAAnC,EAA0CuC,KAA1C,CAAgD,SAACC,MAAD,QAAYP,CAAAA,IAAI,CAACQ,MAAL,CAAY,CAACrC,KAAD,CAAZ,EAAqByB,QAArB,CAA8BW,MAA9B,CAAZ,EAAhD,CAAJ,CACEP,IAAI,CAAG,EAAP,CADF,IAGK,IAAGA,IAAI,CAACE,SAAL,CAAe,SAACC,MAAD,QAAYA,CAAAA,MAAM,GAAKhC,KAAvB,EAAf,IAAiD,CAAC,CAArD,CACH6B,IAAI,CAACS,IAAL,CAAUtC,KAAV,EACH,CAEDE,iBAAiB,gCAAKD,cAAL,MAAqBb,YAAY,gCAAMa,cAAc,CAACb,YAArB,wBAAoCQ,KAApC,CAA4CiC,IAA5C,EAAjC,GAAjB,CACD,CAED;AACA,mBAAQ,yBACL7C,UAAU,cACT,aAAK,SAAS,CAAC,kCAAf,wBAGE,aAAK,SAAS,CAAC,SAAf,wBACE,MAAC,QAAD,EAAU,MAAM,CAAEP,OAAO,CAAC8D,MAA1B,CAAkC,SAAS,CAAC,0BAA5C,CAAuE,SAAS,CAAEhF,UAAU,CAAC,CAACiF,OAAO,CAAE/D,OAAO,CAACgE,KAAR,CAAcC,IAAd,GAAuB,0BAAjC,CAAD,CAA5F,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,SAAX,EADF,cAEE,uCAFF,GADF,cAME,MAAC,QAAD,EAAU,MAAM,CAAEjE,OAAO,CAAC8D,MAA1B,CAAkC,SAAS,CAAC,yBAA5C,CAAsE,SAAS,CAAEhF,UAAU,CAAC,CAACiF,OAAO,CAAE/D,OAAO,CAACgE,KAAR,CAAcC,IAAd,GAAuB,yBAAjC,CAAD,CAA3F,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,QAAX,EADF,cAEE,qCAFF,GANF,cAWE,MAAC,QAAD,EAAU,MAAM,CAAEjE,OAAO,CAAC8D,MAA1B,CAAkC,SAAS,CAAC,oBAA5C,CAAiE,SAAS,CAAEhF,UAAU,CAAC,CAACiF,OAAO,CAAE/D,OAAO,CAACgE,KAAR,CAAcC,IAAd,GAAuB,oBAAjC,CAAD,CAAtF,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,SAAX,EADF,cAEE,gCAFF,GAXF,cAgBE,MAAC,QAAD,EAAU,MAAM,CAAEjE,OAAO,CAAC8D,MAA1B,CAAkC,SAAS,CAAC,uBAA5C,CAAoE,SAAS,CAAEhF,UAAU,CAAC,CAACiF,OAAO,CAAE/D,OAAO,CAACgE,KAAR,CAAcC,IAAd,GAAuB,uBAAjC,CAAD,CAAzF,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,SAAX,EADF,cAEE,oCAFF,GAhBF,cAqBE,MAAC,QAAD,EAAU,MAAM,CAAEjE,OAAO,CAAC8D,MAA1B,CAAkC,SAAS,CAAC,sBAA5C,CAAmE,SAAS,CAAEhF,UAAU,CAAC,CAACiF,OAAO,CAAE/D,OAAO,CAACgE,KAAR,CAAcC,IAAd,GAAuB,sBAAjC,CAAD,CAAxF,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,QAAX,EADF,cAEE,kCAFF,GArBF,GAHF,cA+BE,KAAC,aAAD,EACE,mBAAmB,CAAE,6BAAC1C,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBf,MAAM,CAAEc,KAA7B,GAA5B,EADvB,CAGE,QAAQ,CAAE,mBAAM,CACdG,WAAW,GAEZ,CANH,EA/BF,cAyCE,KAAC,mBAAD,EACE,MAAM,CAAE,CADV,CAGE,eAAe,CAAE,iCAAMpB,CAAAA,WAAW,CAACH,IAAI,CAACC,MAAL,EAAD,CAAjB,EAHnB,CAKE,MAAM,CAAE,CACN8D,KAAK,CAAE3D,UAAU,CAACkD,SAAX,CAAqBU,QADtB,CAENC,KAAK,CAAE7D,UAAU,CAACkD,SAAX,CAAqBY,UAFtB,CAGNC,GAAG,CAAE/D,UAAU,CAACkD,SAAX,CAAqBc,QAHpB,CALV,CAWE,IAAI,CAAE/C,cAAc,CAACd,IAXvB,CAYE,QAAQ,CAAEH,UAAU,CAACkD,SAAX,CAAqBe,SAZjC,CAaE,YAAY,CAAE,8BAAM/C,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBd,IAAI,CAAE,CAA3B,GAAvB,EAbhB,CAcE,UAAU,CAAE,4BAAMe,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBd,IAAI,CAAEc,cAAc,CAACd,IAAf,CAAoB,CAA/C,GAAvB,EAdd,CAeE,UAAU,CAAE,4BAAMe,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBd,IAAI,CAAEc,cAAc,CAACd,IAAf,CAAoB,CAA/C,GAAvB,EAfd,CAgBE,UAAU,CAAE,4BAAMe,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBd,IAAI,CAAEH,UAAU,CAACkD,SAAX,CAAqBe,SAAhD,GAAvB,EAhBd,CAkBE,IAAI,CAAEhD,cAAc,CAACN,IAlBvB,CAmBE,UAAU,CAAEM,cAAc,CAACH,UAnB7B,CAoBE,iBAAiB,CAAE,2BAACE,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBN,IAAI,gCAAMM,cAAc,CAACN,IAArB,MAA2BC,KAAK,CAAEI,KAAlC,EAAzB,GAA5B,EApBrB,CAqBE,qBAAqB,CAAE,+BAACA,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBN,IAAI,gCAAMM,cAAc,CAACN,IAArB,MAA2BE,SAAS,CAAEG,KAAtC,EAAzB,GAA5B,EArBzB,CAsBE,UAAU,CAAE,4BAAMjB,CAAAA,WAAW,CAACH,IAAI,CAACC,MAAL,EAAD,CAAjB,EAtBd,CAwBE,SAAS,cACP,YAAK,SAAS,CAAC,oBAAf,uBACE,gBAAQ,SAAS,CAAC,6BAAlB,CAAgD,OAAO,CAAE,yBAAMJ,CAAAA,OAAO,CAAC8D,MAAR,CAAeW,QAAf,CAAwB,8BAAxB,CAAwD,EAAxD,CAA4D,CAACC,MAAM,CAAE,IAAT,CAA5D,CAAN,EAAzD,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,WAAX,EADF,cAEE,mCAFF,cAGE,KAAC,IAAD,EAAM,IAAI,CAAC,SAAX,EAHF,GADF,EAzBJ,EAzCF,cA4EE,aAAK,SAAS,CAAC,UAAf,wBAGE,eAAO,SAAS,CAAE5F,UAAU,CAAC,OAAD,CAAU,gBAAV,CAA4B,CACtD6F,mBAAmB,CAAE5E,KAAK,CAACG,KAAN,CAAY0E,SAAZ,CAAsBC,EADW,CAA5B,CAA5B,wBAGE,mCACE,KAAC,gBAAD,EACE,QAAQ,cAAG,sCADb,CAGE,aAAa,CAAErD,cAAc,CAACN,IAAf,CAAoBC,KAApB,GAA8B,OAA9B,CAAwCK,cAAc,CAACN,IAAf,CAAoBE,SAA5D,CAAwE0D,SAHzF,CAIE,qBAAqB,CAAE,+BAACvD,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBN,IAAI,CAAE,CAACC,KAAK,CAAE,OAAR,CAAiBC,SAAS,CAAEG,KAA5B,CAA3B,GAA5B,EAJzB,CAME,YAAY,CAAE,8BAAMjB,CAAAA,WAAW,CAACH,IAAI,CAACC,MAAL,EAAD,CAAjB,EANhB,EADF,cASE,KAAC,gBAAD,EACE,QAAQ,cAAG,uCADb,CAGE,aAAa,CAAEoB,cAAc,CAACN,IAAf,CAAoBC,KAApB,GAA8B,eAA9B,CAAgDK,cAAc,CAACN,IAAf,CAAoBE,SAApE,CAAgF0D,SAHjG,CAIE,qBAAqB,CAAE,+BAACvD,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBN,IAAI,CAAE,CAACC,KAAK,CAAE,eAAR,CAAyBC,SAAS,CAAEG,KAApC,CAA3B,GAA5B,EAJzB,CAME,YAAY,CAAE,8BAAMjB,CAAAA,WAAW,CAACH,IAAI,CAACC,MAAL,EAAD,CAAjB,EANhB,EATF,cAiBE,KAAC,gBAAD,EACE,QAAQ,cAAG,8BADb,CAGE,kBAAkB,CAAE6C,oBAAoB,CAAC,MAAD,CAH1C,CAIE,kBAAkB,CAAE,4BAAC1B,KAAD,QAAW2B,CAAAA,YAAY,CAAC,MAAD,CAAS,KAAT,CAAgB3B,KAAhB,CAAvB,EAJtB,CAME,WAAW,CAAEhB,UAAU,CAACkD,SAAX,CAAqB9C,YAArB,CAAkCC,IAAlC,CAAuCmE,GAAvC,CAA2C,SAACC,UAAD,QAAiB,CACvEC,IAAI,CAAED,UADiE,CAEvEE,QAAQ,CAAEnC,gBAAgB,CAAC,MAAD,CAASiC,UAAT,CAF6C,CAAjB,EAA3C,CANf,CAUE,cAAc,CAAE,wBAACzD,KAAD,QAAW2B,CAAAA,YAAY,CAAC,MAAD,CAAS3B,KAAK,CAAC0D,IAAf,CAAqB1D,KAAK,CAAC2D,QAA3B,CAAvB,EAVlB,CAYE,aAAa,CAAE1D,cAAc,CAACN,IAAf,CAAoBC,KAApB,GAA8B,MAA9B,CAAuCK,cAAc,CAACN,IAAf,CAAoBE,SAA3D,CAAuE0D,SAZxF,CAaE,qBAAqB,CAAE,+BAACvD,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBN,IAAI,CAAE,CAACC,KAAK,CAAE,MAAR,CAAgBC,SAAS,CAAEG,KAA3B,CAA3B,GAA5B,EAbzB,CAeE,YAAY,CAAE,8BAAMjB,CAAAA,WAAW,CAACH,IAAI,CAACC,MAAL,EAAD,CAAjB,EAfhB,EAjBF,cAkCE,KAAC,gBAAD,EACE,QAAQ,cAAG,gCADb,CAGE,kBAAkB,CAAE6C,oBAAoB,CAAC,QAAD,CAH1C,CAIE,kBAAkB,CAAE,4BAAC1B,KAAD,QAAW2B,CAAAA,YAAY,CAAC,QAAD,CAAW,KAAX,CAAkB3B,KAAlB,CAAvB,EAJtB,CAME,WAAW,CAAEhB,UAAU,CAACkD,SAAX,CAAqB9C,YAArB,CAAkCE,MAAlC,CAAyCkE,GAAzC,CAA6C,SAACC,UAAD,QAAiB,CACzEC,IAAI,CAAED,UADmE,CAEzEE,QAAQ,CAAEnC,gBAAgB,CAAC,QAAD,CAAWiC,UAAX,CAF+C,CAAjB,EAA7C,CANf,CAUE,cAAc,CAAE,wBAACzD,KAAD,QAAW2B,CAAAA,YAAY,CAAC,QAAD,CAAW3B,KAAK,CAAC0D,IAAjB,CAAuB1D,KAAK,CAAC2D,QAA7B,CAAvB,EAVlB,CAYE,aAAa,CAAE1D,cAAc,CAACN,IAAf,CAAoBC,KAApB,GAA8B,QAA9B,CAAyCK,cAAc,CAACN,IAAf,CAAoBE,SAA7D,CAAyE0D,SAZ1F,CAaE,qBAAqB,CAAE,+BAACvD,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBN,IAAI,CAAE,CAACC,KAAK,CAAE,QAAR,CAAkBC,SAAS,CAAEG,KAA7B,CAA3B,GAA5B,EAbzB,CAeE,YAAY,CAAE,8BAAMjB,CAAAA,WAAW,CAACH,IAAI,CAACC,MAAL,EAAD,CAAjB,EAfhB,EAlCF,cAmDE,KAAC,gBAAD,EACE,QAAQ,cAAG,8BADb,CAGE,kBAAkB,CAAE6C,oBAAoB,CAAC,MAAD,CAH1C,CAIE,kBAAkB,CAAE,4BAAC1B,KAAD,QAAW2B,CAAAA,YAAY,CAAC,MAAD,CAAS,KAAT,CAAgB3B,KAAhB,CAAvB,EAJtB,CAME,WAAW,CAAEhB,UAAU,CAACkD,SAAX,CAAqB9C,YAArB,CAAkCG,IAAlC,CAAuCiE,GAAvC,CAA2C,SAACC,UAAD,QAAiB,CACvEC,IAAI,CAAED,UADiE,CAEvEE,QAAQ,CAAEnC,gBAAgB,CAAC,MAAD,CAASiC,UAAT,CAF6C,CAAjB,EAA3C,CANf,CAUE,cAAc,CAAE,wBAACzD,KAAD,QAAW2B,CAAAA,YAAY,CAAC,MAAD,CAAS3B,KAAK,CAAC0D,IAAf,CAAqB1D,KAAK,CAAC2D,QAA3B,CAAvB,EAVlB,CAYE,aAAa,CAAE1D,cAAc,CAACN,IAAf,CAAoBC,KAApB,GAA8B,MAA9B,CAAuCK,cAAc,CAACN,IAAf,CAAoBE,SAA3D,CAAuE0D,SAZxF,CAaE,qBAAqB,CAAE,+BAACvD,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBN,IAAI,CAAE,CAACC,KAAK,CAAE,MAAR,CAAgBC,SAAS,CAAEG,KAA3B,CAA3B,GAA5B,EAbzB,CAeE,YAAY,CAAE,8BAAMjB,CAAAA,WAAW,CAACH,IAAI,CAACC,MAAL,EAAD,CAAjB,EAfhB,EAnDF,cAoEE,KAAC,gBAAD,EACE,QAAQ,cAAG,iCADb,CAGE,kBAAkB,CAAE6C,oBAAoB,CAAC,SAAD,CAH1C,CAIE,kBAAkB,CAAE,4BAAC1B,KAAD,QAAW2B,CAAAA,YAAY,CAAC,SAAD,CAAY,KAAZ,CAAmB3B,KAAnB,CAAvB,EAJtB,CAME,WAAW,CAAEhB,UAAU,CAACkD,SAAX,CAAqB9C,YAArB,CAAkCI,OAAlC,CAA0CgE,GAA1C,CAA8C,SAACC,UAAD,QAAiB,CAC1EC,IAAI,CAAED,UADoE,CAE1EE,QAAQ,CAAEnC,gBAAgB,CAAC,SAAD,CAAYiC,UAAZ,CAFgD,CAAjB,EAA9C,CANf,CAUE,cAAc,CAAE,wBAACzD,KAAD,QAAW2B,CAAAA,YAAY,CAAC,SAAD,CAAY3B,KAAK,CAAC0D,IAAlB,CAAwB1D,KAAK,CAAC2D,QAA9B,CAAvB,EAVlB,CAYE,aAAa,CAAE1D,cAAc,CAACN,IAAf,CAAoBC,KAApB,GAA8B,SAA9B,CAA0CK,cAAc,CAACN,IAAf,CAAoBE,SAA9D,CAA0E0D,SAZ3F,CAaE,qBAAqB,CAAE,+BAACvD,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBN,IAAI,CAAE,CAACC,KAAK,CAAE,SAAR,CAAmBC,SAAS,CAAEG,KAA9B,CAA3B,GAA5B,EAbzB,CAeE,YAAY,CAAE,8BAAMjB,CAAAA,WAAW,CAACH,IAAI,CAACC,MAAL,EAAD,CAAjB,EAfhB,EApEF,cAqFE,KAAC,gBAAD,EACE,QAAQ,cAAG,mCADb,CAGE,kBAAkB,CAAE6C,oBAAoB,CAAC,WAAD,CAH1C,CAIE,kBAAkB,CAAE,4BAAC1B,KAAD,QAAW2B,CAAAA,YAAY,CAAC,WAAD,CAAc,KAAd,CAAqB3B,KAArB,CAAvB,EAJtB,CAME,WAAW,CAAEhB,UAAU,CAACkD,SAAX,CAAqB9C,YAArB,CAAkCK,SAAlC,CAA4C+D,GAA5C,CAAgD,SAACC,UAAD,QAAiB,CAC5EC,IAAI,CAAED,UADsE,CAE5EE,QAAQ,CAAEnC,gBAAgB,CAAC,WAAD,CAAciC,UAAd,CAFkD,CAAjB,EAAhD,CANf,CAUE,cAAc,CAAE,wBAACzD,KAAD,QAAW2B,CAAAA,YAAY,CAAC,WAAD,CAAc3B,KAAK,CAAC0D,IAApB,CAA0B1D,KAAK,CAAC2D,QAAhC,CAAvB,EAVlB,CAYE,aAAa,CAAE1D,cAAc,CAACN,IAAf,CAAoBC,KAApB,GAA8B,WAA9B,CAA4CK,cAAc,CAACN,IAAf,CAAoBE,SAAhE,CAA4E0D,SAZ7F,CAaE,qBAAqB,CAAE,+BAACvD,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBN,IAAI,CAAE,CAACC,KAAK,CAAE,WAAR,CAAqBC,SAAS,CAAEG,KAAhC,CAA3B,GAA5B,EAbzB,CAeE,YAAY,CAAE,8BAAMjB,CAAAA,WAAW,CAACH,IAAI,CAACC,MAAL,EAAD,CAAjB,EAfhB,EArFF,cAsGE,KAAC,gBAAD,EACE,QAAQ,cAAG,mCADb,CAGE,kBAAkB,CAAE6C,oBAAoB,CAAC,QAAD,CAH1C,CAIE,kBAAkB,CAAE,4BAAC1B,KAAD,QAAW2B,CAAAA,YAAY,CAAC,QAAD,CAAW,KAAX,CAAkB3B,KAAlB,CAAvB,EAJtB,CAME,WAAW,CAAEhB,UAAU,CAACkD,SAAX,CAAqB9C,YAArB,CAAkCM,MAAlC,CAAyC8D,GAAzC,CAA6C,SAACC,UAAD,QAAiB,CACzEC,IAAI,CAAED,UADmE,CAEzEE,QAAQ,CAAEnC,gBAAgB,CAAC,QAAD,CAAWiC,UAAX,CAF+C,CAAjB,EAA7C,CANf,CAUE,cAAc,CAAE,wBAACzD,KAAD,QAAW2B,CAAAA,YAAY,CAAC,QAAD,CAAW3B,KAAK,CAAC0D,IAAjB,CAAuB1D,KAAK,CAAC2D,QAA7B,CAAvB,EAVlB,CAYE,aAAa,CAAE1D,cAAc,CAACN,IAAf,CAAoBC,KAApB,GAA8B,QAA9B,CAAyCK,cAAc,CAACN,IAAf,CAAoBE,SAA7D,CAAyE0D,SAZ1F,CAaE,qBAAqB,CAAE,+BAACvD,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBN,IAAI,CAAE,CAACC,KAAK,CAAE,QAAR,CAAkBC,SAAS,CAAEG,KAA7B,CAA3B,GAA5B,EAbzB,CAeE,YAAY,CAAE,8BAAMjB,CAAAA,WAAW,CAACH,IAAI,CAACC,MAAL,EAAD,CAAjB,EAfhB,EAtGF,GAHF,CA2HGG,UAAU,CAAC4E,aAAX,CAAyBJ,GAAzB,CAA6B,SAACK,WAAD,CAAc/B,CAAd,qBAC5B,YAAY,OAAO,CAAE,yBAAMrD,CAAAA,OAAO,CAAC8D,MAAR,CAAeW,QAAf,CAAwB,+BAAxB,CAAyD,EAAzD,CAA6D,CAACC,MAAM,CAAE,IAAT,CAA7D,CAAN,EAArB,wBACE,iCACE,aAAK,SAAS,CAAC,gBAAf,wBACE,sBAAOU,WAAW,CAACC,KAAnB,EADF,cAEE,eAAQ,SAAS,CAAC,iBAAlB,uBACE,KAAC,IAAD,EAAM,IAAI,CAAC,QAAX,EADF,EAFF,GADF,EADF,cASE,oBAAKD,WAAW,CAACE,aAAjB,EATF,cAWE,WAAI,SAAS,CAAExG,UAAU,CAAC,CACxB,WAAYsG,WAAW,CAACxE,IAAZ,GAAqB,QADT,CAExB,aAAcwE,WAAW,CAACxE,IAAZ,GAAqB,QAFX,CAGxB,YAAa,CAAC,CAAC,QAAD,CAAW,QAAX,EAAqBoC,QAArB,CAA8BoC,WAAW,CAACxE,IAA1C,CAHU,CAAD,CAAzB,UAIKwE,WAAW,CAACxE,IAJjB,EAXF,cAiBE,oBAAKwE,WAAW,CAACvE,MAAjB,EAjBF,cAkBE,oBAAKuE,WAAW,CAACtE,IAAjB,EAlBF,cAmBE,oBAAKsE,WAAW,CAACrE,OAAjB,EAnBF,cAoBE,oBAAKqE,WAAW,CAACpE,SAAjB,EApBF,cAsBE,WAAI,SAAS,CAAElC,UAAU,CAAC,CACxB,WAAYsG,WAAW,CAACnE,MAAZ,GAAuB,KADX,CAExB,aAAcmE,WAAW,CAACnE,MAAZ,GAAuB,IAFb,CAAD,CAAzB,UAGKmE,WAAW,CAACnE,MAHjB,EAtBF,GAASoC,CAAT,CAD4B,EAA7B,CA3HH,GAHF,cA8JE,eAAO,SAAS,CAAEvE,UAAU,CAAC,OAAD,CAAU,gBAAV,CAA4B,kBAA5B,CAAgD,CAC1E6F,mBAAmB,CAAE5E,KAAK,CAACG,KAAN,CAAY0E,SAAZ,CAAsBC,EAD+B,CAAhD,CAA5B,wBAGE,aAHF,CAIGtE,UAAU,CAAC4E,aAAX,CAAyBJ,GAAzB,CAA6B,SAACK,WAAD,CAAc/B,CAAd,qBAC5B,YAAY,OAAO,CAAE,yBAAMrD,CAAAA,OAAO,CAAC8D,MAAR,CAAeW,QAAf,CAAwB,+BAAxB,CAAyD,EAAzD,CAA6D,CAACC,MAAM,CAAE,IAAT,CAA7D,CAAN,EAArB,wBACE,mCACE,qBAAMU,WAAW,CAACC,KAAlB,EADF,cAEE,qBAAMD,WAAW,CAACE,aAAlB,EAFF,GADF,cAKE,mCACE,qBAAMF,WAAW,CAACvE,MAAlB,EADF,cAEE,qBAAMuE,WAAW,CAACtE,IAAlB,EAFF,GALF,cASE,mCACE,qBAAMsE,WAAW,CAACrE,OAAlB,EADF,cAEE,YAAK,SAAS,CAAEjC,UAAU,CAAC,CAC3B,WAAYsG,WAAW,CAACxE,IAAZ,GAAqB,QADN,CAE3B,aAAcwE,WAAW,CAACxE,IAAZ,GAAqB,QAFR,CAG3B,YAAa,CAAC,CAAC,QAAD,CAAW,QAAX,EAAqBoC,QAArB,CAA8BoC,WAAW,CAACxE,IAA1C,CAHa,CAAD,CAA1B,UAIGwE,WAAW,CAACxE,IAJf,EAFF,GATF,cAiBE,mCACE,qBAAMwE,WAAW,CAACpE,SAAlB,EADF,cAEE,YAAK,SAAS,CAAElC,UAAU,CAAC,CAC3B,WAAYsG,WAAW,CAACnE,MAAZ,GAAuB,KADR,CAE3B,aAAcmE,WAAW,CAACnE,MAAZ,GAAuB,IAFV,CAAD,CAA1B,UAGGmE,WAAW,CAACnE,MAHf,EAFF,GAjBF,GAASoC,CAAT,CAD4B,EAA7B,CAJH,GA9JF,cAgME,YAAK,SAAS,CAAEvE,UAAU,CAAC,oBAAD,CAAuB,kBAAvB,CAA2C,CACnE6F,mBAAmB,CAAE5E,KAAK,CAACG,KAAN,CAAY0E,SAAZ,CAAsBC,EADwB,CAA3C,CAA1B,UAIGtE,UAAU,CAAC4E,aAAX,CAAyBJ,GAAzB,CAA6B,SAACK,WAAD,CAAc/B,CAAd,qBAC5B,aAAK,SAAS,CAAC,MAAf,CAA8B,OAAO,CAAE,yBAAMrD,CAAAA,OAAO,CAAC8D,MAAR,CAAeW,QAAf,CAAwB,+BAAxB,CAAyD,EAAzD,CAA6D,CAACC,MAAM,CAAE,IAAT,CAA7D,CAAN,EAAvC,wBAEE,aAAK,SAAS,CAAC,OAAf,wBAEE,aAAK,SAAS,CAAC,QAAf,wBACE,kCAAK,mBAAIU,WAAW,CAACC,KAAhB,EAAL,EADF,cAEE,qBACGD,WAAW,CAACE,aADf,EAFF,GAFF,cASE,aAAK,SAAS,CAAC,SAAf,wBACE,qBACGF,WAAW,CAACrE,OADf,EADF,cAIE,YAAK,SAAS,CAAEjC,UAAU,CAAC,CACzB,WAAYsG,WAAW,CAACxE,IAAZ,GAAqB,QADR,CAEzB,aAAcwE,WAAW,CAACxE,IAAZ,GAAqB,QAFV,CAGzB,YAAa,CAAC,CAAC,QAAD,CAAW,QAAX,EAAqBoC,QAArB,CAA8BoC,WAAW,CAACxE,IAA1C,CAHW,CAAD,CAA1B,UAKGwE,WAAW,CAACxE,IALf,EAJF,cAWE,YAAK,SAAS,CAAE9B,UAAU,CAAC,CACzB,WAAYsG,WAAW,CAACnE,MAAZ,GAAuB,KADV,CAEzB,aAAcmE,WAAW,CAACnE,MAAZ,GAAuB,IAFZ,CAAD,CAA1B,UAIGmE,WAAW,CAACnE,MAJf,EAXF,GATF,GAFF,cA+BE,aAAK,SAAS,CAAC,UAAf,wBAEE,aAAK,SAAS,CAAC,QAAf,wBACE,oCACE,aAAM,SAAS,CAAC,MAAhB,mBADF,cAEE,4BAAQmE,WAAW,CAACtE,IAApB,GAFF,GADF,cAKE,oCACE,aAAM,SAAS,CAAC,MAAhB,qBADF,cAEE,4BAAQsE,WAAW,CAACvE,MAApB,GAFF,GALF,GAFF,cAaE,YAAK,SAAS,CAAC,eAAf,uBACE,kCACE,mBAAIuE,WAAW,CAACpE,SAAhB,EADF,EADF,EAbF,GA/BF,GAA2BqC,CAA3B,CAD4B,EAA7B,CAJH,EAhMF,GA5EF,cAyUE,KAAC,mBAAD,EACE,OAAO,CAAE,IADX,CAGE,eAAe,CAAE,iCAAM/C,CAAAA,WAAW,CAACH,IAAI,CAACC,MAAL,EAAD,CAAjB,EAHnB,CAKE,MAAM,CAAE,CACN8D,KAAK,CAAE3D,UAAU,CAACkD,SAAX,CAAqBU,QADtB,CAENC,KAAK,CAAE7D,UAAU,CAACkD,SAAX,CAAqBY,UAFtB,CAGNC,GAAG,CAAE/D,UAAU,CAACkD,SAAX,CAAqBc,QAHpB,CALV,CAWE,IAAI,CAAE/C,cAAc,CAACd,IAXvB,CAYE,QAAQ,CAAEH,UAAU,CAACkD,SAAX,CAAqBe,SAZjC,CAaE,YAAY,CAAE,8BAAM/C,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBd,IAAI,CAAE,CAA3B,GAAvB,EAbhB,CAcE,UAAU,CAAE,4BAAMe,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBd,IAAI,CAAEc,cAAc,CAACd,IAAf,CAAoB,CAA/C,GAAvB,EAdd,CAeE,UAAU,CAAE,4BAAMe,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBd,IAAI,CAAEc,cAAc,CAACd,IAAf,CAAoB,CAA/C,GAAvB,EAfd,CAgBE,UAAU,CAAE,4BAAMe,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBd,IAAI,CAAEH,UAAU,CAACkD,SAAX,CAAqBe,SAAhD,GAAvB,EAhBd,CAkBE,IAAI,CAAEhD,cAAc,CAACN,IAlBvB,CAmBE,UAAU,CAAEM,cAAc,CAACH,UAnB7B,CAoBE,iBAAiB,CAAE,2BAACE,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBN,IAAI,gCAAMM,cAAc,CAACN,IAArB,MAA2BC,KAAK,CAAEI,KAAlC,EAAzB,GAA5B,EApBrB,CAqBE,qBAAqB,CAAE,+BAACA,KAAD,QAAWE,CAAAA,iBAAiB,gCAAKD,cAAL,MAAqBN,IAAI,gCAAMM,cAAc,CAACN,IAArB,MAA2BE,SAAS,CAAEG,KAAtC,EAAzB,GAA5B,EArBzB,CAsBE,UAAU,CAAE,4BAAMjB,CAAAA,WAAW,CAACH,IAAI,CAACC,MAAL,EAAD,CAAjB,EAtBd,EAzUF,GADS,CAmWP,IApWE,EAAR,CAsWD,CApewC,CAAzC,CAqeA,cAAeN,CAAAA,gCAAf","sourcesContent":["import axios from \"axios\"\nimport classNames from \"classnames\"\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { BaseLink, useRoute } from \"react-router5\"\nimport Icon from \"../../../components/Icon\"\nimport ReportFilters from \"../../../components/reports/Filters\"\nimport ReportTableControls from \"../../../components/reports/TableControls\"\nimport ReportTableField from \"../../../components/reports/TableField\"\nimport { httpClient, nError } from \"../../../funcs/base\"\nimport { CallCenter_PhoneNumber } from \"../../../models/CallCenter\"\nimport Client from \"../../../models/Client\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../../store\";\n\nimport \"../../../styles/pages/common/report-list.sass\"\nimport {getActiveAccount} from \"../../../funcs\";\nimport Account from \"../../../models/Account\";\nimport qs from \"qs\";\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\ntype FilterWord = 'type' | 'source' | 'area' | 'company' | 'call_flow' | 'active'\n\ninterface PhoneNumbersReport {\n\n  interface: {\n\n    filter_words: {\n\n      type: string[],\n      source: string[],\n      area: string[],\n      company: string[],\n      call_flow: string[],\n      active: string[]\n    },\n\n    max_pages: number,\n    rows_start: number,\n    rows_end: number,\n    rows_all: number,\n  },\n\n  permissions: {\n    show_phone_number: boolean,\n    add_phone_number: boolean\n  },\n\n  phone_numbers: CallCenter_PhoneNumber[]\n}\n\nconst CallCenter_PhoneNumbersPage_List = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const $router = useRoute()\n\n  const activeAccount = getActiveAccount(props.store) as Account;\n  const [$updater, $setUpdater] = useState<any>(Math.random())\n\n  const [reportData, setReportData] = useState<PhoneNumbersReport | null>(null)\n  const [localInterface, setLocalInterface] = useState({\n\n    search: '',\n\n    page: 1,\n\n    filter_words: {\n\n      type: [] as string[],\n      source: [] as string[],\n      area: [] as string[],\n      company: [] as string[],\n      call_flow: [] as string[],\n      active: [] as string[],\n    },\n\n    sort: {\n      field: 'phone',\n      direction: 'up' as 'up' | 'down'\n    },\n    sortFields: [{\n      span: 'Phone Number',\n      value: 'phone'\n    },{\n      span: 'Friendly Name',\n      value: 'friendly_name'\n    },{\n      span: 'Type',\n      value: 'type'\n    },{\n      span: 'Source',\n      value: 'source'\n    },{\n      span: 'Area',\n      value: 'area'\n    },{\n      span: 'Company',\n      value: 'company'\n    },{\n      span: 'Call Flow',\n      value: 'call_flow'\n    },{\n      span: 'Available',\n      value: 'active'\n    }]\n\n  })\n\n  // Load clients function\n  async function loadClients() {\n\n    httpClient.defaults.headers['Authorization'] = `Bearer ${props.store.accessToken}`\n    \n    let activeFilters: any = {...localInterface.filter_words}\n    Object.keys(localInterface.filter_words).forEach((key: any) => !activeFilters[key].length && delete activeFilters[key])\n\n    try {\n      const { data: clients } = (await httpClient.post('/phonenumbers/report', qs.stringify({\n        account_id: activeAccount.account_id,\n        limit_rows: props.store.reportsMaxRows,\n        page: localInterface.page,\n        sort_field: localInterface.sort.field,\n        sort_type: localInterface.sort.direction === 'up' ? 'asc' : 'desc',\n        filter_field: JSON.stringify(activeFilters),\n        ...(localInterface.search ? {search: localInterface.search} : {})\n      }))) as {data: PhoneNumbersReport}\n\n      setReportData(clients)\n    }\n    catch (error) {\n      nError(error)\n    }\n\n  }\n\n  // Load clients on page mount\n  useEffect(() => { loadClients() }, [\n    $updater,\n    localInterface.page,\n  ])\n\n  // Is filter selected function\n  function isFilterSelected(field: FilterWord, value: string) {\n    return localInterface.filter_words[field].includes(value)\n  }\n\n  function isAllFiltersSelected(field: FilterWord) {\n    return localInterface.filter_words[field].length === 0\n  }\n\n  function switchFilter(field: FilterWord, value: string, toggle: boolean) {\n\n    let _arr = [...localInterface.filter_words[field]]\n\n    if (toggle && value === \"All\") { _arr = [] }\n    \n    else if (!toggle) {\n\n      while (true) {\n        let i = _arr.findIndex((filter) => filter === value)\n        if(i === -1) break\n        _arr.splice(i, 1)\n      }\n    }\n      \n    else {\n\n      if (reportData?.interface.filter_words[field].every((option) => _arr.concat([value]).includes(option)))\n        _arr = []\n\n      else if(_arr.findIndex((filter) => filter === value) === -1)\n        _arr.push(value)\n    }\n\n    setLocalInterface({...localInterface, filter_words: {...localInterface.filter_words, [field]: _arr}})\n  }\n\n  // Render function\n  return (<>\n    {reportData ? (\n      <div className=\"CallCenter_PhoneNumbersPage_List\" >\n\n        {/* Top navigation */}\n        <div className=\"top-nav\">\n          <BaseLink router={$router.router} routeName=\"call_center.phoneNumbers\" className={classNames({_active: $router.route.name === \"call_center.phoneNumbers\"})}>\n            <Icon icon=\"phone-1\" />\n            <span>Phone Numbers</span>\n          </BaseLink>\n\n          <BaseLink router={$router.router} routeName=\"call_center.dispatchers\" className={classNames({_active: $router.route.name === \"call_center.dispatchers\"})}>\n            <Icon icon=\"user-1\" />\n            <span>Dispatchers</span>\n          </BaseLink>\n\n          <BaseLink router={$router.router} routeName=\"call_center.groups\" className={classNames({_active: $router.route.name === \"call_center.groups\"})}>\n            <Icon icon=\"user-29\" />\n            <span>Groups</span>\n          </BaseLink>\n\n          <BaseLink router={$router.router} routeName=\"call_center.callFlows\" className={classNames({_active: $router.route.name === \"call_center.callFlows\"})}>\n            <Icon icon=\"share-7\" />\n            <span>Call Flows</span>\n          </BaseLink>\n\n          <BaseLink router={$router.router} routeName=\"call_center.settings\" className={classNames({_active: $router.route.name === \"call_center.settings\"})}>\n            <Icon icon=\"gear-1\" />\n            <span>Settings</span>\n          </BaseLink>\n        </div>\n\n        { /* List filters */}\n        <ReportFilters\n          onSearchInputChange={(value) => setLocalInterface({...localInterface, search: value})}\n\n          onUpdate={() => {\n            loadClients();\n\n          }}\n        />\n\n        {/* Table controls */}\n        <ReportTableControls\n          zIndex={5}\n          \n          onMaxRowsChange={() => $setUpdater(Math.random())}\n\n          amount={{\n            total: reportData.interface.rows_all,\n            start: reportData.interface.rows_start,\n            end: reportData.interface.rows_end\n          }}\n\n          page={localInterface.page}\n          maxPages={reportData.interface.max_pages}\n          onPagesStart={() => setLocalInterface({...localInterface, page: 1})}\n          onPrevPage={() => setLocalInterface({...localInterface, page: localInterface.page-1})}\n          onNextPage={() => setLocalInterface({...localInterface, page: localInterface.page+1})}\n          onPagesEnd={() => setLocalInterface({...localInterface, page: reportData.interface.max_pages})}\n          \n          sort={localInterface.sort}\n          sortFields={localInterface.sortFields}\n          onSortFieldChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, field: value}})}\n          onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, direction: value}})}\n          onSortFire={() => $setUpdater(Math.random())}\n\n          addButton={(\n            <div className=\"add-button-wrapper\">\n              <button className=\"_iconed _rounded add-button\" onClick={() => $router.router.navigate('call_center.phoneNumbers.new', {}, {reload: true})}>\n                <Icon icon=\"plus-thin\" />\n                <span>Add Phone</span>\n                <Icon icon=\"phone-1\" />\n              </button>\n            </div>\n          )}\n        />\n\n        <div className=\"contents\">\n\n          {/* Wide desktop table */}\n          <table className={classNames('table', '__show-on-wide', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <ReportTableField\n                contents={(<span>Phone Number</span>)}\n\n                sortDirection={localInterface.sort.field === 'phone' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'phone', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Friendly Name</span>)}\n\n                sortDirection={localInterface.sort.field === 'friendly_name' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'friendly_name', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Type</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"type\")}\n                onAllFiltersChange={(value) => switchFilter(\"type\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.type.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"type\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"type\", value.word, value.selected)}\n\n                sortDirection={localInterface.sort.field === 'type' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'type', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Source</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"source\")}\n                onAllFiltersChange={(value) => switchFilter(\"source\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.source.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"source\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"source\", value.word, value.selected)}\n                \n                sortDirection={localInterface.sort.field === 'source' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'source', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Area</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"area\")}\n                onAllFiltersChange={(value) => switchFilter(\"area\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.area.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"area\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"area\", value.word, value.selected)}\n\n                sortDirection={localInterface.sort.field === 'area' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'area', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Company</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"company\")}\n                onAllFiltersChange={(value) => switchFilter(\"company\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.company.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"company\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"company\", value.word, value.selected)}\n\n                sortDirection={localInterface.sort.field === 'company' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'company', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Call Flow</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"call_flow\")}\n                onAllFiltersChange={(value) => switchFilter(\"call_flow\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.call_flow.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"call_flow\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"call_flow\", value.word, value.selected)}\n\n                sortDirection={localInterface.sort.field === 'call_flow' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'call_flow', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Available</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"active\")}\n                onAllFiltersChange={(value) => switchFilter(\"active\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.active.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"active\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"active\", value.word, value.selected)}\n\n                sortDirection={localInterface.sort.field === 'active' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'active', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n            </tr>\n            {reportData.phone_numbers.map((phoneNumber, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('call_center.phoneNumbers.item', {}, {reload: true})}>\n                <td>\n                  <div className=\"flex-container\">\n                    <span>{phoneNumber.phone}</span>\n                    <button className=\"_zeroed _iconed\">\n                      <Icon icon=\"gear-1\"/>\n                    </button>\n                  </div>\n                </td>\n                <td>{phoneNumber.friendly_name}</td>\n\n                <td className={classNames({\n                  'red-text': phoneNumber.type === 'System',\n                  'green-text': phoneNumber.type === 'Source',\n                  'blue-text': !['System', 'Source'].includes(phoneNumber.type)\n                })}>{phoneNumber.type}</td>\n\n                <td>{phoneNumber.source}</td>\n                <td>{phoneNumber.area}</td>\n                <td>{phoneNumber.company}</td>\n                <td>{phoneNumber.call_flow}</td>\n\n                <td className={classNames({\n                  'red-text': phoneNumber.active === 'Off',\n                  'green-text': phoneNumber.active === 'On',\n                })}>{phoneNumber.active}</td>\n              </tr>\n            ))}\n          </table>\n\n          {/* Medium screen table */}\n          <table className={classNames('table', '__hide-on-wide', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr></tr>\n            {reportData.phone_numbers.map((phoneNumber, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('call_center.phoneNumbers.item', {}, {reload: true})}>\n                <td>\n                  <div>{phoneNumber.phone}</div>\n                  <div>{phoneNumber.friendly_name}</div>\n                </td>\n                <td>\n                  <div>{phoneNumber.source}</div>\n                  <div>{phoneNumber.area}</div>\n                </td>\n                <td>\n                  <div>{phoneNumber.company}</div>\n                  <div className={classNames({\n                  'red-text': phoneNumber.type === 'System',\n                  'green-text': phoneNumber.type === 'Source',\n                  'blue-text': !['System', 'Source'].includes(phoneNumber.type)\n                })}>{phoneNumber.type}</div>\n                </td>\n                <td>\n                  <div>{phoneNumber.call_flow}</div>\n                  <div className={classNames({\n                  'red-text': phoneNumber.active === 'Off',\n                  'green-text': phoneNumber.active === 'On',\n                })}>{phoneNumber.active}</div>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          {/* Mobile table items */}\n          <div className={classNames('mobile-table-items', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            {reportData.phone_numbers.map((phoneNumber, i: number) => (\n              <div className=\"item\" key={i} onClick={() => $router.router.navigate('call_center.phoneNumbers.item', {}, {reload: true})}>\n\n                <div className=\"__top\">\n\n                  <div className=\"__left\">\n                    <div><b>{phoneNumber.phone}</b></div>\n                    <div>\n                      {phoneNumber.friendly_name}\n                    </div>\n                  </div>\n\n                  <div className=\"__right\">\n                    <div>\n                      {phoneNumber.company}\n                    </div>\n                    <div className={classNames({\n                      'red-text': phoneNumber.type === 'System',\n                      'green-text': phoneNumber.type === 'Source',\n                      'blue-text': !['System', 'Source'].includes(phoneNumber.type)\n                    })}>\n                      {phoneNumber.type}\n                    </div>\n                    <div className={classNames({\n                      'red-text': phoneNumber.active === 'Off',\n                      'green-text': phoneNumber.active === 'On',\n                    })}>\n                      {phoneNumber.active}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"__bottom\">\n\n                  <div className=\"__left\">\n                    <div>\n                      <span className=\"gray\">Area:</span>\n                      <span> {phoneNumber.area}</span>\n                    </div>\n                    <div>\n                      <span className=\"gray\">Source:</span>\n                      <span> {phoneNumber.source}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"__right small\">\n                    <div>\n                      <b>{phoneNumber.call_flow}</b>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Table controls */}\n        <ReportTableControls\n          isUnder={true}\n\n          onMaxRowsChange={() => $setUpdater(Math.random())}\n\n          amount={{\n            total: reportData.interface.rows_all,\n            start: reportData.interface.rows_start,\n            end: reportData.interface.rows_end\n          }}\n\n          page={localInterface.page}\n          maxPages={reportData.interface.max_pages}\n          onPagesStart={() => setLocalInterface({...localInterface, page: 1})}\n          onPrevPage={() => setLocalInterface({...localInterface, page: localInterface.page-1})}\n          onNextPage={() => setLocalInterface({...localInterface, page: localInterface.page+1})}\n          onPagesEnd={() => setLocalInterface({...localInterface, page: reportData.interface.max_pages})}\n          \n          sort={localInterface.sort}\n          sortFields={localInterface.sortFields}\n          onSortFieldChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, field: value}})}\n          onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, direction: value}})}\n          onSortFire={() => $setUpdater(Math.random())}\n        />\n      </div>\n    ) : null}\n  </>)\n})\nexport default CallCenter_PhoneNumbersPage_List\n"]},"metadata":{},"sourceType":"module"}