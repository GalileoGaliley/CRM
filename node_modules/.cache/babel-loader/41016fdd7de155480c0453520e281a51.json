{"ast":null,"code":"import _defineProperty from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/regenerator/index.js\";import classNames from\"classnames\";import moment from\"moment\";import{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{useRoute}from\"react-router5\";import{Transition}from\"react-transition-group\";import Checkbox from\"../../components/Checkbox\";import Icon from\"../../components/Icon\";import ReportFilters from\"../../components/reports/Filters\";import ReportTableControls from\"../../components/reports/TableControls\";import ReportTableField from\"../../components/reports/TableField\";import Select from\"../../components/Select\";import{nError}from\"../../funcs/base\";import{getDateRangeByPreset}from\"../../funcs/reports\";import{mapDispatchToProps,mapStateToProps}from\"../../store\";import\"../../styles/pages/common/report-list.sass\";import{getActiveAccount,httpClient}from\"../../funcs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar CallsNumbersPage_List=connect(mapStateToProps,mapDispatchToProps)(function(props){var $router=useRoute();var activeAccount=getActiveAccount(props.store);var _useState=useState(Math.random()),_useState2=_slicedToArray(_useState,2),$updater=_useState2[0],$setUpdater=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),topFilterShown=_useState4[0],setTopFilterShown=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),hashtagFilterShown=_useState6[0],setHashtagFilterShown=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),reportIsDeprecated=_useState8[0],setReportIsDeprecated=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),reportData=_useState10[0],setReportData=_useState10[1];var _useState11=useState({search:'',dateRangeCalendarShown:false,dateRangePreset:\"custom\",min_date:new Date(),max_date:new Date(),page:1,max_rows:100,filter_words:{source:[],area:[]},tag_words:[],searchFilters:[[\"Inboud\",\"Outbound\"],[\"Source\",\"System\"]],selectedSearchFilters:[[],[\"Source\"]],sort:{field:'number',direction:'up'},sortFields:[{span:'Number',value:'number'},{span:'Friendly Name',value:'friendly_name'},{span:'Source',value:'source'},{span:'Area',value:'area'},{span:'Total calls',value:'total_calls'},{span:'Completed',value:'completed_calls'},{span:'Unanswered',value:'unanswered_calls'},{span:'Avg Duration',value:'avg_duration'},{span:'Total appointments',value:'total_appointments'}]}),_useState12=_slicedToArray(_useState11,2),localInterface=_useState12[0],setLocalInterface=_useState12[1];// Watch date range preset\nuseEffect(function(){if(!reportData)return;setLocalInterface(_objectSpread(_objectSpread({},localInterface),getDateRangeByPreset(localInterface.dateRangePreset,reportData===null||reportData===void 0?void 0:reportData.interface.min_date,reportData===null||reportData===void 0?void 0:reportData.interface.max_date)));},[localInterface.dateRangePreset]);// Load calls function\nfunction loadCalls(){return _loadCalls.apply(this,arguments);}// Watch for deprecated\nfunction _loadCalls(){_loadCalls=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var activeFilters,_ref,calls;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:httpClient.defaults.headers['Authorization']=\"Bearer \".concat(props.store.accessToken);activeFilters=_objectSpread({},localInterface.filter_words);Object.keys(localInterface.filter_words).forEach(function(key){return!activeFilters[key].length&&delete activeFilters[key];});_context.prev=3;_context.next=6;return httpClient.post('/calls/report/numbers',_objectSpread({account_id:activeAccount.account_id,limit_rows:props.store.reportsMaxRows,page:localInterface.page,date_start:localInterface.min_date.toISOString(),date_end:localInterface.max_date.toISOString(),filter_tag:localInterface.tag_words,sort_field:localInterface.sort.field,sort_type:localInterface.sort.direction==='up'?'asc':'desc',filter_field:JSON.stringify(activeFilters)},localInterface.search?{search:localInterface.search}:{}));case 6:_ref=_context.sent;calls=_ref.data;setReportData(_objectSpread(_objectSpread({},calls),{},{interface:_objectSpread(_objectSpread({},calls.interface),{},{min_date:moment(calls.interface.min_date).startOf('day').toDate(),max_date:moment(calls.interface.max_date).startOf('day').toDate()})}));setTimeout(function(){setReportIsDeprecated(false);},100);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](3);nError(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[3,12]]);}));return _loadCalls.apply(this,arguments);}useEffect(function(){if(!reportData)return;setReportIsDeprecated(true);},[localInterface.min_date,localInterface.max_date]);// Load calls on page mount\nuseEffect(function(){loadCalls();},[$updater,localInterface.page]);// Is filter selected function\nfunction isFilterSelected(field,value){return localInterface.filter_words[field].includes(value);}// Is all filters selected function\nfunction isAllFiltersSelected(field){return localInterface.filter_words[field].length===0;}// Filter switch function\nfunction switchFilter(field,value,toggle){var _arr=_toConsumableArray(localInterface.filter_words[field]);if(toggle&&value===\"All\"){_arr=[];}else if(!toggle){while(true){var i=_arr.findIndex(function(filter){return filter===value;});if(i===-1)break;_arr.splice(i,1);}}else{if(reportData!==null&&reportData!==void 0&&reportData.interface.filter_words[field].every(function(option){return _arr.concat([value]).includes(option);}))_arr=[];else if(_arr.findIndex(function(filter){return filter===value;})===-1)_arr.push(value);}setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{filter_words:_objectSpread(_objectSpread({},localInterface.filter_words),{},_defineProperty({},field,_arr))}));}// Is tag_word selected function\nfunction isTagWordSelected(value){return localInterface.tag_words.includes(value);}// Is all tag words selected function\nfunction isAllTagWordsSelected(){return localInterface.tag_words.length===0;}// Toggle tagword function\nfunction switchTagWord(value,toggle){var _arr=_toConsumableArray(localInterface.tag_words);if(toggle&&value===\"All\"){_arr=[];}else if(!toggle){while(true){var i=_arr.findIndex(function(filter){return filter===value;});if(i===-1)break;_arr.splice(i,1);}}else{if(reportData!==null&&reportData!==void 0&&reportData.interface.tag_words.every(function(option){return _arr.concat([value]).includes(option);})){_arr=[];}else if(_arr.findIndex(function(filter){return filter===value;})===-1)_arr.push(value);}setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{tag_words:_arr}));}// Is search field selected function\nfunction isSearchFilterSelected(i,value){return localInterface.selectedSearchFilters[i].includes(value);}// Is all search fields selected function\nfunction isAllSearchFiltersSelected(i){return localInterface.selectedSearchFilters[i].length===0;}// Toggle search filter function\nfunction switchSearchFilter(i,value,toggle){var $arr=_toConsumableArray(localInterface.selectedSearchFilters);var _arr=_toConsumableArray($arr[i]);if(toggle&&value===\"All\"){_arr=[];}else if(!toggle){while(true){var _i=_arr.findIndex(function(filter){return filter===value;});if(_i===-1)break;_arr.splice(_i,1);}}else{if(localInterface.searchFilters[i].every(function(option){return _arr.concat([value]).includes(option);})){_arr=[];}else if(_arr.findIndex(function(filter){return filter===value;})===-1)_arr.push(value);}$arr[i]=_arr;setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{selectedSearchFilters:$arr}));}// Render function\nreturn/*#__PURE__*/_jsx(_Fragment,{children:reportData?/*#__PURE__*/_jsxs(\"div\",{className:\"CallsNumbersPage_List\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reports-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cell\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"amount\",children:reportData.dashboard.calls}),/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Calls\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cell\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"amount\",children:reportData.dashboard.callers}),/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Callers\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cell\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"amount\",children:reportData.dashboard.missed_calls}),/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Missed Calls\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cell\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"amount\",children:reportData.dashboard.active_calls}),/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Active Calls\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Numbers\"})}),/*#__PURE__*/_jsx(ReportFilters,{onSearchInputChange:function onSearchInputChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{search:value}));},dateRangePreset:localInterface.dateRangePreset,onDateRangePresetChange:function onDateRangePresetChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{dateRangePreset:value}));},minDate:localInterface.min_date,onMinDateChange:function onMinDateChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{min_date:value}));},maxDate:localInterface.max_date,onMaxDateChange:function onMaxDateChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{max_date:value}));},updateButtonActive:reportIsDeprecated,onUpdate:function onUpdate(){return setReportIsDeprecated(false);},childrenAfterSearch:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{tabIndex:-1,className:\"filter-button\",onFocus:function onFocus(){return setTopFilterShown(true);},onBlur:function onBlur(e){return!e.currentTarget.contains(e.relatedTarget)&&setTopFilterShown(false);},children:[/*#__PURE__*/_jsx(\"button\",{className:classNames(\"_wa\",\"_rounded\",\"_iconed\",{_blue:!isAllSearchFiltersSelected(0)||!isAllSearchFiltersSelected(1)}),children:/*#__PURE__*/_jsx(Icon,{icon:\"filter-8\"})}),/*#__PURE__*/_jsx(Transition,{in:topFilterShown,mountOnEnter:true,unmountOnExit:true,timeout:210,children:function children(state){return/*#__PURE__*/_jsxs(\"div\",{className:classNames(\"filter-wrapper\",\"transition-fade-\".concat(state)),children:[/*#__PURE__*/_jsx(Checkbox,{contents:\"All\",value:isAllSearchFiltersSelected(0),onChange:function onChange(value){return switchSearchFilter(0,\"All\",value);}}),localInterface.searchFilters[0].map(function(option,i){return/*#__PURE__*/_jsx(Checkbox,{contents:option,value:isSearchFilterSelected(0,option),onChange:function onChange(value){return switchSearchFilter(0,option,value);}});}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Checkbox,{contents:\"All\",value:isAllSearchFiltersSelected(1),onChange:function onChange(value){return switchSearchFilter(1,\"All\",value);}}),localInterface.searchFilters[1].map(function(option,i){return/*#__PURE__*/_jsx(Checkbox,{contents:option,value:isSearchFilterSelected(1,option),onChange:function onChange(value){return switchSearchFilter(1,option,value);}});}),/*#__PURE__*/_jsx(\"button\",{className:\"_bordered _blue _wa\",children:\"Filter\"})]});}})]}),/*#__PURE__*/_jsxs(\"div\",{tabIndex:-1,className:\"filter-button\",onFocus:function onFocus(){return setHashtagFilterShown(true);},onBlur:function onBlur(e){return!e.currentTarget.contains(e.relatedTarget)&&setHashtagFilterShown(false);},children:[/*#__PURE__*/_jsx(\"button\",{className:classNames(\"_wa\",\"_rounded\",\"_iconed\",{_blue:!isAllTagWordsSelected()}),children:/*#__PURE__*/_jsx(Icon,{icon:\"hashtag-1\"})}),/*#__PURE__*/_jsx(Transition,{in:hashtagFilterShown,mountOnEnter:true,unmountOnExit:true,timeout:210,children:function children(state){return/*#__PURE__*/_jsxs(\"div\",{className:classNames(\"filter-wrapper\",\"transition-fade-\".concat(state)),children:[/*#__PURE__*/_jsx(Checkbox,{contents:\"All\",value:isAllTagWordsSelected(),onChange:function onChange(value){return switchTagWord(\"All\",value);}}),reportData.interface.tag_words.map(function(option,i){return/*#__PURE__*/_jsx(Checkbox,{contents:option,value:isTagWordSelected(option),onChange:function onChange(value){return switchTagWord(option,value);}},i);}),/*#__PURE__*/_jsx(\"button\",{className:\"_bordered _blue _wa\",children:\"Filter\"})]});}})]})]}),childrenBeforeDateType:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Select,{zeroed:true,options:[{span:'Calls',value:'calls'},{span:'Sources',value:'calls.sources'},{span:'Area',value:'calls.areas'},{span:'Numbers',value:'calls.numbers'}],selectedOption:\"calls.numbers\",onChange:function onChange(value){return $router.router.navigate(value,{},{reload:true});}})})})}),/*#__PURE__*/_jsx(ReportTableControls,{zIndex:5,onMaxRowsChange:function onMaxRowsChange(){return $setUpdater(Math.random());},amount:{total:reportData.interface.rows_all,start:reportData.interface.rows_start,end:reportData.interface.rows_end},page:localInterface.page,maxPages:reportData.interface.max_pages,onPagesStart:function onPagesStart(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:1}));},onPrevPage:function onPrevPage(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:localInterface.page-1}));},onNextPage:function onNextPage(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:localInterface.page+1}));},onPagesEnd:function onPagesEnd(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:reportData.interface.max_pages}));},sort:localInterface.sort,sortFields:localInterface.sortFields,onSortFieldChange:function onSortFieldChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:_objectSpread(_objectSpread({},localInterface.sort),{},{field:value})}));},onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:_objectSpread(_objectSpread({},localInterface.sort),{},{direction:value})}));},onSortFire:function onSortFire(){return 0;}}),/*#__PURE__*/_jsxs(\"div\",{className:\"contents\",children:[/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__show-on-wide',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Number\"}),sortDirection:localInterface.sort.field==='phone'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'phone',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Friendly Name\"}),sortDirection:localInterface.sort.field==='friendly_name'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'friendly_name',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Source\"}),allFiltersSelected:isAllFiltersSelected(\"source\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"source\",\"All\",value);},filterWords:reportData.interface.filter_words.source.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"source\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"source\",value.word,value.selected);},sortDirection:localInterface.sort.field==='source'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'source',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Area\"}),allFiltersSelected:isAllFiltersSelected(\"area\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"area\",\"All\",value);},filterWords:reportData.interface.filter_words.area.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"area\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"area\",value.word,value.selected);},sortDirection:localInterface.sort.field==='area'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'area',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Total Calls\"}),sortDirection:localInterface.sort.field==='total_calls'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'total_calls',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Completed\"}),sortDirection:localInterface.sort.field==='completed_calls'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'completed_calls',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Unanswered\"}),sortDirection:localInterface.sort.field==='unanswered_calls'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'unanswered_calls',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Avg Duration\"}),sortDirection:localInterface.sort.field==='avg_duration'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'avg_duration',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Total appointments\"}),sortDirection:localInterface.sort.field==='total_appointments'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'total_appointments',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}})]}),reportData.numbers.map(function(callsNumber,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:callsNumber.number}),/*#__PURE__*/_jsx(\"td\",{children:callsNumber.friendly_name}),/*#__PURE__*/_jsx(\"td\",{children:callsNumber.source}),/*#__PURE__*/_jsx(\"td\",{children:callsNumber.area}),/*#__PURE__*/_jsx(\"td\",{children:callsNumber.total_calls}),/*#__PURE__*/_jsx(\"td\",{children:callsNumber.completed_calls}),/*#__PURE__*/_jsx(\"td\",{children:callsNumber.unanswered_calls}),/*#__PURE__*/_jsx(\"td\",{children:callsNumber.avg_duration}),/*#__PURE__*/_jsx(\"td\",{children:callsNumber.total_appointments})]},i);})]}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__hide-on-wide','__hide-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsx(\"tr\",{}),reportData.numbers.map(function(callNumber,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:callNumber.number}),/*#__PURE__*/_jsx(\"div\",{children:callNumber.friendly_name})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:callNumber.area}),/*#__PURE__*/_jsx(\"div\",{children:callNumber.source})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Completed: \",callNumber.completed_calls]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Unanswered: \",callNumber.unanswered_calls]})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[\"Total appointments: \",callNumber.total_appointments]})})]},i);})]}),/*#__PURE__*/_jsx(\"div\",{className:classNames('mobile-table-items','__show-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:reportData.numbers.map(function(callsNumber,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:callsNumber.number})}),/*#__PURE__*/_jsx(\"div\",{children:callsNumber.friendly_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Total calls: \",/*#__PURE__*/_jsx(\"span\",{className:\"fw500\",children:callsNumber.total_calls})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Completed: \",/*#__PURE__*/_jsx(\"span\",{className:\"green fw500\",children:callsNumber.completed_calls})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Unanswered: \",/*#__PURE__*/_jsx(\"span\",{className:\"red fw500\",children:callsNumber.unanswered_calls})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Avg Duration:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",callsNumber.avg_duration]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Total appointments:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",callsNumber.total_appointments]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Area:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",callsNumber.area]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Source:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",callsNumber.source]})]})]})]})]},i);})})]}),/*#__PURE__*/_jsx(ReportTableControls,{isUnder:true,onMaxRowsChange:function onMaxRowsChange(){return $setUpdater(Math.random());},amount:{total:reportData.interface.rows_all,start:reportData.interface.rows_start,end:reportData.interface.rows_end},page:localInterface.page,maxPages:reportData.interface.max_pages,onPagesStart:function onPagesStart(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:1}));},onPrevPage:function onPrevPage(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:localInterface.page-1}));},onNextPage:function onNextPage(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:localInterface.page+1}));},onPagesEnd:function onPagesEnd(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:reportData.interface.max_pages}));},sort:localInterface.sort,sortFields:localInterface.sortFields,onSortFieldChange:function onSortFieldChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:_objectSpread(_objectSpread({},localInterface.sort),{},{field:value})}));},onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:_objectSpread(_objectSpread({},localInterface.sort),{},{direction:value})}));},onSortFire:function onSortFire(){return 0;}})]}):null});});export default CallsNumbersPage_List;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/Calls/NumbersList.tsx"],"names":["classNames","moment","useEffect","useState","connect","useRoute","Transition","Checkbox","Icon","ReportFilters","ReportTableControls","ReportTableField","Select","nError","getDateRangeByPreset","mapDispatchToProps","mapStateToProps","getActiveAccount","httpClient","CallsNumbersPage_List","props","$router","activeAccount","store","Math","random","$updater","$setUpdater","topFilterShown","setTopFilterShown","hashtagFilterShown","setHashtagFilterShown","reportIsDeprecated","setReportIsDeprecated","reportData","setReportData","search","dateRangeCalendarShown","dateRangePreset","min_date","Date","max_date","page","max_rows","filter_words","source","area","tag_words","searchFilters","selectedSearchFilters","sort","field","direction","sortFields","span","value","localInterface","setLocalInterface","interface","loadCalls","defaults","headers","accessToken","activeFilters","Object","keys","forEach","key","length","post","account_id","limit_rows","reportsMaxRows","date_start","toISOString","date_end","filter_tag","sort_field","sort_type","filter_field","JSON","stringify","calls","data","startOf","toDate","setTimeout","isFilterSelected","includes","isAllFiltersSelected","switchFilter","toggle","_arr","i","findIndex","filter","splice","every","option","concat","push","isTagWordSelected","isAllTagWordsSelected","switchTagWord","isSearchFilterSelected","isAllSearchFiltersSelected","switchSearchFilter","$arr","dashboard","callers","missed_calls","active_calls","e","currentTarget","contains","relatedTarget","_blue","state","map","router","navigate","reload","total","rows_all","start","rows_start","end","rows_end","max_pages","__respectAsidePanel","navActive","is","undefined","filterWord","word","selected","numbers","callsNumber","number","friendly_name","total_calls","completed_calls","unanswered_calls","avg_duration","total_appointments","callNumber"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport classNames from \"classnames\"\nimport moment from \"moment\"\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useRoute } from \"react-router5\"\nimport { Transition } from \"react-transition-group\"\nimport Checkbox from \"../../components/Checkbox\"\nimport Icon from \"../../components/Icon\"\nimport ReportFilters from \"../../components/reports/Filters\"\nimport ReportTableControls from \"../../components/reports/TableControls\"\nimport ReportTableField from \"../../components/reports/TableField\"\nimport Select from \"../../components/Select\"\nimport { nError } from \"../../funcs/base\"\nimport { getDateRangeByPreset } from \"../../funcs/reports\"\nimport { CallNumber } from \"../../models/Calls\"\nimport { DateRangePreset } from \"../../models/Misc\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../store\";\n\nimport \"../../styles/pages/common/report-list.sass\"\nimport {getActiveAccount, httpClient} from \"../../funcs\";\nimport Account from \"../../models/Account\";\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\ntype FilterWord = 'source' | 'area'\n\ninterface CallsReport {\n\n  interface: {\n\n    filter_words: {\n\n      source: string[],\n      area: string[]\n    },\n\n    tag_words: string[],\n\n    max_pages: number,\n\n    rows_start: number\n    rows_end: number,\n    rows_all: number,\n\n    min_date: Date,\n    max_date: Date\n  },\n\n  dashboard: {\n\n    calls: string,\n    callers: string,\n    missed_calls: string,\n    active_calls: string\n  },\n\n  numbers: CallNumber[]\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst CallsNumbersPage_List = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const $router = useRoute()\n\n  const activeAccount = getActiveAccount(props.store) as Account\n  const [$updater, $setUpdater] = useState<any>(Math.random())\n\n  const [topFilterShown, setTopFilterShown] = useState(false)\n  const [hashtagFilterShown, setHashtagFilterShown] = useState(false)\n\n  const [reportIsDeprecated, setReportIsDeprecated] = useState(false)\n\n  const [reportData, setReportData] = useState<CallsReport | null>(null)\n  const [localInterface, setLocalInterface] = useState({\n\n    search: '',\n\n    dateRangeCalendarShown: false,\n    dateRangePreset: \"custom\" as DateRangePreset,\n\n    min_date: new Date,\n    max_date: new Date,\n\n    page: 1,\n    max_rows: 100 as 50 | 100 | 250 | 500,\n\n    filter_words: {\n\n      source: [] as string[],\n      area: [] as string[],\n    },\n\n    tag_words: [] as string[],\n\n    searchFilters: [[\"Inboud\", \"Outbound\"], [\"Source\", \"System\"]],\n    selectedSearchFilters: [[], [\"Source\"]] as string[][],\n\n    sort: {\n      field: 'number',\n      direction: 'up' as 'up' | 'down'\n    },\n    sortFields: [{\n      span: 'Number',\n      value: 'number'\n    },{\n      span: 'Friendly Name',\n      value: 'friendly_name'\n    },{\n      span: 'Source',\n      value: 'source'\n    },{\n      span: 'Area',\n      value: 'area'\n    },{\n      span: 'Total calls',\n      value: 'total_calls'\n    },{\n      span: 'Completed',\n      value: 'completed_calls'\n    },{\n      span: 'Unanswered',\n      value: 'unanswered_calls'\n    },{\n      span: 'Avg Duration',\n      value: 'avg_duration'\n    },{\n      span: 'Total appointments',\n      value: 'total_appointments'\n    }]\n\n  })\n\n  // Watch date range preset\n  useEffect(() => {\n\n    if(!reportData) return\n\n    setLocalInterface({\n      ...localInterface,\n      ...(getDateRangeByPreset(localInterface.dateRangePreset, reportData?.interface.min_date, reportData?.interface.max_date))\n    })\n\n  }, [localInterface.dateRangePreset])\n\n  // Load calls function\n  async function loadCalls() {\n    httpClient.defaults.headers['Authorization'] = `Bearer ${props.store.accessToken}`\n\n    let activeFilters: any = {...localInterface.filter_words}\n    Object.keys(localInterface.filter_words).forEach((key: any) => !activeFilters[key].length && delete activeFilters[key])\n    try {\n      const { data: calls } = (await httpClient.post('/calls/report/numbers',{\n        account_id: activeAccount.account_id,\n        limit_rows: props.store.reportsMaxRows,\n        page: localInterface.page,\n        date_start: localInterface.min_date.toISOString(),\n        date_end: localInterface.max_date.toISOString(),\n        filter_tag: localInterface.tag_words,\n        sort_field: localInterface.sort.field,\n        sort_type: localInterface.sort.direction === 'up' ? 'asc' : 'desc',\n        filter_field: JSON.stringify(activeFilters),\n        ...(localInterface.search ? {search: localInterface.search} : {})\n      })) as {data: CallsReport}\n      setReportData({\n        ...calls,\n\n        interface: {\n\n          ...calls.interface,\n          min_date: moment(calls.interface.min_date).startOf('day').toDate(),\n          max_date: moment(calls.interface.max_date).startOf('day').toDate(),\n        }\n      })\n\n      setTimeout(() => {\n        setReportIsDeprecated(false)\n      }, 100)\n    }\n    catch (error) {\n      nError(error)\n    }\n  }\n\n  // Watch for deprecated\n  useEffect(() => {\n    if(!reportData) return\n    setReportIsDeprecated(true)\n  }, [\n    localInterface.min_date,\n    localInterface.max_date\n  ])\n\n  // Load calls on page mount\n  useEffect(() => { loadCalls() }, [\n    $updater,\n    localInterface.page\n  ])\n\n  // Is filter selected function\n  function isFilterSelected(field: FilterWord, value: string) {\n    return localInterface.filter_words[field].includes(value)\n  }\n\n  // Is all filters selected function\n  function isAllFiltersSelected(field: FilterWord) {\n    return localInterface.filter_words[field].length === 0\n  }\n\n  // Filter switch function\n  function switchFilter(field: FilterWord, value: string, toggle: boolean) {\n\n    let _arr = [...localInterface.filter_words[field]]\n\n    if (toggle && value === \"All\") { _arr = [] }\n    \n    else if (!toggle) {\n\n      while (true) {\n        let i = _arr.findIndex((filter) => filter === value)\n        if(i === -1) break\n        _arr.splice(i, 1)\n      }\n    }\n      \n    else {\n\n      if (reportData?.interface.filter_words[field].every((option) => _arr.concat([value]).includes(option)))\n        _arr = []\n\n      else if(_arr.findIndex((filter) => filter === value) === -1)\n        _arr.push(value)\n    }\n\n    setLocalInterface({...localInterface, filter_words: {...localInterface.filter_words, [field]: _arr}})\n  }\n\n  // Is tag_word selected function\n  function isTagWordSelected(value: string) {\n    return localInterface.tag_words.includes(value)\n  }\n  \n  // Is all tag words selected function\n  function isAllTagWordsSelected() {\n    return localInterface.tag_words.length === 0\n  }\n\n  // Toggle tagword function\n  function switchTagWord(value: string, toggle: boolean) {\n\n    let _arr = [...localInterface.tag_words]\n\n    if (toggle && value === \"All\") {\n      _arr = []\n    }\n    else if (!toggle) {\n\n      while (true) {\n        let i = _arr.findIndex((filter) => filter === value)\n        if(i === -1) break\n        _arr.splice(i, 1)\n      }\n    }\n    else {\n\n      if (reportData?.interface.tag_words.every((option) => _arr.concat([value]).includes(option))) {\n        _arr = []\n      }\n\n      else if(_arr.findIndex((filter) => filter === value) === -1)\n        _arr.push(value)\n    }\n\n    setLocalInterface({...localInterface, tag_words: _arr})\n  }\n\n  // Is search field selected function\n  function isSearchFilterSelected(i:number, value: string) {\n    return localInterface.selectedSearchFilters[i].includes(value)\n  }\n\n  // Is all search fields selected function\n  function isAllSearchFiltersSelected(i: number) {\n    return localInterface.selectedSearchFilters[i].length === 0\n  }\n\n  // Toggle search filter function\n  function switchSearchFilter(i: number, value: string, toggle: boolean) {\n\n    let $arr = [...localInterface.selectedSearchFilters]\n\n    let _arr = [...$arr[i]]\n\n    if (toggle && value === \"All\") {\n      _arr = []\n    }\n    else if (!toggle) {\n\n      while (true) {\n        let i = _arr.findIndex((filter) => filter === value)\n        if(i === -1) break\n        _arr.splice(i, 1)\n      }\n    }\n    else {\n\n      if (localInterface.searchFilters[i].every((option) => _arr.concat([value]).includes(option))) {\n        _arr = []\n      }\n\n      else if(_arr.findIndex((filter) => filter === value) === -1)\n        _arr.push(value)\n    }\n\n    $arr[i] = _arr\n\n    setLocalInterface({...localInterface, selectedSearchFilters: $arr})\n  }\n\n  // Render function\n  return (<>\n    {reportData ? (\n      <div className=\"CallsNumbersPage_List\" >\n      \n        { /* Reports grid */}\n        <div className=\"reports-grid\">\n        \n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.calls}</div>\n            <div className=\"legend\">Calls</div>\n          </div>\n\n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.callers}</div>\n            <div className=\"legend\">Callers</div>\n          </div>\n\n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.missed_calls}</div>\n            <div className=\"legend\">Missed Calls</div>\n          </div>\n\n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.active_calls}</div>\n            <div className=\"legend\">Active Calls</div>\n          </div>\n        </div>\n\n        { /* Page header */}\n        <div className=\"page-header\">\n          <h1>Numbers</h1>\n        </div>\n\n        { /* List filters */}\n        <ReportFilters\n          onSearchInputChange={(value) => setLocalInterface({...localInterface, search: value})}\n\n          dateRangePreset={localInterface.dateRangePreset}\n          onDateRangePresetChange={(value) => setLocalInterface({ ...localInterface, dateRangePreset: value })}\n\n          minDate={localInterface.min_date}\n          onMinDateChange={(value) => setLocalInterface({...localInterface, min_date: value})}\n\n          maxDate={localInterface.max_date}\n          onMaxDateChange={(value) => setLocalInterface({...localInterface, max_date: value})}\n\n          updateButtonActive={reportIsDeprecated}\n          onUpdate={() => setReportIsDeprecated(false)}\n      \n          childrenAfterSearch={(<>\n            <div tabIndex={-1} className=\"filter-button\" onFocus={() => setTopFilterShown(true)} onBlur={(e) => !e.currentTarget.contains(e.relatedTarget as any) && setTopFilterShown(false)}>\n              <button className={classNames(\"_wa\", \"_rounded\", \"_iconed\", {\n                _blue: !isAllSearchFiltersSelected(0) || !isAllSearchFiltersSelected(1)\n              })}>\n                <Icon icon=\"filter-8\" />\n              </button>\n\n              <Transition in={topFilterShown} mountOnEnter={true} unmountOnExit={true} timeout={210}>\n                {(state) => (\n                  <div className={ classNames(\"filter-wrapper\", `transition-fade-${state}`) }>\n                    <Checkbox contents=\"All\" value={isAllSearchFiltersSelected(0)} onChange={(value) => switchSearchFilter(0, \"All\", value)} />\n                    {localInterface.searchFilters[0].map((option, i) => (\n                      <Checkbox contents={option} value={isSearchFilterSelected(0, option)} onChange={(value) => switchSearchFilter(0, option, value)} />\n                    ))}\n                    <hr />\n                    <Checkbox contents=\"All\" value={isAllSearchFiltersSelected(1)} onChange={(value) => switchSearchFilter(1, \"All\", value)} />\n                    {localInterface.searchFilters[1].map((option, i) => (\n                      <Checkbox contents={option} value={isSearchFilterSelected(1, option)} onChange={(value) => switchSearchFilter(1, option, value)} />\n                    ))}\n                    <button className=\"_bordered _blue _wa\">\n                      Filter\n                    </button>\n                  </div>\n                )}\n              </Transition>\n            </div>\n            \n            <div tabIndex={-1} className=\"filter-button\" onFocus={() => setHashtagFilterShown(true)} onBlur={(e) => !e.currentTarget.contains(e.relatedTarget as any) && setHashtagFilterShown(false)}>\n              <button className={classNames(\"_wa\", \"_rounded\", \"_iconed\", {\n                _blue: !isAllTagWordsSelected()\n              })}>\n                <Icon icon=\"hashtag-1\" />\n              </button>\n\n              <Transition in={hashtagFilterShown} mountOnEnter={true} unmountOnExit={true} timeout={210}>\n                {(state) => (\n                  <div className={ classNames(\"filter-wrapper\", `transition-fade-${state}`) }>\n                    <Checkbox contents=\"All\" value={isAllTagWordsSelected()} onChange={(value) => switchTagWord(\"All\", value)} />\n                    {reportData.interface.tag_words.map((option, i) => (\n                      <Checkbox contents={option} key={i} value={isTagWordSelected(option)} onChange={(value) => switchTagWord(option, value)} />\n                    ))}\n                    <button className=\"_bordered _blue _wa\">\n                      Filter\n                    </button>\n                  </div>\n                )}\n              </Transition>\n            </div>\n          </>)}\n          childrenBeforeDateType={(<>\n            <div>\n              <Select zeroed={true} options={[{\n                span: 'Calls',\n                value: 'calls'\n              }, {\n                span: 'Sources',\n                value: 'calls.sources'\n              },{\n                span: 'Area',\n                value: 'calls.areas'\n              },{\n                span: 'Numbers',\n                value: 'calls.numbers'\n              }]} selectedOption=\"calls.numbers\" onChange={(value) => $router.router.navigate(value as string, {}, {reload: true})} />\n            </div>\n          </>)}\n        />\n\n        {/* Table controls */}\n        <ReportTableControls\n          zIndex={5}\n\n          onMaxRowsChange={() => $setUpdater(Math.random())}\n\n          amount={{\n            total: reportData.interface.rows_all,\n            start: reportData.interface.rows_start,\n            end: reportData.interface.rows_end\n          }}\n\n          page={localInterface.page}\n          maxPages={reportData.interface.max_pages}\n          onPagesStart={() => setLocalInterface({...localInterface, page: 1})}\n          onPrevPage={() => setLocalInterface({...localInterface, page: localInterface.page-1})}\n          onNextPage={() => setLocalInterface({...localInterface, page: localInterface.page+1})}\n          onPagesEnd={() => setLocalInterface({...localInterface, page: reportData.interface.max_pages})}\n          \n          sort={localInterface.sort}\n          sortFields={localInterface.sortFields}\n          onSortFieldChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, field: value}})}\n          onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, direction: value}})}\n          onSortFire={() => 0}\n        />\n\n        <div className=\"contents\">\n\n          {/* Wide screen table */}\n          <table className={classNames('table', '__show-on-wide', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <ReportTableField\n                contents={(<span>Number</span>)}\n\n                sortDirection={localInterface.sort.field === 'phone' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'phone', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Friendly Name</span>)}\n\n                sortDirection={localInterface.sort.field === 'friendly_name' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'friendly_name', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Source</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"source\")}\n                onAllFiltersChange={(value) => switchFilter(\"source\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.source.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"source\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"source\", value.word, value.selected)}\n\n                sortDirection={localInterface.sort.field === 'source' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'source', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Area</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"area\")}\n                onAllFiltersChange={(value) => switchFilter(\"area\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.area.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"area\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"area\", value.word, value.selected)}\n\n                sortDirection={localInterface.sort.field === 'area' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'area', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Total Calls</span>)}\n\n                sortDirection={localInterface.sort.field === 'total_calls' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'total_calls', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Completed</span>)}\n\n                sortDirection={localInterface.sort.field === 'completed_calls' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'completed_calls', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Unanswered</span>)}\n\n                sortDirection={localInterface.sort.field === 'unanswered_calls' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'unanswered_calls', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Avg Duration</span>)}\n\n                sortDirection={localInterface.sort.field === 'avg_duration' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'avg_duration', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Total appointments</span>)}\n              \n                sortDirection={localInterface.sort.field === 'total_appointments' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'total_appointments', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n            </tr>\n            {reportData.numbers.map((callsNumber, i) => (\n              <tr key={i}>\n                <td>{callsNumber.number}</td>\n                <td>{callsNumber.friendly_name}</td>\n                <td>{callsNumber.source}</td>\n                <td>{callsNumber.area}</td>\n                <td>{callsNumber.total_calls}</td>\n                <td>{callsNumber.completed_calls}</td>\n                <td>{callsNumber.unanswered_calls}</td>\n                <td>{callsNumber.avg_duration}</td>\n                <td>{callsNumber.total_appointments}</td>\n              </tr>\n            ))}\n          </table>\n\n          {/* Medium screen table */}\n          <table className={classNames('table', '__hide-on-wide', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr></tr>\n            {reportData.numbers.map((callNumber, i) => (\n              <tr key={i}>\n                <td>\n                  <div>{callNumber.number}</div>\n                  <div>{callNumber.friendly_name}</div>\n                </td>\n                <td>\n                  <div>{callNumber.area}</div>\n                  <div>{callNumber.source}</div>\n                </td>\n                <td>\n                  <div>Completed: {callNumber.completed_calls}</div>\n                  <div>Unanswered: {callNumber.unanswered_calls}</div>\n                </td>\n                <td>\n                  <div>\n                    Total appointments: {callNumber.total_appointments}\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          {/* Mobile table items */}\n          <div className={classNames('mobile-table-items', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            {reportData.numbers.map((callsNumber, i: number) => (\n              <div className=\"item\" key={i}>\n\n                <div className=\"__top\">\n\n                  <div className=\"__left\">\n                    <div>\n                      <strong>{callsNumber.number}</strong>\n                    </div>\n                    <div>\n                      {callsNumber.friendly_name}\n                    </div>\n                  </div>\n\n                  <div className=\"__right\">\n                    <div>\n                      Total calls: <span className=\"fw500\">{callsNumber.total_calls}</span>\n                    </div>\n                    <div>\n                      Completed: <span className=\"green fw500\">{callsNumber.completed_calls}</span>\n                    </div>\n                    <div>\n                      Unanswered: <span className=\"red fw500\">{callsNumber.unanswered_calls}</span>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"__bottom\">\n\n                  <div className=\"__left\">\n                    <div>\n                      <span className=\"gray\">Avg Duration:</span>\n                      <span> {callsNumber.avg_duration}</span>\n                    </div>\n                    <div>\n                      <span className=\"gray\">Total appointments:</span>\n                      <span> {callsNumber.total_appointments}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"__right\">\n                    <div>\n                      <span className=\"gray\">Area:</span>\n                      <span> {callsNumber.area}</span>\n                    </div>\n                    <div>\n                      <span className=\"gray\">Source:</span>\n                      <span> {callsNumber.source}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Table controls */}\n        <ReportTableControls\n          isUnder={true}\n\n          onMaxRowsChange={() => $setUpdater(Math.random())}\n\n          amount={{\n            total: reportData.interface.rows_all,\n            start: reportData.interface.rows_start,\n            end: reportData.interface.rows_end\n          }}\n\n          page={localInterface.page}\n          maxPages={reportData.interface.max_pages}\n          onPagesStart={() => setLocalInterface({...localInterface, page: 1})}\n          onPrevPage={() => setLocalInterface({...localInterface, page: localInterface.page-1})}\n          onNextPage={() => setLocalInterface({...localInterface, page: localInterface.page+1})}\n          onPagesEnd={() => setLocalInterface({...localInterface, page: reportData.interface.max_pages})}\n          \n          sort={localInterface.sort}\n          sortFields={localInterface.sortFields}\n          onSortFieldChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, field: value}})}\n          onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, direction: value}})}\n          onSortFire={() => 0}\n        />\n      </div>\n    ) : null}\n  </>)\n})\nexport default CallsNumbersPage_List\n"]},"metadata":{},"sourceType":"module"}