{"ast":null,"code":"var _jsxFileName = \"/Users/nicole/rrrr/crm/src/pages/Appointments/List.tsx\",\n    _s = $RefreshSig$();\n\nimport classNames from \"classnames\";\nimport { DateTime } from \"luxon\";\nimport qs from \"qs\";\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useRoute } from \"react-router5\";\nimport Icon from \"../../components/Icon\";\nimport ReportFilters from \"../../components/reports/Filters\";\nimport ReportTableControls from \"../../components/reports/TableControls\";\nimport ReportTableField from \"../../components/reports/TableField\";\nimport { httpClient, nError } from \"../../funcs/base\";\nimport { getDateRangeByPreset } from \"../../funcs/reports\";\nimport { mapDispatchToProps, mapStateToProps } from \"../../store\";\nimport \"../../styles/pages/common/report-list.sass\";\nimport { getActiveAccount } from \"../../funcs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AppointmentsPage_List = connect(mapStateToProps, mapDispatchToProps)(_s(function (props) {\n  _s();\n\n  const $router = useRoute();\n  const [$updater, $setUpdater] = useState(Math.random());\n  const [reportIsDeprecated, setReportIsDeprecated] = useState(false);\n  let filterWords;\n  const activeAccount = getActiveAccount(props.store);\n  const [reportData, setReportData] = useState(null);\n  const [localInterface, setLocalInterface] = useState({\n    search: '',\n    appointmentSharePopup: false,\n    dateRangeCalendarShown: false,\n    dateRangeType: \"schedule\",\n    dateRangePreset: \"custom\",\n    min_date: DateTime.now().startOf('day').toJSDate(),\n    max_date: DateTime.now().endOf('day').toJSDate(),\n    page: 1,\n    filter_words: {\n      type: [],\n      status: [],\n      property_type: [],\n      area: [],\n      created_by: [],\n      service_resource: []\n    },\n    sort: {\n      field: 'created_at',\n      direction: 'down'\n    },\n    sortFields: [{\n      span: 'Date',\n      value: 'created_at'\n    }, {\n      span: 'Name',\n      value: 'name'\n    }, {\n      span: 'Type',\n      value: 'type'\n    }, {\n      span: 'Status',\n      value: 'status'\n    }, {\n      span: 'Property Type',\n      value: 'property_type'\n    }, {\n      span: 'Area',\n      value: 'area'\n    }, {\n      span: 'Created by',\n      value: 'created_by'\n    }, {\n      span: 'Schedule time',\n      value: 'schedule_time'\n    }, {\n      span: 'Service resource',\n      value: 'service_resource'\n    }, {\n      span: 'Is Sent',\n      value: 'is_sent'\n    }]\n  }); // Watch date range preset\n\n  useEffect(() => {\n    if (!reportData) return;\n    if (localInterface.dateRangePreset === 'custom') return;\n    setLocalInterface({ ...localInterface,\n      ...getDateRangeByPreset(localInterface.dateRangePreset, reportData === null || reportData === void 0 ? void 0 : reportData.interface.min_date, reportData === null || reportData === void 0 ? void 0 : reportData.interface.max_date)\n    });\n  }, [localInterface.dateRangePreset]); // Load appointments function\n\n  async function loadAppointments() {\n    httpClient.defaults.headers['Authorization'] = `Bearer ${props.store.accessToken}`;\n    let activeFilters = { ...localInterface.filter_words\n    };\n    Object.keys(localInterface.filter_words).forEach(key => !activeFilters[key].length && delete activeFilters[key]);\n    let reqData = qs.stringify({\n      account_id: activeAccount.account_id,\n      limit_rows: props.store.reportsMaxRows,\n      page: localInterface.page,\n      date_type: localInterface.dateRangeType,\n      date_start: localInterface.min_date.toISOString(),\n      date_end: localInterface.max_date.toISOString(),\n      sort_field: localInterface.sort.field,\n      sort_type: localInterface.sort.direction === 'up' ? 'asc' : 'desc',\n      filter_field: JSON.stringify(activeFilters),\n      ...(localInterface.search ? {\n        search: localInterface.search\n      } : {})\n    });\n\n    try {\n      const {\n        data: appointments\n      } = await httpClient.post('/appointments/report', reqData, {\n        headers: {\n          'Accept': 'application/jsons',\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      });\n      setReportData({ ...appointments,\n        interface: { ...appointments.interface,\n          min_date: DateTime.fromISO(appointments.interface.min_date).startOf('day').toJSDate(),\n          max_date: DateTime.fromISO(appointments.interface.max_date).endOf('day').toJSDate()\n        }\n      });\n      setTimeout(() => {\n        setReportIsDeprecated(false);\n      }, 100);\n    } catch (error) {\n      nError(error);\n    }\n  } // Load appointments on page mount\n\n\n  useEffect(() => {\n    loadAppointments();\n  }, [$updater, localInterface.page]); // Watch for deprecated\n\n  useEffect(() => {\n    if (!reportData) return;\n    setReportIsDeprecated(true);\n  }, [localInterface.min_date, localInterface.max_date, localInterface.dateRangeType]); // Is filter selected function\n\n  function isFilterSelected(field, value) {\n    return localInterface.filter_words[field].includes(value);\n  }\n\n  function isAllFiltersSelected(field) {\n    return localInterface.filter_words[field].length === 0;\n  }\n\n  function switchFilter(field, value, toggle) {\n    let _arr = [...localInterface.filter_words[field]];\n\n    if (toggle && value === \"All\") {\n      _arr = [];\n    } else if (!toggle) {\n      while (true) {\n        let i = _arr.findIndex(filter => filter === value);\n\n        if (i === -1) break;\n\n        _arr.splice(i, 1);\n      }\n    } else {\n      if (reportData !== null && reportData !== void 0 && reportData.interface.filter_words[field].every(option => _arr.concat([value]).includes(option))) _arr = [];else if (_arr.findIndex(filter => filter === value) === -1) _arr.push(value);\n    }\n\n    setLocalInterface({ ...localInterface,\n      filter_words: { ...localInterface.filter_words,\n        [field]: _arr\n      }\n    });\n  } // Render function\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: reportData ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"AppointmentsPage_List\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reports-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amount\",\n            children: reportData.dashboard.service_calls\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend\",\n            children: \"Service calls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amount\",\n            children: reportData.dashboard.recalls\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend\",\n            children: \"Recalls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amount\",\n            children: reportData.dashboard.all\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend\",\n            children: \"All appointments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amount\",\n            children: reportData.dashboard.closed\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend\",\n            children: \"Closed appointments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Appointments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReportFilters, {\n        onSearchInputChange: value => setLocalInterface({ ...localInterface,\n          search: value\n        }),\n        dateRangeType: localInterface.dateRangeType,\n        onDateRangeTypeChange: value => setLocalInterface({ ...localInterface,\n          dateRangeType: value\n        }),\n        dateRangePreset: localInterface.dateRangePreset,\n        onDateRangePresetChange: value => setLocalInterface({ ...localInterface,\n          dateRangePreset: value\n        }),\n        minDate: localInterface.min_date,\n        onMinDateChange: value => setLocalInterface({ ...localInterface,\n          min_date: value,\n          dateRangePreset: 'custom'\n        }),\n        maxDate: localInterface.max_date,\n        onMaxDateChange: value => setLocalInterface({ ...localInterface,\n          max_date: value,\n          dateRangePreset: 'custom'\n        }),\n        updateButtonActive: reportIsDeprecated,\n        onUpdate: () => {\n          $setUpdater(Math.random());\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReportTableControls, {\n        zIndex: 5,\n        onMaxRowsChange: () => {\n          $setUpdater(Math.random());\n        },\n        amount: {\n          total: reportData.interface.rows_all,\n          start: reportData.interface.rows_start,\n          end: reportData.interface.rows_end\n        },\n        page: localInterface.page,\n        maxPages: reportData.interface.max_pages,\n        onPagesStart: () => setLocalInterface({ ...localInterface,\n          page: 1\n        }),\n        onPrevPage: () => setLocalInterface({ ...localInterface,\n          page: localInterface.page - 1\n        }),\n        onNextPage: () => setLocalInterface({ ...localInterface,\n          page: localInterface.page + 1\n        }),\n        onPagesEnd: () => setLocalInterface({ ...localInterface,\n          page: reportData.interface.max_pages\n        }),\n        sort: localInterface.sort,\n        sortFields: localInterface.sortFields,\n        onSortFieldChange: value => setLocalInterface({ ...localInterface,\n          sort: { ...localInterface.sort,\n            field: value\n          }\n        }),\n        onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n          sort: { ...localInterface.sort,\n            direction: value\n          }\n        }),\n        onSortFire: () => $setUpdater(Math.random())\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contents\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: classNames('table', '__show-on-wide', {\n            __respectAsidePanel: props.store.navActive.is\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 28\n              }, this),\n              sortDirection: localInterface.sort.field === 'created_at' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'created_at',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 28\n              }, this),\n              sortDirection: localInterface.sort.field === 'name' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'name',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 28\n              }, this),\n              allFiltersSelected: isAllFiltersSelected(\"type\"),\n              onAllFiltersChange: value => switchFilter(\"type\", \"All\", value),\n              filterWords: reportData.interface.filter_words.type.map(filterWord => ({\n                word: filterWord,\n                selected: isFilterSelected(\"type\", filterWord)\n              })),\n              onFilterChange: value => switchFilter(\"type\", value.word, value.selected),\n              onFilterFire: () => $setUpdater(Math.random()),\n              sortDirection: localInterface.sort.field === 'type' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'type',\n                  direction: value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 28\n              }, this),\n              allFiltersSelected: isAllFiltersSelected(\"status\"),\n              onAllFiltersChange: value => switchFilter(\"status\", \"All\", value),\n              filterWords: reportData.interface.filter_words.status.map(filterWord => ({\n                word: filterWord,\n                selected: isFilterSelected(\"status\", filterWord)\n              })),\n              onFilterChange: value => switchFilter(\"status\", value.word, value.selected),\n              onFilterFire: () => $setUpdater(Math.random()),\n              sortDirection: localInterface.sort.field === 'status' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'status',\n                  direction: value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Property Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 28\n              }, this),\n              allFiltersSelected: isAllFiltersSelected(\"property_type\"),\n              onAllFiltersChange: value => switchFilter(\"property_type\", \"All\", value),\n              filterWords: reportData.interface.filter_words.property_type.map(filterWord => ({\n                word: filterWord,\n                selected: isFilterSelected(\"property_type\", filterWord)\n              })),\n              onFilterChange: value => switchFilter(\"property_type\", value.word, value.selected),\n              onFilterFire: () => $setUpdater(Math.random()),\n              sortDirection: localInterface.sort.field === 'property_type' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'property_type',\n                  direction: value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Area\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 28\n              }, this),\n              allFiltersSelected: isAllFiltersSelected(\"area\"),\n              onAllFiltersChange: value => switchFilter(\"area\", \"All\", value),\n              filterWords: reportData.interface.filter_words.area.map(filterWord => ({\n                word: filterWord,\n                selected: isFilterSelected(\"area\", filterWord)\n              })),\n              onFilterChange: value => switchFilter(\"area\", value.word, value.selected),\n              onFilterFire: () => $setUpdater(Math.random()),\n              sortDirection: localInterface.sort.field === 'area' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'area',\n                  direction: value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Created by\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 28\n              }, this),\n              allFiltersSelected: isAllFiltersSelected(\"created_by\"),\n              onAllFiltersChange: value => switchFilter(\"created_by\", \"All\", value),\n              filterWords: reportData.interface.filter_words.created_by.map(filterWord => ({\n                word: filterWord,\n                selected: isFilterSelected(\"created_by\", filterWord)\n              })),\n              onFilterChange: value => switchFilter(\"created_by\", value.word, value.selected),\n              onFilterFire: () => $setUpdater(Math.random()),\n              sortDirection: localInterface.sort.field === 'created_by' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'created_by',\n                  direction: value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Schedule time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 28\n              }, this),\n              sortDirection: localInterface.sort.field === 'schedule_time' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'schedule_time',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Service resource\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 28\n              }, this),\n              allFiltersSelected: isAllFiltersSelected(\"service_resource\"),\n              onAllFiltersChange: value => switchFilter(\"service_resource\", \"All\", value),\n              filterWords: reportData.interface.filter_words.service_resource.map(filterWord => ({\n                word: filterWord,\n                selected: isFilterSelected(\"service_resource\", filterWord)\n              })),\n              onFilterChange: value => switchFilter(\"service_resource\", value.word, value.selected),\n              onFilterFire: () => $setUpdater(Math.random()),\n              sortDirection: localInterface.sort.field === 'service_resource' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'service_resource',\n                  direction: value\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(Icon, {\n                className: \"__icon\",\n                icon: \"arrow-60\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 28\n              }, this),\n              sortDirection: localInterface.sort.field === 'is_sent' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'is_sent',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), reportData.appointments.map((appointment, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            onClick: () => $router.router.navigate('appointments.item', {\n              appointmentId: appointment.appointment_id\n            }, {\n              reload: true\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: appointment.created_at\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: appointment.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: appointment.type === 'Recall' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"red\",\n                children: appointment.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 21\n              }, this) : appointment.type === 'Service call' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"green\",\n                children: appointment.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"blue\",\n                children: appointment.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: appointment.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: appointment.property_type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: appointment.area\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: appointment.created_by\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: appointment.schedule_time\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: appointment.service_resource\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"_zeroed _iconed _blue\",\n                disabled: appointment.is_sent,\n                onClick: e => {\n                  e.stopPropagation();\n                  reportData.permissions.send_appointment && setLocalInterface({ ...localInterface,\n                    appointmentSharePopup: true\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: \"arrow-60\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: classNames('table', '__hide-on-wide', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 13\n          }, this), reportData.appointments.map((appointment, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            onClick: () => $router.router.navigate('appointments.item', {\n              appointmentId: appointment.appointment_id\n            }, {\n              reload: true\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: appointment.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: appointment.created_at\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: appointment.service_resource\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: appointment.created_by\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: appointment.area\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: appointment.type === 'Recall' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"red\",\n                  children: appointment.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 23\n                }, this) : appointment.type === 'Service call' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"green\",\n                  children: appointment.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"blue\",\n                  children: appointment.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 546,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: appointment.property_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: appointment.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: appointment.schedule_time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\xA0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"_zeroed _iconed _blue\",\n                disabled: appointment.is_sent,\n                onClick: e => {\n                  e.stopPropagation();\n                  setLocalInterface({ ...localInterface,\n                    appointmentSharePopup: true\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: \"arrow-60\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classNames('mobile-table-items', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          }),\n          children: reportData.appointments.map((appointment, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item\",\n            onClick: () => $router.router.navigate('appointments.item', {\n              appointmentId: appointment.appointment_id\n            }, {\n              reload: true\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"__top\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"__left\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: appointment.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 583,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"_zeroed _iconed _blue\",\n                    disabled: appointment.is_sent,\n                    onClick: e => {\n                      e.stopPropagation();\n                      reportData.permissions.send_appointment && setLocalInterface({ ...localInterface,\n                        appointmentSharePopup: true\n                      });\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Icon, {\n                      icon: \"arrow-60\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 585,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: appointment.schedule_time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"__right\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: appointment.type === 'Recall' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"red\",\n                    children: appointment.type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 596,\n                    columnNumber: 25\n                  }, this) : appointment.type === 'Service call' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"green\",\n                    children: appointment.type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 600,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"blue\",\n                    children: appointment.type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 604,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: appointment.property_type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fw500\",\n                    children: appointment.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 613,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 612,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"__bottom\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"__left\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"gray\",\n                    children: \"Area:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 622,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\" \", appointment.area]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 623,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"gray\",\n                    children: \"Service Resourse:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 626,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\" \", appointment.service_resource]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 627,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"__right\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: appointment.created_at\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 632,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Created by \", appointment.created_by]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 635,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReportTableControls, {\n        isUnder: true,\n        onMaxRowsChange: () => $setUpdater(Math.random()),\n        amount: {\n          total: reportData.interface.rows_all,\n          start: reportData.interface.rows_start,\n          end: reportData.interface.rows_end\n        },\n        page: localInterface.page,\n        maxPages: reportData.interface.max_pages,\n        onPagesStart: () => setLocalInterface({ ...localInterface,\n          page: 1\n        }),\n        onPrevPage: () => setLocalInterface({ ...localInterface,\n          page: localInterface.page - 1\n        }),\n        onNextPage: () => setLocalInterface({ ...localInterface,\n          page: localInterface.page + 1\n        }),\n        onPagesEnd: () => setLocalInterface({ ...localInterface,\n          page: reportData.interface.max_pages\n        }),\n        sort: localInterface.sort,\n        sortFields: localInterface.sortFields,\n        onSortFieldChange: value => setLocalInterface({ ...localInterface,\n          sort: { ...localInterface.sort,\n            field: value\n          }\n        }),\n        onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n          sort: { ...localInterface.sort,\n            direction: value\n          }\n        }),\n        onSortFire: () => $setUpdater(Math.random())\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 9\n      }, this), localInterface.appointmentSharePopup ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup appointmentSharePopup\",\n        onClick: () => setLocalInterface({ ...localInterface,\n          appointmentSharePopup: false\n        }),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrapper\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-name\",\n            children: \"2665NSM-A-01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"_wa _iconed _bordered _blue\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Icon, {\n              icon: \"arrow-60\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this) : null\n  }, void 0, false);\n}, \"DTy4KXe/56tYkurgyBGYEph74qo=\", false, function () {\n  return [useRoute];\n}));\nexport default AppointmentsPage_List;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/Appointments/List.tsx"],"names":["classNames","DateTime","qs","useEffect","useState","connect","useRoute","Icon","ReportFilters","ReportTableControls","ReportTableField","httpClient","nError","getDateRangeByPreset","mapDispatchToProps","mapStateToProps","getActiveAccount","AppointmentsPage_List","props","$router","$updater","$setUpdater","Math","random","reportIsDeprecated","setReportIsDeprecated","filterWords","activeAccount","store","reportData","setReportData","localInterface","setLocalInterface","search","appointmentSharePopup","dateRangeCalendarShown","dateRangeType","dateRangePreset","min_date","now","startOf","toJSDate","max_date","endOf","page","filter_words","type","status","property_type","area","created_by","service_resource","sort","field","direction","sortFields","span","value","interface","loadAppointments","defaults","headers","accessToken","activeFilters","Object","keys","forEach","key","length","reqData","stringify","account_id","limit_rows","reportsMaxRows","date_type","date_start","toISOString","date_end","sort_field","sort_type","filter_field","JSON","data","appointments","post","fromISO","setTimeout","error","isFilterSelected","includes","isAllFiltersSelected","switchFilter","toggle","_arr","i","findIndex","filter","splice","every","option","concat","push","dashboard","service_calls","recalls","all","closed","total","rows_all","start","rows_start","end","rows_end","max_pages","__respectAsidePanel","navActive","is","undefined","map","filterWord","word","selected","appointment","router","navigate","appointmentId","appointment_id","reload","created_at","name","schedule_time","is_sent","e","stopPropagation","permissions","send_appointment"],"mappings":"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","sourcesContent":["import classNames from \"classnames\"\nimport { DateTime } from \"luxon\"\nimport qs from \"qs\"\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useRoute } from \"react-router5\"\nimport Icon from \"../../components/Icon\"\nimport ReportFilters from \"../../components/reports/Filters\"\nimport ReportTableControls from \"../../components/reports/TableControls\"\nimport ReportTableField from \"../../components/reports/TableField\"\nimport { httpClient, nError } from \"../../funcs/base\"\nimport {getDateRangeByPreset} from \"../../funcs/reports\"\nimport Appointment from \"../../models/Appointment\"\nimport { DateRangePreset } from \"../../models/Misc\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../store\";\n\nimport \"../../styles/pages/common/report-list.sass\"\nimport {getActiveAccount} from \"../../funcs\";\nimport Account from \"../../models/Account\";\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\ntype FilterWord = 'type' | 'status' | 'property_type' | 'area' | 'created_by' | 'service_resource'\n\ninterface AppointmentsReport {\n\n  interface: {\n\n    filter_words: {\n\n      type: string[],\n      status: string[],\n      property_type: string[],\n      area: string[],\n      created_by: string[],\n      service_resource: string[]\n    },\n\n    max_pages: number,\n    rows_start: number,\n    rows_end: number,\n    rows_all: number,\n    \n    min_date: Date,\n    max_date: Date\n  },\n\n  permissions: {\n    show_appointment: boolean,\n    send_appointment: boolean\n  },\n\n  dashboard: {\n\n    service_calls: string,\n    recalls: string,\n    all: string,\n    closed: string\n  },\n\n  appointments: Appointment[]\n}\n\nconst AppointmentsPage_List = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const $router = useRoute()\n\n  const [$updater, $setUpdater] = useState<any>(Math.random())\n\n  const [reportIsDeprecated, setReportIsDeprecated] = useState(false)\n  let filterWords;\n  const activeAccount = getActiveAccount(props.store) as Account;\n  const [reportData, setReportData] = useState<AppointmentsReport | null>(null)\n  const [localInterface, setLocalInterface] = useState({\n\n    search: '',\n    \n    appointmentSharePopup: false,\n    \n    dateRangeCalendarShown: false,\n    dateRangeType: \"schedule\" as \"created\" | \"schedule\",\n    dateRangePreset: \"custom\" as DateRangePreset,\n\n    min_date: DateTime.now().startOf('day').toJSDate(),\n    max_date: DateTime.now().endOf('day').toJSDate(),\n\n    page: 1,\n\n    filter_words: {\n\n      type: [] as string[],\n      status: [] as string[],\n      property_type: [] as string[],\n      area: [] as string[],\n      created_by: [] as string[],\n      service_resource: [] as string[]\n    },\n\n    sort: {\n      field: 'created_at',\n      direction: 'down' as 'up' | 'down'\n    },\n    sortFields: [{\n      span: 'Date',\n      value: 'created_at'\n    },{\n      span: 'Name',\n      value: 'name'\n    },{\n      span: 'Type',\n      value: 'type'\n    },{\n      span: 'Status',\n      value: 'status'\n    },{\n      span: 'Property Type',\n      value: 'property_type'\n    },{\n      span: 'Area',\n      value: 'area'\n    },{\n      span: 'Created by',\n      value: 'created_by'\n    },{\n      span: 'Schedule time',\n      value: 'schedule_time'\n    },{\n      span: 'Service resource',\n      value: 'service_resource'\n    },{\n      span: 'Is Sent',\n      value: 'is_sent'\n    }]\n\n  })\n\n  // Watch date range preset\n  useEffect(() => {\n\n    if (!reportData) return\n    \n    if(localInterface.dateRangePreset === 'custom') return\n\n    setLocalInterface({\n      ...localInterface,\n      ...(getDateRangeByPreset(localInterface.dateRangePreset, reportData?.interface.min_date, reportData?.interface.max_date))\n    })\n\n  }, [localInterface.dateRangePreset])\n\n  // Load appointments function\n\n\n  async function loadAppointments() {\n\n    httpClient.defaults.headers['Authorization'] = `Bearer ${props.store.accessToken}`\n    \n    let activeFilters: any = {...localInterface.filter_words}\n    Object.keys(localInterface.filter_words).forEach((key: any) => !activeFilters[key].length && delete activeFilters[key])\n\n    let reqData = qs.stringify({\n\n      account_id:activeAccount.account_id,\n      limit_rows: props.store.reportsMaxRows,\n      page: localInterface.page,\n      date_type: localInterface.dateRangeType,\n      date_start: localInterface.min_date.toISOString(),\n      date_end: localInterface.max_date.toISOString(),\n      sort_field: localInterface.sort.field,\n      sort_type: localInterface.sort.direction === 'up' ? 'asc' : 'desc',\n      filter_field: JSON.stringify(activeFilters),\n      ...(localInterface.search ? {search: localInterface.search} : {})\n    });\n    try {\n      const { data: appointments } = await httpClient.post('/appointments/report', reqData, {\n        headers: {\n          'Accept':'application/jsons',\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }) as { data: AppointmentsReport }\n\n      setReportData({\n        ...appointments,\n\n        interface: {\n\n          ...appointments.interface,\n          min_date: DateTime.fromISO(appointments.interface.min_date as unknown as string).startOf('day').toJSDate(),\n          max_date: DateTime.fromISO(appointments.interface.max_date as unknown as string).endOf('day').toJSDate(),\n        }\n      })\n\n      setTimeout(() => {\n        setReportIsDeprecated(false)\n      }, 100)\n    }\n    catch (error) {\n      nError(error)\n    }\n  }\n\n  // Load appointments on page mount\n  useEffect(() => { loadAppointments();}, [\n    $updater,\n    localInterface.page\n  ])\n\n  // Watch for deprecated\n  useEffect(() => {\n    if(!reportData) return\n    setReportIsDeprecated(true)\n  }, [\n    localInterface.min_date,\n    localInterface.max_date,\n    localInterface.dateRangeType,\n  ])\n\n  // Is filter selected function\n  function isFilterSelected(field: FilterWord, value: string) {\n    return localInterface.filter_words[field].includes(value)\n  }\n\n  function isAllFiltersSelected(field: FilterWord) {\n    return localInterface.filter_words[field].length === 0\n  }\n\n  function switchFilter(field: FilterWord, value: string, toggle: boolean) {\n\n    let _arr = [...localInterface.filter_words[field]]\n\n    if (toggle && value === \"All\") { _arr = [] }\n    \n    else if (!toggle) {\n\n      while (true) {\n        let i = _arr.findIndex((filter) => filter === value)\n        if(i === -1) break\n        _arr.splice(i, 1)\n      }\n    }\n      \n    else {\n\n      if (reportData?.interface.filter_words[field].every((option) => _arr.concat([value]).includes(option)))\n        _arr = []\n\n      else if(_arr.findIndex((filter) => filter === value) === -1)\n        _arr.push(value)\n    }\n\n    setLocalInterface({...localInterface, filter_words: {...localInterface.filter_words, [field]: _arr}})\n  }\n\n  // Render function\n  return (<>\n    {reportData ? (\n      <div className=\"AppointmentsPage_List\" >\n      \n        { /* Reports grid */}\n        <div className=\"reports-grid\">\n        \n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.service_calls}</div>\n            <div className=\"legend\">Service calls</div>\n          </div>\n\n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.recalls}</div>\n            <div className=\"legend\">Recalls</div>\n          </div>\n\n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.all}</div>\n            <div className=\"legend\">All appointments</div>\n          </div>\n\n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.closed}</div>\n            <div className=\"legend\">Closed appointments</div>\n          </div>\n        </div>\n\n        { /* Page header */}\n        <div className=\"page-header\">\n          <h1>Appointments</h1>\n        </div>\n\n        { /* List filters */}\n        <ReportFilters\n          onSearchInputChange={(value) => setLocalInterface({...localInterface, search: value})}\n\n          dateRangeType={localInterface.dateRangeType}\n          onDateRangeTypeChange={(value) => setLocalInterface({...localInterface, dateRangeType: value as any})}\n\n          dateRangePreset={localInterface.dateRangePreset}\n          onDateRangePresetChange={(value) => setLocalInterface({ ...localInterface, dateRangePreset: value })}\n\n          minDate={localInterface.min_date}\n          onMinDateChange={(value) => setLocalInterface({ ...localInterface, min_date: value, dateRangePreset: 'custom' }) }\n\n          maxDate={localInterface.max_date}\n          onMaxDateChange={(value) => setLocalInterface({...localInterface, max_date: value, dateRangePreset: 'custom'})}\n\n          updateButtonActive={reportIsDeprecated}\n          onUpdate={() => {\n            $setUpdater(Math.random())\n          }}\n        />\n\n        {/* Table controls */}\n        <ReportTableControls\n          zIndex={5}\n          \n          onMaxRowsChange={() => {\n            $setUpdater(Math.random())\n          }}\n\n          amount={{\n            total: reportData.interface.rows_all,\n            start: reportData.interface.rows_start,\n            end: reportData.interface.rows_end\n          }}\n\n          page={localInterface.page}\n          maxPages={reportData.interface.max_pages}\n          onPagesStart={() => setLocalInterface({...localInterface, page: 1})}\n          onPrevPage={() => setLocalInterface({...localInterface, page: localInterface.page-1})}\n          onNextPage={() => setLocalInterface({...localInterface, page: localInterface.page+1})}\n          onPagesEnd={() => setLocalInterface({...localInterface, page: reportData.interface.max_pages})}\n          \n          sort={localInterface.sort}\n          sortFields={localInterface.sortFields}\n          onSortFieldChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, field: value}})}\n          onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, direction: value}})}\n          onSortFire={() => $setUpdater(Math.random())}\n        />\n\n        <div className=\"contents\">\n\n          {/* Wide desktop table */}\n          <table className={classNames('table', '__show-on-wide', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <ReportTableField\n                contents={(<span>Date</span>)}\n\n                sortDirection={localInterface.sort.field === 'created_at' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'created_at', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Name</span>)}\n\n                sortDirection={localInterface.sort.field === 'name' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'name', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Type</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"type\")}\n                onAllFiltersChange={(value) => switchFilter(\"type\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.type.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"type\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"type\", value.word, value.selected)}\n                onFilterFire={() => $setUpdater(Math.random())}\n\n                sortDirection={localInterface.sort.field === 'type' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'type', direction: value}})}\n              />\n              <ReportTableField\n                contents={(<span>Status</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"status\")}\n                onAllFiltersChange={(value) => switchFilter(\"status\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.status.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"status\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"status\", value.word, value.selected)}\n                onFilterFire={() => $setUpdater(Math.random())}\n\n                sortDirection={localInterface.sort.field === 'status' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'status', direction: value}})}\n              />\n              <ReportTableField\n                contents={(<span>Property Type</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"property_type\")}\n                onAllFiltersChange={(value) => switchFilter(\"property_type\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.property_type.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"property_type\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"property_type\", value.word, value.selected)}\n                onFilterFire={() => $setUpdater(Math.random())}\n\n                sortDirection={localInterface.sort.field === 'property_type' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'property_type', direction: value}})}\n              />\n              <ReportTableField\n                contents={(<span>Area</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"area\")}\n                onAllFiltersChange={(value) => switchFilter(\"area\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.area.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"area\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"area\", value.word, value.selected)}\n                onFilterFire={() => $setUpdater(Math.random())}\n\n                sortDirection={localInterface.sort.field === 'area' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'area', direction: value}})}\n              />\n              <ReportTableField\n                contents={(<span>Created by</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"created_by\")}\n                onAllFiltersChange={(value) => switchFilter(\"created_by\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.created_by.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"created_by\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"created_by\", value.word, value.selected)}\n                onFilterFire={() => $setUpdater(Math.random())}\n\n                sortDirection={localInterface.sort.field === 'created_by' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'created_by', direction: value}})}\n              />\n              <ReportTableField\n                contents={(<span>Schedule time</span>)}\n\n                sortDirection={localInterface.sort.field === 'schedule_time' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'schedule_time', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Service resource</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"service_resource\")}\n                onAllFiltersChange={(value) => switchFilter(\"service_resource\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.service_resource.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"service_resource\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"service_resource\", value.word, value.selected)}\n                onFilterFire={() => $setUpdater(Math.random())}\n\n                sortDirection={localInterface.sort.field === 'service_resource' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'service_resource', direction: value}})}\n              />\n              <ReportTableField\n                contents={(<Icon className=\"__icon\" icon=\"arrow-60\" />)}\n\n                sortDirection={localInterface.sort.field === 'is_sent' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'is_sent', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n            </tr>\n            {reportData.appointments.map((appointment, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('appointments.item', {\n                appointmentId: appointment.appointment_id\n              }, {reload: true})}>\n                <td>{appointment.created_at}</td>\n                <td>{appointment.name}</td>\n                <td>\n                  {appointment.type === 'Recall' ? (\n                    <span className=\"red\">\n                      {appointment.type}\n                    </span>\n                  ) : appointment.type === 'Service call' ? (\n                    <span className=\"green\">\n                      {appointment.type}\n                    </span>\n                  ) : (\n                    <span className=\"blue\">\n                      {appointment.type}\n                    </span>\n                  )}\n                </td>\n                <td>{appointment.status}</td>\n                <td>{appointment.property_type}</td>\n                <td>{appointment.area}</td>\n                <td>{appointment.created_by}</td>\n                <td>{appointment.schedule_time}</td>\n                <td>{appointment.service_resource}</td>\n                <td>\n                  <button className=\"_zeroed _iconed _blue\" disabled={appointment.is_sent} onClick={(e) => { e.stopPropagation(); reportData.permissions.send_appointment && setLocalInterface({...localInterface, appointmentSharePopup: true}) }}>\n                    <Icon icon=\"arrow-60\" />\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          {/* Medium desktop table */}\n          <table className={classNames('table', '__hide-on-wide', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr></tr>\n            {reportData.appointments.map((appointment, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('appointments.item', {\n                appointmentId: appointment.appointment_id\n              }, {reload: true})}>\n                <td>\n                  <div>{appointment.name}</div>\n                  <div>{appointment.created_at}</div>\n                </td>\n                <td>\n                  <div>{appointment.service_resource}</div>\n                  <div>{appointment.created_by}</div>\n                </td>\n                <td>\n                  <div>{appointment.area}</div>\n                  <div>\n                    {appointment.type === 'Recall' ? (\n                      <span className=\"red\">\n                        {appointment.type}\n                      </span>\n                    ) : appointment.type === 'Service call' ? (\n                      <span className=\"green\">\n                        {appointment.type}\n                      </span>\n                    ) : (\n                      <span className=\"blue\">\n                        {appointment.type}\n                      </span>\n                    )}\n                  </div>\n                </td>\n                <td>\n                  <div>{appointment.property_type}</div>\n                  <div>{appointment.status}</div>\n                </td>\n                <td>\n                  <div>{appointment.schedule_time}</div>\n                  <div>&nbsp;</div>\n                </td>\n                <td>\n                  <button className=\"_zeroed _iconed _blue\" disabled={appointment.is_sent} onClick={(e) => { e.stopPropagation(); setLocalInterface({...localInterface, appointmentSharePopup: true}) }}>\n                    <Icon icon=\"arrow-60\" />\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          {/* Mobile table items */}\n          <div className={classNames('mobile-table-items', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            {reportData.appointments.map((appointment, i: number) => (\n              <div className=\"item\" key={i} onClick={() => $router.router.navigate('appointments.item', {\n                appointmentId: appointment.appointment_id\n              }, {reload: true})}>\n\n                <div className=\"__top\">\n\n                  <div className=\"__left\">\n                    <div className=\"flex-container\">\n                      <strong>{appointment.name}</strong>\n                      <button className=\"_zeroed _iconed _blue\" disabled={appointment.is_sent} onClick={(e) => { e.stopPropagation(); reportData.permissions.send_appointment && setLocalInterface({...localInterface, appointmentSharePopup: true}) }}>\n                        <Icon icon=\"arrow-60\" />\n                      </button>\n                    </div>\n                    <div>\n                      {appointment.schedule_time}\n                    </div>\n                  </div>\n\n                  <div className=\"__right\">\n                    <div>\n                      {appointment.type === 'Recall' ? (\n                        <span className=\"red\">\n                          {appointment.type}\n                        </span>\n                      ) : appointment.type === 'Service call' ? (\n                        <span className=\"green\">\n                          {appointment.type}\n                        </span>\n                      ) : (\n                        <span className=\"blue\">\n                          {appointment.type}\n                        </span>\n                      )}\n                    </div>\n                    <div>\n                      {appointment.property_type}\n                    </div>\n                    <div>\n                      <div className=\"fw500\">{appointment.status}</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"__bottom\">\n\n                  <div className=\"__left\">\n                    <div>\n                      <span className=\"gray\">Area:</span>\n                      <span> {appointment.area}</span>\n                    </div>\n                    <div>\n                      <span className=\"gray\">Service Resourse:</span>\n                      <span> {appointment.service_resource}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"__right\">\n                    <div>\n                      {appointment.created_at}\n                    </div>\n                    <div>\n                      Created by {appointment.created_by}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Table controls */}\n        <ReportTableControls\n          isUnder={true}\n\n          onMaxRowsChange={() => $setUpdater(Math.random())}\n\n          amount={{\n            total: reportData.interface.rows_all,\n            start: reportData.interface.rows_start,\n            end: reportData.interface.rows_end\n          }}\n\n          page={localInterface.page}\n          maxPages={reportData.interface.max_pages}\n          onPagesStart={() => setLocalInterface({...localInterface, page: 1})}\n          onPrevPage={() => setLocalInterface({...localInterface, page: localInterface.page-1})}\n          onNextPage={() => setLocalInterface({...localInterface, page: localInterface.page+1})}\n          onPagesEnd={() => setLocalInterface({...localInterface, page: reportData.interface.max_pages})}\n          \n          sort={localInterface.sort}\n          sortFields={localInterface.sortFields}\n          onSortFieldChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, field: value}})}\n          onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, direction: value}})}\n          onSortFire={() => $setUpdater(Math.random())}\n        />\n\n        {/* Item share popup */}\n        {localInterface.appointmentSharePopup ? (\n          <div className=\"popup appointmentSharePopup\" onClick={() => setLocalInterface({...localInterface, appointmentSharePopup: false})}>\n\n            <div className=\"wrapper\" onClick={(e) => e.stopPropagation()}>\n            \n              <div className=\"item-name\">\n                2665NSM-A-01\n              </div>\n\n              <button className=\"_wa _iconed _bordered _blue\">\n                <span>Send</span>\n                <Icon icon=\"arrow-60\" />\n              </button>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    ) : null}\n  </>)\n})\nexport default AppointmentsPage_List\n"]},"metadata":{},"sourceType":"module"}