{"ast":null,"code":"var _jsxFileName = \"/Users/nicole/rrrr/crm/src/pages/ServiceResources/New.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { nError } from \"../../funcs/base\";\nimport { mapDispatchToProps, mapStateToProps } from \"../../store\";\nimport Select from \"../../components/Select\";\nimport { useRoute } from \"react-router5\";\nimport Switcher from \"../../components/Switcher\";\nimport \"../../styles/pages/common/entity-edit.sass\";\nimport Checkbox from \"../../components/Checkbox\";\nimport ReactInputMask from \"react-input-mask\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ServiceResourcesPage_New = connect(mapStateToProps, mapDispatchToProps)(_s(function (props) {\n  _s();\n\n  const [readyToSave, setReadyToSave] = useState(false);\n  const $router = useRoute();\n  const [edit, setEdit] = useState(null);\n  const [newServiceResourceData, setNewServiceResourceData] = useState(null); // Load info function\n\n  async function loadInfo() {\n    try {\n      const {\n        data: serviceResourcesData\n      } = await axios.get('/json/service_resources.json');\n      setEdit(serviceResourcesData.edit);\n      setNewServiceResourceData({ ...newServiceResourceData,\n        name: '',\n        active: true,\n        user: '',\n        time_zone: '',\n        area: '',\n        phone: '',\n        slack_channel: '',\n        slack_member_id: '',\n        is_phone: false,\n        is_slack: false\n      });\n      setTimeout(() => setReadyToSave(false), 100);\n    } catch (error) {\n      nError(error);\n    }\n  } // Load serviceResource data\n\n\n  useEffect(() => {\n    loadInfo();\n  }, []); // Watch changes\n\n  useEffect(() => {\n    setReadyToSave(true);\n  }, [newServiceResourceData]); // Render function\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: newServiceResourceData && edit ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ServiceResourcesPage_New entity-edit\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper flex-container sb\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"New Service Resource\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fieldset\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend\",\n          children: \"Main\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fields\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__left\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"NickName:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                defaultValue: newServiceResourceData.name,\n                onChange: _ref => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref;\n                  return setNewServiceResourceData({ ...newServiceResourceData,\n                    name: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__right\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Active:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Switcher, {\n                checked: newServiceResourceData.active,\n                onChange: value => setNewServiceResourceData({ ...newServiceResourceData,\n                  active: value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fieldset\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend\",\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fields\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              style: {\n                zIndex: 6\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"User:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                options: edit.users.map(user => ({\n                  span: user.user,\n                  value: user.user_id\n                })),\n                selectedOption: newServiceResourceData.area,\n                onChange: value => setNewServiceResourceData({ ...newServiceResourceData,\n                  area: value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              style: {\n                zIndex: 5\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Area:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                options: edit.area.map(option => ({\n                  span: option,\n                  value: option\n                })),\n                selectedOption: newServiceResourceData.area,\n                onChange: value => setNewServiceResourceData({ ...newServiceResourceData,\n                  area: value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__right\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Time Zone:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                options: edit.time_zone.map(option => ({\n                  span: option,\n                  value: option\n                })),\n                selectedOption: newServiceResourceData.time_zone,\n                onChange: value => setNewServiceResourceData({ ...newServiceResourceData,\n                  time_zone: value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fieldset\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend\",\n          children: \"Notifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fields\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Phone:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ReactInputMask, {\n                type: \"text\",\n                mask: \"+1 (999) 999-9999\",\n                defaultValue: newServiceResourceData.phone,\n                onChange: _ref2 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref2;\n                  return setNewServiceResourceData({ ...newServiceResourceData,\n                    phone: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Slack Channel:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                defaultValue: newServiceResourceData.slack_channel,\n                onChange: _ref3 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref3;\n                  return setNewServiceResourceData({ ...newServiceResourceData,\n                    slack_channel: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Slack Member ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                defaultValue: newServiceResourceData.slack_member_id,\n                onChange: _ref4 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref4;\n                  return setNewServiceResourceData({ ...newServiceResourceData,\n                    slack_member_id: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Phone:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n                contents: \"\",\n                value: newServiceResourceData.is_phone,\n                onChange: value => setNewServiceResourceData({ ...newServiceResourceData,\n                  is_phone: value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Is Slack:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n                contents: \"\",\n                value: newServiceResourceData.is_slack,\n                onChange: value => setNewServiceResourceData({ ...newServiceResourceData,\n                  is_slack: value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper flex-container sb editing-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"_bordered _red\",\n            onClick: () => $router.router.navigate('service_resources', {}, {\n              reload: true\n            }),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: !readyToSave,\n            className: \"_bordered _green\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this) : null\n  }, void 0, false);\n}, \"H2EZHWTOfcsJyIfhbrGKNlpskXg=\", false, function () {\n  return [useRoute];\n}));\nexport default ServiceResourcesPage_New;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/ServiceResources/New.tsx"],"names":["axios","useEffect","useState","connect","nError","mapDispatchToProps","mapStateToProps","Select","useRoute","Switcher","Checkbox","ReactInputMask","ServiceResourcesPage_New","props","readyToSave","setReadyToSave","$router","edit","setEdit","newServiceResourceData","setNewServiceResourceData","loadInfo","data","serviceResourcesData","get","name","active","user","time_zone","area","phone","slack_channel","slack_member_id","is_phone","is_slack","setTimeout","error","target","value","zIndex","users","map","span","user_id","option","router","navigate","reload"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { nError } from \"../../funcs/base\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../store\";\n\nimport Select from \"../../components/Select\"\nimport { useRoute } from \"react-router5\"\nimport Switcher from \"../../components/Switcher\"\n\nimport \"../../styles/pages/common/entity-edit.sass\"\nimport Checkbox from \"../../components/Checkbox\"\nimport ReactInputMask from \"react-input-mask\"\nimport ServiceResource from \"../../models/ServiceResource\"\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\nconst ServiceResourcesPage_New = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const [readyToSave, setReadyToSave] = useState(false)\n\n  const $router = useRoute()\n\n  const [edit, setEdit] = useState<{\n\n    users: {\n      user_id: string,\n      user: string\n    }[],\n    time_zone: string[],\n    area: string[]\n  } | null>(null)\n\n  const [newServiceResourceData, setNewServiceResourceData] = useState<Partial<ServiceResource> | null>(null)\n  \n  // Load info function\n  async function loadInfo() {\n    try {\n      const { data: serviceResourcesData } = (await axios.get('/json/service_resources.json'))\n\n      setEdit(serviceResourcesData.edit)\n\n      setNewServiceResourceData({\n        ...newServiceResourceData,\n\n        name: '',\n        active: true,\n\n        user: '',\n        time_zone: '',\n        area: '',\n\n        phone: '',\n        slack_channel: '',\n        slack_member_id: '',\n\n        is_phone: false,\n        is_slack: false,\n      })\n\n      setTimeout(() => setReadyToSave(false), 100)\n    }\n    catch (error) {\n      nError(error)\n    }\n  }\n\n  // Load serviceResource data\n  useEffect(() => {\n    loadInfo()\n  }, [])\n\n  // Watch changes\n  useEffect(() => {\n    setReadyToSave(true)\n  }, [\n    newServiceResourceData\n  ])\n  \n  // Render function\n  return (<>\n    {newServiceResourceData && edit ? (\n      <div className=\"ServiceResourcesPage_New entity-edit\">\n\n        <div className=\"wrapper flex-container sb\">\n          <h1>New Service Resource</h1>\n        </div>\n        \n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Main</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>NickName:</span>\n                \n                <input type=\"text\" defaultValue={newServiceResourceData.name} onChange={({target: {value}}) => setNewServiceResourceData({...newServiceResourceData, name: value})} />\n              </div>\n            </div>\n\n            \n            <div className=\"__right\">\n\n              <div className=\"field\">\n                <span>Active:</span>\n                \n                <Switcher checked={newServiceResourceData.active as boolean} onChange={(value) => setNewServiceResourceData({...newServiceResourceData, active: value})} />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"legend\">Settings</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n\n              <div className=\"field\" style={{zIndex: 6}}>\n                <span>User:</span>\n\n                <Select options={edit.users.map((user) => ({\n                  span: user.user,\n                  value: user.user_id\n                }))} selectedOption={newServiceResourceData.area as string} onChange={(value: string) => setNewServiceResourceData({...newServiceResourceData, area: value})}/>\n              </div>\n\n              <div className=\"field\" style={{zIndex: 5}}>\n                <span>Area:</span>\n                <Select options={edit.area.map((option) => ({\n                  span: option,\n                  value: option\n                }))} selectedOption={newServiceResourceData.area as string} onChange={(value: string) => setNewServiceResourceData({...newServiceResourceData, area: value})}/>\n              </div>\n            </div>\n\n            <div className=\"__right\">\n\n              <div className=\"field\">\n                <span>Time Zone:</span>\n                <Select options={edit.time_zone.map((option) => ({\n                  span: option,\n                  value: option\n                }))} selectedOption={newServiceResourceData.time_zone as string} onChange={(value: string) => setNewServiceResourceData({...newServiceResourceData, time_zone: value})}/>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"legend\">Notifications</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n\n              <div className=\"field\">\n                <span>Phone:</span>\n                <ReactInputMask type=\"text\" mask=\"+1 (999) 999-9999\" defaultValue={newServiceResourceData.phone} onChange={({target: {value}}) => setNewServiceResourceData({...newServiceResourceData, phone: value})} />\n              </div>\n\n              <div className=\"field\">\n                <span>Slack Channel:</span>\n\n                <input type=\"text\" defaultValue={newServiceResourceData.slack_channel} onChange={({target: {value}}) => setNewServiceResourceData({...newServiceResourceData, slack_channel: value})} />\n              </div>\n\n              <div className=\"field\">\n                <span>Slack Member ID:</span>\n\n                <input type=\"text\" defaultValue={newServiceResourceData.slack_member_id} onChange={({target: {value}}) => setNewServiceResourceData({...newServiceResourceData, slack_member_id: value})} />\n              </div>\n\n            </div>\n\n            <div className=\"__right\">\n\n              <div className=\"field\">\n                <span>Phone:</span>\n\n                <Checkbox contents='' value={newServiceResourceData.is_phone} onChange={(value) => setNewServiceResourceData({...newServiceResourceData, is_phone: value})} />\n              </div>\n\n              <div className=\"field\">\n                <span>Is Slack:</span>\n\n                <Checkbox contents='' value={newServiceResourceData.is_slack} onChange={(value) => setNewServiceResourceData({...newServiceResourceData, is_slack: value})} />\n              </div>\n\n            </div>\n          </div>\n        </div>\n\n        <div className=\"wrapper flex-container sb editing-buttons\">\n          <div />\n          <div className=\"buttons\">\n            <button className=\"_bordered _red\" onClick={() => $router.router.navigate('service_resources', {}, {\n              reload: true\n            })}>\n              Cancel\n            </button>\n            <button disabled={!readyToSave} className=\"_bordered _green\">\n              Save\n            </button>\n          </div>\n        </div>\n      </div>\n    ) : null}\n  </>)\n})\nexport default ServiceResourcesPage_New\n"]},"metadata":{},"sourceType":"module"}