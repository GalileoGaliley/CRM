{"ast":null,"code":"import _objectSpread from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import classNames from\"classnames\";import React,{useState}from\"react\";import{connect}from\"react-redux\";import{BaseLink,useRoute}from\"react-router5\";import Icon from\"../../components/Icon\";import{mapDispatchToProps,mapStateToProps}from\"../../store\";import\"../../styles/pages/lists.sass\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListsPage_Areas=connect(mapStateToProps,mapDispatchToProps)(function(props){var $router=useRoute();var _useState=useState({name:''}),_useState2=_slicedToArray(_useState,2),newItemForm=_useState2[0],setNewItemForm=_useState2[1];var _useState3=useState({name:''}),_useState4=_slicedToArray(_useState3,2),editItemForm=_useState4[0],setEditItemForm=_useState4[1];var _useState5=useState([{name:'Hello World',editing:false}]),_useState6=_slicedToArray(_useState5,2),items=_useState6[0],setItems=_useState6[1];// Add item function\nfunction addItem(){var name=newItemForm.name;var _items=_toConsumableArray(items);_items.unshift({name:name,editing:false});setItems(_items);setNewItemForm(_objectSpread(_objectSpread({},newItemForm),{},{name:''}));}// Remove item function\nfunction removeItem(i){var _items=_toConsumableArray(items);_items.splice(i,1);setItems(_items);}// Set editing function\nfunction setEditing(i,flag){var _items=_toConsumableArray(items);_items=_items.map(function(item){return _objectSpread(_objectSpread({},item),{},{editing:false});});_items[i].editing=flag;setItems(_items);setEditItemForm(_objectSpread(_objectSpread({},editItemForm),{},{name:flag?_items[i].name:''}));}// Set item function\nfunction setItem(i){var _items=_toConsumableArray(items);_items[i]={name:editItemForm.name,editing:false};setItems(_items);}// Render function\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"ListsPage_Areas\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-nav\",children:[/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"lists.appliances\",className:classNames({_active:$router.route.name===\"tasks.appliances\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"task-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Appliances\"})]}),/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"lists.brands\",className:classNames({_active:$router.route.name===\"tasks.brands\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"task-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Brands\"})]}),/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"lists.sources\",className:classNames({_active:$router.route.name===\"tasks.sources\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"task-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sources\"})]}),/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"lists.areas\",className:classNames({_active:$router.route.name===\"tasks.areas\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"task-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Areas\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container sb header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"List of Areas\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();addItem();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newItemForm.name,onChange:function onChange(_ref){var value=_ref.target.value;return setNewItemForm(_objectSpread(_objectSpread({},newItemForm),{},{name:value}));}}),/*#__PURE__*/_jsx(\"button\",{className:\"_wa _green\",disabled:newItemForm.name.length<1,children:\"Add\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:'100%'},children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{})]}),items.map(function(item,i){return/*#__PURE__*/_jsx(React.Fragment,{children:item.editing?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"editing-form\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"_zeroed\",type:\"text\",defaultValue:editItemForm.name,onChange:function onChange(_ref2){var value=_ref2.target.value;return setEditItemForm(_objectSpread(_objectSpread({},editItemForm),{},{name:value}));}}),/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed _red\",onClick:function onClick(){return setEditing(i,false);},children:/*#__PURE__*/_jsx(Icon,{icon:\"pencil-16\"})})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed _green\",onClick:function onClick(){return setItem(i);},children:/*#__PURE__*/_jsx(Icon,{icon:\"check-mark-1\"})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed _red\",onClick:function onClick(){return removeItem(i);},children:/*#__PURE__*/_jsx(Icon,{icon:\"x-mark-1\"})})})]}):/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed _blue\",onClick:function onClick(){return setEditing(i,true);},children:/*#__PURE__*/_jsx(Icon,{icon:\"pencil-14\"})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed _red\",onClick:function onClick(){return removeItem(i);},children:/*#__PURE__*/_jsx(Icon,{icon:\"x-mark-1\"})})})]},i)},i);})]})]})]});});export default ListsPage_Areas;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/Lists/Areas.tsx"],"names":["classNames","React","useState","connect","BaseLink","useRoute","Icon","mapDispatchToProps","mapStateToProps","ListsPage_Areas","props","$router","name","newItemForm","setNewItemForm","editItemForm","setEditItemForm","editing","items","setItems","addItem","_items","unshift","removeItem","i","splice","setEditing","flag","map","item","setItem","router","_active","route","e","preventDefault","value","target","length","width"],"mappings":"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","sourcesContent":["import classNames from \"classnames\"\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { BaseLink, useRoute } from \"react-router5\"\nimport Icon from \"../../components/Icon\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../store\";\n\nimport \"../../styles/pages/lists.sass\"\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\nconst ListsPage_Areas = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const $router = useRoute()\n\n  const [newItemForm, setNewItemForm] = useState({\n    name: ''\n  })\n\n  const [editItemForm, setEditItemForm] = useState({\n    name: ''\n  })\n\n  const [items, setItems] = useState([{\n    name: 'Hello World',\n\n    editing: false\n  }])\n\n  // Add item function\n  function addItem() {\n\n    let { name } = newItemForm\n    \n    let _items = [...items]\n    _items.unshift({\n      name,\n\n      editing: false\n    })\n\n    setItems(_items)\n\n    setNewItemForm({\n      ...newItemForm,\n      name: ''\n    })\n  }\n\n  // Remove item function\n  function removeItem(i: number) {\n\n    let _items = [...items]\n    _items.splice(i, 1)\n    setItems(_items)\n  }\n\n  // Set editing function\n  function setEditing(i: number, flag: boolean) {\n\n    let _items = [...items]\n    _items = _items.map((item) => ({...item, editing: false}))\n    _items[i].editing = flag\n    setItems(_items)\n\n    setEditItemForm({\n      ...editItemForm,\n      name: flag ? _items[i].name : ''\n    })\n  }\n\n  // Set item function\n  function setItem(i: number) {\n\n    let _items = [...items]\n    _items[i] = {\n      name: editItemForm.name,\n      editing: false\n    }\n    setItems(_items)\n  }\n  \n  // Render function\n  return (\n    <div className=\"ListsPage_Areas\">\n      \n      {/* Top navigation */}\n      <div className=\"top-nav\">\n        <BaseLink router={$router.router} routeName=\"lists.appliances\" className={classNames({_active: $router.route.name === \"tasks.appliances\"})}>\n          <Icon icon=\"task-1\" />\n          <span>Appliances</span>\n        </BaseLink>\n\n        <BaseLink router={$router.router} routeName=\"lists.brands\" className={classNames({_active: $router.route.name === \"tasks.brands\"})}>\n          <Icon icon=\"task-1\" />\n          <span>Brands</span>\n        </BaseLink>\n\n        <BaseLink router={$router.router} routeName=\"lists.sources\" className={classNames({_active: $router.route.name === \"tasks.sources\"})}>\n          <Icon icon=\"task-1\" />\n          <span>Sources</span>\n        </BaseLink>\n\n        <BaseLink router={$router.router} routeName=\"lists.areas\" className={classNames({_active: $router.route.name === \"tasks.areas\"})}>\n          <Icon icon=\"task-1\" />\n          <span>Areas</span>\n        </BaseLink>\n      </div>\n\n      {/* Contents */}\n      <div className=\"wrapper\">\n\n        <div className=\"flex-container sb header\">\n          <h1>List of Areas</h1>\n\n          <form onSubmit={(e) => { e.preventDefault(); addItem()}}>\n            <div className=\"label\">Name:</div>\n            <input type=\"text\" value={newItemForm.name} onChange={({target: {value}}) => setNewItemForm({...newItemForm, name: value})} />\n            <button className=\"_wa _green\" disabled={newItemForm.name.length < 1}>Add</button>\n          </form>\n        </div>\n\n        {/* Table */}\n        <table className=\"table\">\n          <tr>\n            <th style={{width: '100%'}}>Name</th>\n            <th></th>\n            <th></th>\n          </tr>\n          {items.map((item, i) => (<React.Fragment key={i}>\n            {item.editing ? (\n              <tr>\n                <td>\n                  <div className=\"editing-form\">\n                    <input className=\"_zeroed\" type=\"text\" defaultValue={editItemForm.name} onChange={({target: {value}}) => setEditItemForm({...editItemForm, name: value})} />\n                    <button className=\"_zeroed _iconed _red\" onClick={() => setEditing(i, false)}>\n                      <Icon icon=\"pencil-16\" />\n                    </button>\n                  </div>\n                </td>\n                <td>\n                  <button className=\"_zeroed _iconed _green\" onClick={() => setItem(i)}>\n                    <Icon icon=\"check-mark-1\" />\n                  </button>\n                </td>\n                <td>\n                  <button className=\"_zeroed _iconed _red\" onClick={() => removeItem(i)}>\n                    <Icon icon=\"x-mark-1\" />\n                  </button>\n                </td>\n              </tr>\n            ) : (\n              <tr key={i}>\n                <td>{item.name}</td>\n                <td>\n                  <button className=\"_zeroed _iconed _blue\" onClick={() => setEditing(i, true)}>\n                    <Icon icon=\"pencil-14\" />\n                  </button>\n                </td>\n                <td>\n                  <button className=\"_zeroed _iconed _red\" onClick={() => removeItem(i)}>\n                    <Icon icon=\"x-mark-1\" />\n                  </button>\n                </td>\n              </tr>\n            )}\n          </React.Fragment>))}\n        </table>\n      </div>\n    </div>\n  )\n})\nexport default ListsPage_Areas\n"]},"metadata":{},"sourceType":"module"}