{"ast":null,"code":"import _objectSpread from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{httpClient,nError}from\"../../funcs\";import{mapDispatchToProps,mapStateToProps}from\"../../store\";import Datetime from'react-datetime';import\"../../styles/pages/common/entity-edit.sass\";import moment from\"moment\";import Select from\"../../components/Select\";import Checkbox from\"../../components/Checkbox\";import classNames from\"classnames\";import{useRoute}from\"react-router5\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AppointmentsPage_Item=connect(mapStateToProps,mapDispatchToProps)(function(props){var $router=useRoute();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),readyToSave=_useState2[0],setReadyToSave=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),editing=_useState4[0],setEditing=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),deleting=_useState6[0],setDeleting=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),readyToDelete=_useState8[0],setReadyToDelete=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),appointmentData=_useState10[0],setAppointmentData=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),newAppointmentData=_useState12[0],setNewAppointmentData=_useState12[1];// Load info function\nfunction loadInfo(){return _loadInfo.apply(this,arguments);}// Load appointment data\nfunction _loadInfo(){_loadInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _ref2,_appointmentData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return httpClient.get('/appointmens');case 3:_ref2=_context.sent;_appointmentData=_ref2.data;console.log(_appointmentData);setAppointmentData(_appointmentData);setNewAppointmentData(_objectSpread(_objectSpread({},_appointmentData.appointment),{},{schedule_time_start:new Date(_appointmentData.appointment.schedule_time_start),schedule_time_end:new Date(_appointmentData.appointment.schedule_time_end)}));setTimeout(function(){return setReadyToSave(false);},100);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);nError(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return _loadInfo.apply(this,arguments);}useEffect(function(){loadInfo();},[]);useEffect(function(){return setReadyToSave(true);},[newAppointmentData]);// Render function\nreturn/*#__PURE__*/_jsx(_Fragment,{children:appointmentData&&newAppointmentData?/*#__PURE__*/_jsxs(\"div\",{className:\"AppointmentsPage_Item entity-edit\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper flex-container sb\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Appointment\"}),appointmentData!==null&&appointmentData!==void 0&&appointmentData.permissions.edit_appointment&&!editing?/*#__PURE__*/_jsx(\"button\",{className:\"_wa _green\",onClick:function onClick(){return setEditing(true);},children:\"Edit\"}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Main\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:true,defaultValue:newAppointmentData.name,onChange:function onChange(_ref){var value=_ref.target.value;return setNewAppointmentData(_objectSpread(_objectSpread({},newAppointmentData),{},{name:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",style:{zIndex:6},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Type:\"}),/*#__PURE__*/_jsx(Select,{disabled:!editing,options:appointmentData.edit.type.map(function(option){return{span:option,value:option};}),selectedOption:newAppointmentData.type,onChange:function onChange(value){return setNewAppointmentData(_objectSpread(_objectSpread({},newAppointmentData),{},{type:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Status:\"}),/*#__PURE__*/_jsx(Select,{disabled:!editing,options:appointmentData.edit.status.map(function(option){return{span:option,value:option};}),selectedOption:newAppointmentData.status,onChange:function onChange(value){return setNewAppointmentData(_objectSpread(_objectSpread({},newAppointmentData),{},{status:value}));}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Job:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:true,defaultValue:newAppointmentData.job})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Property Type:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:true,defaultValue:newAppointmentData.property_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Area:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:true,defaultValue:newAppointmentData.area})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Schedule\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Appointment start:\"}),/*#__PURE__*/_jsx(Datetime,{inputProps:{disabled:!editing},value:newAppointmentData.schedule_time_start,onChange:function onChange(value){return setNewAppointmentData(_objectSpread(_objectSpread({},newAppointmentData),{},{schedule_time_start:moment.isMoment(value)?value.toDate():appointmentData.appointment.schedule_time_start}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Appointment end:\"}),/*#__PURE__*/_jsx(Datetime,{inputProps:{disabled:!editing},value:newAppointmentData.schedule_time_end,onChange:function onChange(value){return setNewAppointmentData(_objectSpread(_objectSpread({},newAppointmentData),{},{schedule_time_end:moment.isMoment(value)?value.toDate():appointmentData.appointment.schedule_time_end}));}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"__right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Service Resource:\"}),/*#__PURE__*/_jsx(Select,{disabled:!editing,options:appointmentData.edit.service_resources.map(function(option){return{span:option.nickname,value:option.nickname};}),selectedOption:newAppointmentData.service_resource,onChange:function onChange(value){return setNewAppointmentData(_objectSpread(_objectSpread({},newAppointmentData),{},{service_resource:value}));}})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Date Created:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:appointmentData===null||appointmentData===void 0?void 0:appointmentData.appointment.created_at,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Created by:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:appointmentData===null||appointmentData===void 0?void 0:appointmentData.appointment.created_by,disabled:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Last Edited:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:appointmentData===null||appointmentData===void 0?void 0:appointmentData.appointment.last_edited_at,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Last Edited By:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:appointmentData===null||appointmentData===void 0?void 0:appointmentData.appointment.last_edited_by,disabled:true})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Clients\"}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__show-on-wide',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Main Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Source\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Jobs\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Appointments\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Recalls\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Paid\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Unpaid\"})]}),appointmentData.clients.map(function(client,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return $router.router.navigate('clients.item',{clientId:client.client_id},{reload:true});},children:[/*#__PURE__*/_jsx(\"td\",{children:client.name}),/*#__PURE__*/_jsx(\"td\",{children:client.main_phone}),/*#__PURE__*/_jsx(\"td\",{children:client.source}),/*#__PURE__*/_jsx(\"td\",{children:client.jobs}),/*#__PURE__*/_jsx(\"td\",{children:client.appointments}),/*#__PURE__*/_jsx(\"td\",{children:client.recalls}),/*#__PURE__*/_jsx(\"td\",{children:client.total}),/*#__PURE__*/_jsx(\"td\",{children:client.paid}),/*#__PURE__*/_jsx(\"td\",{children:client.unpaid})]},i);})]}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__hide-on-wide','__hide-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsx(\"tr\",{}),appointmentData.clients.map(function(client,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return $router.router.navigate('clients.item',{clientId:client.client_id},{reload:true});},children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:client.name}),/*#__PURE__*/_jsx(\"div\",{children:client.main_phone})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:client.source}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Jobs: \",client.jobs]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Appointments: \",client.appointments]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Recalls: \",client.recalls]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Total: \",client.total]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Paid: \",client.paid]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Unpaid: \",client.unpaid]}),/*#__PURE__*/_jsx(\"div\",{children:\"\\xA0\"})]})]},i);})]}),/*#__PURE__*/_jsx(\"div\",{className:classNames('mobile-table','__show-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:/*#__PURE__*/_jsx(\"div\",{className:\"mobile-table-items\",children:appointmentData.clients.map(function(client,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",onClick:function onClick(){return $router.router.navigate('clients.item',{clientId:client.client_id},{reload:true});},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:client.name})}),/*#__PURE__*/_jsx(\"div\",{children:client.main_phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Total: \",/*#__PURE__*/_jsx(\"b\",{children:client.total})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Paid: \",/*#__PURE__*/_jsx(\"b\",{children:client.paid})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Unpaid: \",/*#__PURE__*/_jsx(\"b\",{children:client.unpaid})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Jobs:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",client.jobs]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Recalls:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",client.recalls]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Appointments:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",client.appointments]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"__right small\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:client.source})})})]})]},i);})})})]}),editing?/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper flex-container sb editing-buttons\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"_red\",onClick:function onClick(){return setDeleting(true);},children:\"Delete Appointment\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"_bordered _red\",onClick:function onClick(){return setEditing(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!readyToSave,className:\"_bordered _green\",children:\"Save\"})]})]}):null,deleting?/*#__PURE__*/_jsx(\"div\",{className:\"item-delete-popup\",onClick:function onClick(){return setDeleting(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Delete Appointment\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-wrapper\",children:/*#__PURE__*/_jsx(Checkbox,{contents:\"I understand that after deleting the appointment it will not be possible to recover.\",value:readyToDelete,onChange:function onChange(value){return setReadyToDelete(value);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"_bordered _green\",onClick:function onClick(){return setDeleting(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!readyToDelete,className:\"_bordered _red\",children:\"Delete\"})]})]})}):null]}):null});});export default AppointmentsPage_Item;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/Appointments/Item.tsx"],"names":["React","useEffect","useState","connect","httpClient","nError","mapDispatchToProps","mapStateToProps","Datetime","moment","Select","Checkbox","classNames","useRoute","AppointmentsPage_Item","props","$router","readyToSave","setReadyToSave","editing","setEditing","deleting","setDeleting","readyToDelete","setReadyToDelete","appointmentData","setAppointmentData","newAppointmentData","setNewAppointmentData","loadInfo","get","data","console","log","appointment","schedule_time_start","Date","schedule_time_end","setTimeout","permissions","edit_appointment","name","value","target","zIndex","edit","type","map","option","span","status","job","property_type","area","disabled","isMoment","toDate","service_resources","nickname","service_resource","created_at","created_by","last_edited_at","last_edited_by","__respectAsidePanel","store","navActive","is","clients","client","i","router","navigate","clientId","client_id","reload","main_phone","source","jobs","appointments","recalls","total","paid","unpaid","e","stopPropagation"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport Icon from \"../../components/Icon\"\nimport {httpClient, nError} from \"../../funcs\"\nimport Appointment from \"../../models/Appointment\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../store\";\nimport Datetime from 'react-datetime'\n\nimport \"../../styles/pages/common/entity-edit.sass\"\nimport moment from \"moment\"\nimport Select from \"../../components/Select\"\nimport Checkbox from \"../../components/Checkbox\"\nimport Client from \"../../models/Client\"\nimport ServiceResource from \"../../models/ServiceResource\"\nimport classNames from \"classnames\"\nimport { useRoute } from \"react-router5\"\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\ninterface AppointmentData {\n  \n  permissions: {\n    \n    edit_appointment: boolean,\n    show_client: boolean,\n  },\n\n  appointment: Appointment,\n\n  clients: Client[],\n\n  edit: {\n    type: string[],\n    status: string[],\n    service_resources: ServiceResource[]\n  }\n}\n\nconst AppointmentsPage_Item = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const $router = useRoute()\n  \n  const [readyToSave, setReadyToSave] = useState(false)\n\n  const [editing, setEditing] = useState(false)\n\n  const [deleting, setDeleting] = useState(false)\n  const [readyToDelete, setReadyToDelete] = useState(false)\n  \n  const [appointmentData, setAppointmentData] = useState<AppointmentData | null>(null)\n\n  const [newAppointmentData, setNewAppointmentData] = useState<Partial<Appointment> | null>(null)\n  \n  // Load info function\n  async function loadInfo() {\n    try {\n      const { data: appointmentData } = await httpClient.get('/appointmens') as {data: AppointmentData}\n      console.log(appointmentData);\n      setAppointmentData(appointmentData)\n\n      setNewAppointmentData({\n        ...appointmentData.appointment,\n        schedule_time_start: new Date(appointmentData.appointment.schedule_time_start),\n        schedule_time_end: new Date(appointmentData.appointment.schedule_time_end),\n      })\n\n      setTimeout(() => setReadyToSave(false), 100)\n    }\n    catch (error) {\n      nError(error)\n    }\n  }\n\n  // Load appointment data\n  useEffect(() => {\n    loadInfo()\n  }, [])\n\n  useEffect(() => setReadyToSave(true), [\n    newAppointmentData\n  ])\n  \n  // Render function\n  return (<>\n    {appointmentData && newAppointmentData ? (\n      <div className=\"AppointmentsPage_Item entity-edit\">\n\n        <div className=\"wrapper flex-container sb\">\n          <h1>Appointment</h1>\n\n          {appointmentData?.permissions.edit_appointment && !editing ? (\n            <button className=\"_wa _green\" onClick={() => setEditing(true)}>\n              Edit\n            </button>\n          ) : null}\n        </div>\n        \n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Main</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n\n              <div className=\"field\">\n                <span>Name:</span>\n                <input type=\"text\" disabled={true} defaultValue={newAppointmentData.name} onChange={({target: {value}}) => setNewAppointmentData({...newAppointmentData, name: value})} />\n              </div>\n\n              <div className=\"field\" style={{zIndex: 6}}>\n                <span>Type:</span>\n                <Select disabled={!editing} options={appointmentData.edit.type.map((option) => ({\n                  span: option,\n                  value: option\n                }))} selectedOption={newAppointmentData.type as string} onChange={(value: string) => setNewAppointmentData({...newAppointmentData, type: value})}/>\n              </div>\n\n              <div className=\"field\">\n                <span>Status:</span>\n                <Select disabled={!editing} options={appointmentData.edit.status.map((option) => ({\n                  span: option,\n                  value: option\n                }))} selectedOption={newAppointmentData.status as string} onChange={(value: string) => setNewAppointmentData({...newAppointmentData, status: value})}/>\n              </div>\n            </div>\n\n            \n            <div className=\"__right\">\n\n              <div className=\"field\">\n                <span>Job:</span>\n                <input type=\"text\" disabled={true} defaultValue={newAppointmentData.job} />\n              </div>\n\n              <div className=\"field\">\n                <span>Property Type:</span>\n                <input type=\"text\" disabled={true} defaultValue={newAppointmentData.property_type} />\n              </div>\n\n              <div className=\"field\">\n                <span>Area:</span>\n                <input type=\"text\" disabled={true} defaultValue={newAppointmentData.area} />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Schedule</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n\n              <div className=\"field\">\n                <span>Appointment start:</span>\n                <Datetime inputProps={{ disabled: !editing }} value={newAppointmentData.schedule_time_start} onChange={(value) => setNewAppointmentData({...newAppointmentData, schedule_time_start: moment.isMoment(value) ? value.toDate() : (appointmentData as AppointmentData).appointment.schedule_time_start})} />\n              </div>\n\n              <div className=\"field\">\n                <span>Appointment end:</span>\n                <Datetime inputProps={{ disabled: !editing }} value={newAppointmentData.schedule_time_end} onChange={(value) => setNewAppointmentData({...newAppointmentData, schedule_time_end: moment.isMoment(value) ? value.toDate() : (appointmentData as AppointmentData).appointment.schedule_time_end})} />\n              </div>\n            </div>\n\n            \n            <div className=\"__right\">\n\n              <div className=\"field\">\n                <span>Service Resource:</span>\n                <Select disabled={!editing} options={appointmentData.edit.service_resources.map((option) => ({\n                  span: option.nickname,\n                  value: option.nickname\n                }))} selectedOption={newAppointmentData.service_resource as string} onChange={(value: string) => setNewAppointmentData({...newAppointmentData, service_resource: value})}/>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Info</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Date Created:</span>\n                <input type=\"text\" defaultValue={appointmentData?.appointment.created_at} disabled={ true } />\n              </div>\n\n              <div className=\"field\">\n                <span>Created by:</span>\n                <input type=\"text\" defaultValue={appointmentData?.appointment.created_by} disabled={ true } />\n              </div>\n            </div>\n\n            \n            <div className=\"__right\">\n\n              <div className=\"field\">\n                <span>Last Edited:</span>\n                <input type=\"text\" defaultValue={appointmentData?.appointment.last_edited_at} disabled={ true } />\n              </div>\n\n              <div className=\"field\">\n                <span>Last Edited By:</span>\n                <input type=\"text\" defaultValue={appointmentData?.appointment.last_edited_by} disabled={ true } />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"legend\">Clients</div>\n\n          <table className={classNames('table', '__show-on-wide', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <th>Date</th>\n              <th>Main Phone</th>\n              <th>Source</th>\n              <th>Jobs</th>\n              <th>Appointments</th>\n              <th>Recalls</th>\n              <th>Total</th>\n              <th>Paid</th>\n              <th>Unpaid</th>\n            </tr>\n            {appointmentData.clients.map((client, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('clients.item', {\n                clientId: client.client_id\n              }, {reload: true})}>\n                <td>{client.name}</td>\n                <td>{client.main_phone}</td>\n                <td>{client.source}</td>\n                <td>{client.jobs}</td>\n                <td>{client.appointments}</td>\n                <td>{client.recalls}</td>\n                <td>{client.total}</td>\n                <td>{client.paid}</td>\n                <td>{client.unpaid}</td>\n              </tr>\n            ))}\n          </table>\n\n          <table className={classNames('table', '__hide-on-wide', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr></tr>\n            {appointmentData.clients.map((client, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('clients.item', {\n                clientId: client.client_id\n              }, {reload: true})}>\n                <td>\n                  <div>{client.name}</div>\n                  <div>{client.main_phone}</div>\n                </td>\n                <td>\n                  <div>{client.source}</div>\n                  <div>Jobs: {client.jobs}</div>\n                </td>\n                <td>\n                  <div>Appointments: {client.appointments}</div>\n                  <div>Recalls: {client.recalls}</div>\n                </td>\n                <td>\n                  <div>Total: {client.total}</div>\n                  <div>Paid: {client.paid}</div>\n                </td>\n                <td>\n                  <div>Unpaid: {client.unpaid}</div>\n                  <div>&nbsp;</div>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          <div className={classNames('mobile-table', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            <div className=\"mobile-table-items\">\n\n              {appointmentData.clients.map((client, i: number) => (\n                <div className=\"item\" key={i} onClick={() => $router.router.navigate('clients.item', {\n                clientId: client.client_id\n              }, {reload: true})}>\n\n                  <div className=\"__top\">\n\n                    <div className=\"__left\">\n                      <div><b>{client.name}</b></div>\n                      <div>\n                        {client.main_phone}\n                      </div>\n                    </div>\n\n                    <div className=\"__right\">\n                      <div>\n                        Total: <b>{client.total}</b>\n                      </div>\n                      <div>\n                        Paid: <b>{client.paid}</b>\n                      </div>\n                      <div>\n                        Unpaid: <b>{client.unpaid}</b>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"__bottom\">\n\n                    <div className=\"__left\">\n                      <div>\n                        <span className=\"gray\">Jobs:</span>\n                        <span> {client.jobs}</span>\n                      </div>\n                      <div>\n                        <span className=\"gray\">Recalls:</span>\n                        <span> {client.recalls}</span>\n                      </div>\n                      <div>\n                        <span className=\"gray\">Appointments:</span>\n                        <span> {client.appointments}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"__right small\">\n                      <div>\n                        <b>{client.source}</b>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {editing ? (\n          <div className=\"wrapper flex-container sb editing-buttons\">\n            <div>\n              <button className=\"_red\" onClick={() => setDeleting(true)}>Delete Appointment</button>\n            </div>\n            <div className=\"buttons\">\n              <button className=\"_bordered _red\" onClick={() => setEditing(false)}>\n                Cancel\n              </button>\n              <button disabled={!readyToSave} className=\"_bordered _green\">\n                Save\n              </button>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Item share popup */}\n        {deleting ? (\n          <div className=\"item-delete-popup\" onClick={() => setDeleting(false)}>\n\n            <div className=\"wrapper\" onClick={(e) => e.stopPropagation()}>\n            \n              <div className=\"title\">\n                Delete Appointment\n              </div>\n\n              <div className=\"checkbox-wrapper\">\n                <Checkbox contents=\"I understand that after deleting the appointment it will not be possible to recover.\" value={readyToDelete} onChange={(value) => setReadyToDelete(value)} />\n              </div>\n\n              <div className=\"buttons\">\n\n                <button className=\"_bordered _green\" onClick={() => setDeleting(false)}>\n                  Cancel\n                </button>\n\n                <button disabled={!readyToDelete} className=\"_bordered _red\">\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    ) : null}\n  </>)\n})\nexport default AppointmentsPage_Item\n"]},"metadata":{},"sourceType":"module"}