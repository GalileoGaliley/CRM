{"ast":null,"code":"import _objectSpread from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/regenerator/index.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import Icon from\"../../../components/Icon\";import{nError}from\"../../../funcs\";import{mapDispatchToProps,mapStateToProps}from\"../../../store\";import\"../../../styles/pages/common/entity-edit.sass\";import Select from\"../../../components/Select\";import Checkbox from\"../../../components/Checkbox\";import classNames from\"classnames\";import{BaseLink,useRoute}from\"react-router5\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var emptyCallGroup={call_group_id:'',name:'',dispatchers:'',call_flows:''};var CallCenter_CallFlowsPage_Item=connect(mapStateToProps,mapDispatchToProps)(function(props){var $router=useRoute();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),readyToSave=_useState2[0],setReadyToSave=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),editing=_useState4[0],setEditing=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),deleting=_useState6[0],setDeleting=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),readyToDelete=_useState8[0],setReadyToDelete=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),callFlowData=_useState10[0],setCallFlowData=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),callGroups=_useState12[0],setCallGroups=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),availableCallGroups=_useState14[0],setAvailableCallGroups=_useState14[1];var _useState15=useState(emptyCallGroup),_useState16=_slicedToArray(_useState15,2),selectedCallGroup=_useState16[0],setSelectedCallGroup=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),callGroupsData=_useState18[0],setCallGroupsData=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),phoneNumbers=_useState20[0],setPhoneNumbers=_useState20[1];var _useState21=useState({name:'',phrase_start:'',phrase_office_closed:'',phrase_office_temporary_closed:'',phrase_phone_not_available:'',phrase_dispatcher_not_available:''}),_useState22=_slicedToArray(_useState21,2),newCallFlowData=_useState22[0],setNewCallFlowData=_useState22[1];// Load info function\nfunction loadInfo(){return _loadInfo.apply(this,arguments);}// Load callFlow data\nfunction _loadInfo(){_loadInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _ref7,_callFlowData,_availableCallGroups;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/json/call_center_call_flow.json');case 3:_ref7=_context.sent;_callFlowData=_ref7.data;setPhoneNumbers(_callFlowData.phone_numbers);setCallFlowData(_callFlowData);setCallGroups(_callFlowData.edit.call_groups);setCallGroupsData(_callFlowData.call_groups);_availableCallGroups=[];_availableCallGroups=_callFlowData.edit.call_groups.filter(function($callGroup){return _callFlowData.call_groups.findIndex(function(callGroup){return callGroup.name===$callGroup.name;})===-1;});setAvailableCallGroups(_toConsumableArray(_availableCallGroups));// setAvailableCallGroups([emptyCallGroup].concat(callFlowData.edit.call_groups))\nsetSelectedCallGroup(emptyCallGroup);setNewCallFlowData({name:_callFlowData.call_flow.name,phrase_start:_callFlowData.call_flow.phrase_start,phrase_office_closed:_callFlowData.call_flow.phrase_office_closed,phrase_office_temporary_closed:_callFlowData.call_flow.phrase_office_temporary_closed,phrase_phone_not_available:_callFlowData.call_flow.phrase_phone_not_available,phrase_dispatcher_not_available:_callFlowData.call_flow.phrase_dispatcher_not_available});setTimeout(function(){return setReadyToSave(false);},100);_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);nError(_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,17]]);}));return _loadInfo.apply(this,arguments);}useEffect(function(){loadInfo();},[]);useEffect(function(){return setReadyToSave(true);},[newCallFlowData]);// Add callGroup function\nfunction addCallGroup(){if(!callGroupsData||!newCallFlowData)return;var newCallGroupsList=[].concat(_toConsumableArray(callGroupsData),[selectedCallGroup]);setCallGroupsData(newCallGroupsList);var _availableCallGroups=_toConsumableArray(availableCallGroups);_availableCallGroups=_availableCallGroups.filter(function($callGroup){return newCallGroupsList.findIndex(function(callGroup){return callGroup.name===$callGroup.name;})===-1;});setAvailableCallGroups(_toConsumableArray(_availableCallGroups));setSelectedCallGroup(emptyCallGroup);setReadyToSave(true);}// Remove callGroup function\nfunction removeCallGroup(i){var _callFlowCallGroups=_toConsumableArray(callGroupsData);var _callGroup=_callFlowCallGroups[i];_callFlowCallGroups.splice(i,1);setCallGroupsData(_callFlowCallGroups);setAvailableCallGroups([].concat(_toConsumableArray(availableCallGroups),[_callGroup]));setReadyToSave(true);}// Render function\nreturn/*#__PURE__*/_jsx(_Fragment,{children:callFlowData&&newCallFlowData.name?/*#__PURE__*/_jsxs(\"div\",{className:\"CallCenter_CallFlowsPage_Item entity-edit\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-nav\",children:[/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"call_center.phoneNumbers\",className:classNames({_active:$router.route.name===\"call_center.phoneNumbers\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"phone-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Phone Numbers\"})]}),/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"call_center.dispatchers\",className:classNames({_active:$router.route.name===\"call_center.dispatchers\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"user-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Dispatchers\"})]}),/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"call_center.groups\",className:classNames({_active:$router.route.name===\"call_center.groups\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"user-29\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Groups\"})]}),/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"call_center.callFlows\",className:classNames({_active:$router.route.name===\"call_center.callFlows\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"share-7\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Call Flows\"})]}),/*#__PURE__*/_jsxs(BaseLink,{router:$router.router,routeName:\"call_center.settings\",className:classNames({_active:$router.route.name===\"call_center.settings\"}),children:[/*#__PURE__*/_jsx(Icon,{icon:\"gear-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Settings\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper flex-container sb\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Call Flow\"}),callFlowData!==null&&callFlowData!==void 0&&callFlowData.permissions.edit_call_flow&&!editing?/*#__PURE__*/_jsx(\"button\",{className:\"_wa _green\",onClick:function onClick(){return setEditing(true);},children:\"Edit\"}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Main\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fields\",children:/*#__PURE__*/_jsx(\"div\",{className:\"__left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:newCallFlowData.name,onChange:function onChange(_ref){var value=_ref.target.value;return setNewCallFlowData(_objectSpread(_objectSpread({},newCallFlowData),{},{name:value}));}})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container sb wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Call Groups\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-action-wrapper\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Call Group:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-wrapper\",children:[/*#__PURE__*/_jsx(Select,{options:availableCallGroups.map(function(callGroup){return{span:callGroup.name,value:callGroup.name};}),selectedOption:selectedCallGroup.name,onChange:function onChange(value){return setSelectedCallGroup(availableCallGroups.find(function(_callGroup){return _callGroup.name===value;}));}}),/*#__PURE__*/_jsx(\"button\",{disabled:!selectedCallGroup.name,className:\"_green\",onClick:function onClick(){return addCallGroup();},children:\"Add\"})]})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__hide-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Dispatchers\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Call Flow\"}),/*#__PURE__*/_jsx(\"th\",{})]}),callGroupsData.map(function(callGroup,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:callGroup.name}),/*#__PURE__*/_jsx(\"td\",{children:callGroup.dispatchers}),/*#__PURE__*/_jsx(\"td\",{children:callGroup.call_flows}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed _red\",onClick:function onClick(e){e.stopPropagation();removeCallGroup(i);},children:/*#__PURE__*/_jsx(Icon,{icon:\"x-mark-1\"})})})]},i);})]}),/*#__PURE__*/_jsx(\"div\",{className:classNames('mobile-table','__show-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:/*#__PURE__*/_jsx(\"div\",{className:\"mobile-table-items\",children:callGroupsData.map(function(callGroup,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:callGroup.name})}),/*#__PURE__*/_jsx(\"div\",{children:callGroup.dispatchers})]}),/*#__PURE__*/_jsx(\"div\",{className:\"__right\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__bottom\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"__left\"}),/*#__PURE__*/_jsx(\"div\",{className:\"__right small\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:callGroup.call_flows})})})]})]},i);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Call Phrases\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field _ait\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Start Phrase:\"}),/*#__PURE__*/_jsx(\"textarea\",{defaultValue:callFlowData.call_flow.phrase_start,onChange:function onChange(_ref2){var value=_ref2.target.value;return setNewCallFlowData(_objectSpread(_objectSpread({},newCallFlowData),{},{phrase_start:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field _ait\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Office Closed:\"}),/*#__PURE__*/_jsx(\"textarea\",{defaultValue:callFlowData.call_flow.phrase_office_closed,onChange:function onChange(_ref3){var value=_ref3.target.value;return setNewCallFlowData(_objectSpread(_objectSpread({},newCallFlowData),{},{phrase_office_closed:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field _ait\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Office Temporary Closed:\"}),/*#__PURE__*/_jsx(\"textarea\",{defaultValue:callFlowData.call_flow.phrase_office_temporary_closed,onChange:function onChange(_ref4){var value=_ref4.target.value;return setNewCallFlowData(_objectSpread(_objectSpread({},newCallFlowData),{},{phrase_office_temporary_closed:value}));}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field _ait\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Phone Number Not Available:\"}),/*#__PURE__*/_jsx(\"textarea\",{defaultValue:callFlowData.call_flow.phrase_phone_not_available,onChange:function onChange(_ref5){var value=_ref5.target.value;return setNewCallFlowData(_objectSpread(_objectSpread({},newCallFlowData),{},{phrase_phone_not_available:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field _ait\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Dispatchers Not Available:\"}),/*#__PURE__*/_jsx(\"textarea\",{defaultValue:callFlowData.call_flow.phrase_dispatcher_not_available,onChange:function onChange(_ref6){var value=_ref6.target.value;return setNewCallFlowData(_objectSpread(_objectSpread({},newCallFlowData),{},{phrase_dispatcher_not_available:value}));}})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Date Created:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:callFlowData.call_flow.created_at,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Created by:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:callFlowData.call_flow.created_by,disabled:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Last Edited:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:callFlowData.call_flow.last_edited_at,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Last Edited By:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:callFlowData.call_flow.last_edited_by,disabled:true})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Phone Numbers\"}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__show-on-wide',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Friendly Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Source\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Area\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Company\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Call Flow\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Available\"})]}),phoneNumbers.map(function(phoneNumber,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return $router.router.navigate('call_center.phoneNumbers.item',{},{reload:true});},children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container\",children:[/*#__PURE__*/_jsx(\"span\",{children:phoneNumber.phone}),/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed\",children:/*#__PURE__*/_jsx(Icon,{icon:\"gear-1\"})})]})}),/*#__PURE__*/_jsx(\"td\",{children:phoneNumber.friendly_name}),/*#__PURE__*/_jsx(\"td\",{className:classNames({'red-text':phoneNumber.type==='System','green-text':phoneNumber.type==='Source','blue-text':!['System','Source'].includes(phoneNumber.type)}),children:phoneNumber.type}),/*#__PURE__*/_jsx(\"td\",{children:phoneNumber.source}),/*#__PURE__*/_jsx(\"td\",{children:phoneNumber.area}),/*#__PURE__*/_jsx(\"td\",{children:phoneNumber.company}),/*#__PURE__*/_jsx(\"td\",{children:phoneNumber.call_flow}),/*#__PURE__*/_jsx(\"td\",{className:classNames({'red-text':phoneNumber.active==='Off','green-text':phoneNumber.active==='On'}),children:phoneNumber.active})]},i);})]}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__hide-on-wide','__hide-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsx(\"tr\",{}),phoneNumbers.map(function(phoneNumber,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return $router.router.navigate('call_center.phoneNumbers.item',{},{reload:true});},children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.phone}),/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.friendly_name})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.source}),/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.area})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.company}),/*#__PURE__*/_jsx(\"div\",{className:classNames({'red-text':phoneNumber.type==='System','green-text':phoneNumber.type==='Source','blue-text':!['System','Source'].includes(phoneNumber.type)}),children:phoneNumber.type})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.call_flow}),/*#__PURE__*/_jsx(\"div\",{className:classNames({'red-text':phoneNumber.active==='Off','green-text':phoneNumber.active==='On'}),children:phoneNumber.active})]})]},i);})]}),/*#__PURE__*/_jsx(\"div\",{className:classNames('mobile-table-items','__show-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:phoneNumbers.map(function(phoneNumber,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",onClick:function onClick(){return $router.router.navigate('call_center.phoneNumbers.item',{},{reload:true});},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:phoneNumber.phone})}),/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.friendly_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsx(\"div\",{children:phoneNumber.company}),/*#__PURE__*/_jsx(\"div\",{className:classNames({'red-text':phoneNumber.type==='System','green-text':phoneNumber.type==='Source','blue-text':!['System','Source'].includes(phoneNumber.type)}),children:phoneNumber.type}),/*#__PURE__*/_jsx(\"div\",{className:classNames({'red-text':phoneNumber.active==='Off','green-text':phoneNumber.active==='On'}),children:phoneNumber.active})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Area:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",phoneNumber.area]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Source:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",phoneNumber.source]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"__right small\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:phoneNumber.call_flow})})})]})]},i);})})]}),editing?/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper flex-container sb editing-buttons\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"_red\",onClick:function onClick(){return setDeleting(true);},children:\"Delete Call Flow\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"_bordered _red\",onClick:function onClick(){return setEditing(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!readyToSave,className:\"_bordered _green\",children:\"Save\"})]})]}):null,deleting?/*#__PURE__*/_jsx(\"div\",{className:\"item-delete-popup\",onClick:function onClick(){return setDeleting(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Delete Call Flow\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-wrapper\",children:/*#__PURE__*/_jsx(Checkbox,{contents:\"I understand that after deleting the call flow it will not be possible to recover.\",value:readyToDelete,onChange:function onChange(value){return setReadyToDelete(value);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"_bordered _green\",onClick:function onClick(){return $router.router.navigate('call_center.callFlows',{},{reload:true});},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!readyToDelete,className:\"_bordered _red\",children:\"Delete\"})]})]})}):null]}):null});});export default CallCenter_CallFlowsPage_Item;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/CallCenter/CallFlows/Item.tsx"],"names":["axios","React","useEffect","useState","connect","Icon","nError","mapDispatchToProps","mapStateToProps","Select","Checkbox","classNames","BaseLink","useRoute","emptyCallGroup","call_group_id","name","dispatchers","call_flows","CallCenter_CallFlowsPage_Item","props","$router","readyToSave","setReadyToSave","editing","setEditing","deleting","setDeleting","readyToDelete","setReadyToDelete","callFlowData","setCallFlowData","callGroups","setCallGroups","availableCallGroups","setAvailableCallGroups","selectedCallGroup","setSelectedCallGroup","callGroupsData","setCallGroupsData","phoneNumbers","setPhoneNumbers","phrase_start","phrase_office_closed","phrase_office_temporary_closed","phrase_phone_not_available","phrase_dispatcher_not_available","newCallFlowData","setNewCallFlowData","loadInfo","get","data","phone_numbers","edit","call_groups","_availableCallGroups","filter","$callGroup","findIndex","callGroup","call_flow","setTimeout","addCallGroup","newCallGroupsList","removeCallGroup","i","_callFlowCallGroups","_callGroup","splice","router","_active","route","permissions","edit_call_flow","value","target","map","span","find","__respectAsidePanel","store","navActive","is","e","stopPropagation","created_at","created_by","last_edited_at","last_edited_by","phoneNumber","navigate","reload","phone","friendly_name","type","includes","source","area","company","active"],"mappings":"siBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,IAAP,KAAiB,0BAAjB,CACA,OAASC,MAAT,KAAuB,gBAAvB,CACA,OAAoCC,kBAApC,CAAwDC,eAAxD,KAA+E,gBAA/E,CAGA,MAAO,+CAAP,CAEA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,8BAArB,CAGA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,OAASC,QAAT,CAAmBC,QAAnB,KAAmC,eAAnC,C,6IA0BA,GAAMC,CAAAA,cAA6C,CAAG,CACpDC,aAAa,CAAE,EADqC,CAEpDC,IAAI,CAAE,EAF8C,CAGpDC,WAAW,CAAE,EAHuC,CAIpDC,UAAU,CAAE,EAJwC,CAAtD,CAOA,GAAMC,CAAAA,6BAA6B,CAAGf,OAAO,CAACI,eAAD,CAAkBD,kBAAlB,CAAP,CAA6C,SAASa,KAAT,CAAuB,CAExG,GAAMC,CAAAA,OAAO,CAAGR,QAAQ,EAAxB,CAEA,cAAsCV,QAAQ,CAAC,KAAD,CAA9C,wCAAOmB,WAAP,eAAoBC,cAApB,eAEA,eAA8BpB,QAAQ,CAAC,IAAD,CAAtC,yCAAOqB,OAAP,eAAgBC,UAAhB,eAEA,eAAgCtB,QAAQ,CAAC,KAAD,CAAxC,yCAAOuB,QAAP,eAAiBC,WAAjB,eACA,eAA0CxB,QAAQ,CAAC,KAAD,CAAlD,yCAAOyB,aAAP,eAAsBC,gBAAtB,eAEA,eAAwC1B,QAAQ,CAAsB,IAAtB,CAAhD,0CAAO2B,YAAP,gBAAqBC,eAArB,gBAEA,gBAAoC5B,QAAQ,CAAgC,IAAhC,CAA5C,2CAAO6B,UAAP,gBAAmBC,aAAnB,gBACA,gBAAsD9B,QAAQ,CAAkC,EAAlC,CAA9D,2CAAO+B,mBAAP,gBAA4BC,sBAA5B,gBACA,gBAAkDhC,QAAQ,CAAgCW,cAAhC,CAA1D,2CAAOsB,iBAAP,gBAA0BC,oBAA1B,gBAEA,gBAA4ClC,QAAQ,CAAyB,EAAzB,CAApD,2CAAOmC,cAAP,gBAAuBC,iBAAvB,gBAEA,gBAAwCpC,QAAQ,CAA2B,EAA3B,CAAhD,2CAAOqC,YAAP,gBAAqBC,eAArB,gBAEA,gBAA8CtC,QAAQ,CAAC,CACrDa,IAAI,CAAE,EAD+C,CAErD0B,YAAY,CAAE,EAFuC,CAGrDC,oBAAoB,CAAE,EAH+B,CAIrDC,8BAA8B,CAAE,EAJqB,CAKrDC,0BAA0B,CAAE,EALyB,CAMrDC,+BAA+B,CAAE,EANoB,CAAD,CAAtD,2CAAOC,eAAP,gBAAwBC,kBAAxB,gBASA;AA9BwG,QA+BzFC,CAAAA,QA/ByF,2CA4ExG;AA5EwG,uFA+BxG,sNAE0CjD,CAAAA,KAAK,CAACkD,GAAN,CAAU,kCAAV,CAF1C,4BAEkBpB,aAFlB,OAEYqB,IAFZ,CAIIV,eAAe,CAACX,aAAY,CAACsB,aAAd,CAAf,CAEArB,eAAe,CAACD,aAAD,CAAf,CAEAG,aAAa,CAACH,aAAY,CAACuB,IAAb,CAAkBC,WAAnB,CAAb,CACAf,iBAAiB,CAACT,aAAY,CAACwB,WAAd,CAAjB,CAEIC,oBAXR,CAW+B,EAX/B,CAaIA,oBAAoB,CAAGzB,aAAY,CAACuB,IAAb,CAAkBC,WAAlB,CAA8BE,MAA9B,CAAqC,SAACC,UAAD,CAAgB,CAE1E,MAAO3B,CAAAA,aAAY,CAACwB,WAAb,CAAyBI,SAAzB,CAAmC,SAACC,SAAD,CAAe,CACvD,MAAOA,CAAAA,SAAS,CAAC3C,IAAV,GAAmByC,UAAU,CAACzC,IAArC,CACD,CAFM,IAEA,CAAC,CAFR,CAGD,CALsB,CAAvB,CAOAmB,sBAAsB,oBACjBoB,oBADiB,EAAtB,CAIA;AAEAlB,oBAAoB,CAACvB,cAAD,CAApB,CAEAkC,kBAAkB,CAAC,CACjBhC,IAAI,CAAEc,aAAY,CAAC8B,SAAb,CAAuB5C,IADZ,CAGjB0B,YAAY,CAAEZ,aAAY,CAAC8B,SAAb,CAAuBlB,YAHpB,CAIjBC,oBAAoB,CAAEb,aAAY,CAAC8B,SAAb,CAAuBjB,oBAJ5B,CAKjBC,8BAA8B,CAAEd,aAAY,CAAC8B,SAAb,CAAuBhB,8BALtC,CAMjBC,0BAA0B,CAAEf,aAAY,CAAC8B,SAAb,CAAuBf,0BANlC,CAOjBC,+BAA+B,CAAEhB,aAAY,CAAC8B,SAAb,CAAuBd,+BAPvC,CAAD,CAAlB,CAUAe,UAAU,CAAC,iBAAMtC,CAAAA,cAAc,CAAC,KAAD,CAApB,EAAD,CAA8B,GAA9B,CAAV,CAtCJ,iFAyCIjB,MAAM,aAAN,CAzCJ,qEA/BwG,2CA6ExGJ,SAAS,CAAC,UAAM,CACd+C,QAAQ,GACT,CAFQ,CAEN,EAFM,CAAT,CAIA/C,SAAS,CAAC,iBAAMqB,CAAAA,cAAc,CAAC,IAAD,CAApB,EAAD,CAA6B,CACpCwB,eADoC,CAA7B,CAAT,CAIA;AACA,QAASe,CAAAA,YAAT,EAAwB,CAEtB,GAAI,CAACxB,cAAD,EAAmB,CAACS,eAAxB,CAAyC,OAEzC,GAAMgB,CAAAA,iBAAiB,8BAClBzB,cADkB,GAErBF,iBAFqB,EAAvB,CAKAG,iBAAiB,CAACwB,iBAAD,CAAjB,CAEA,GAAIR,CAAAA,oBAAoB,oBAAOrB,mBAAP,CAAxB,CAEAqB,oBAAoB,CAAGA,oBAAoB,CAACC,MAArB,CAA4B,SAACC,UAAD,CAAgB,CAEjE,MAAOM,CAAAA,iBAAiB,CAACL,SAAlB,CAA4B,SAACC,SAAD,CAAe,CAChD,MAAOA,CAAAA,SAAS,CAAC3C,IAAV,GAAmByC,UAAU,CAACzC,IAArC,CACD,CAFM,IAEA,CAAC,CAFR,CAGD,CALsB,CAAvB,CAOAmB,sBAAsB,oBACjBoB,oBADiB,EAAtB,CAIAlB,oBAAoB,CAACvB,cAAD,CAApB,CAEAS,cAAc,CAAC,IAAD,CAAd,CACD,CAED;AACA,QAASyC,CAAAA,eAAT,CAAyBC,CAAzB,CAAoC,CAElC,GAAIC,CAAAA,mBAAmB,oBAAO5B,cAAP,CAAvB,CAEA,GAAI6B,CAAAA,UAAU,CAAGD,mBAAmB,CAACD,CAAD,CAApC,CAEAC,mBAAmB,CAACE,MAApB,CAA2BH,CAA3B,CAA8B,CAA9B,EAEA1B,iBAAiB,CAAC2B,mBAAD,CAAjB,CAEA/B,sBAAsB,8BACjBD,mBADiB,GAEpBiC,UAFoB,GAAtB,CAKA5C,cAAc,CAAC,IAAD,CAAd,CACD,CAED;AACA,mBAAQ,yBACLO,YAAY,EAAIiB,eAAe,CAAC/B,IAAhC,cACC,aAAK,SAAS,CAAC,2CAAf,wBAGE,aAAK,SAAS,CAAC,SAAf,wBACE,MAAC,QAAD,EAAU,MAAM,CAAEK,OAAO,CAACgD,MAA1B,CAAkC,SAAS,CAAC,0BAA5C,CAAuE,SAAS,CAAE1D,UAAU,CAAC,CAAC2D,OAAO,CAAEjD,OAAO,CAACkD,KAAR,CAAcvD,IAAd,GAAuB,0BAAjC,CAAD,CAA5F,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,SAAX,EADF,cAEE,uCAFF,GADF,cAME,MAAC,QAAD,EAAU,MAAM,CAAEK,OAAO,CAACgD,MAA1B,CAAkC,SAAS,CAAC,yBAA5C,CAAsE,SAAS,CAAE1D,UAAU,CAAC,CAAC2D,OAAO,CAAEjD,OAAO,CAACkD,KAAR,CAAcvD,IAAd,GAAuB,yBAAjC,CAAD,CAA3F,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,QAAX,EADF,cAEE,qCAFF,GANF,cAWE,MAAC,QAAD,EAAU,MAAM,CAAEK,OAAO,CAACgD,MAA1B,CAAkC,SAAS,CAAC,oBAA5C,CAAiE,SAAS,CAAE1D,UAAU,CAAC,CAAC2D,OAAO,CAAEjD,OAAO,CAACkD,KAAR,CAAcvD,IAAd,GAAuB,oBAAjC,CAAD,CAAtF,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,SAAX,EADF,cAEE,gCAFF,GAXF,cAgBE,MAAC,QAAD,EAAU,MAAM,CAAEK,OAAO,CAACgD,MAA1B,CAAkC,SAAS,CAAC,uBAA5C,CAAoE,SAAS,CAAE1D,UAAU,CAAC,CAAC2D,OAAO,CAAEjD,OAAO,CAACkD,KAAR,CAAcvD,IAAd,GAAuB,uBAAjC,CAAD,CAAzF,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,SAAX,EADF,cAEE,oCAFF,GAhBF,cAqBE,MAAC,QAAD,EAAU,MAAM,CAAEK,OAAO,CAACgD,MAA1B,CAAkC,SAAS,CAAC,sBAA5C,CAAmE,SAAS,CAAE1D,UAAU,CAAC,CAAC2D,OAAO,CAAEjD,OAAO,CAACkD,KAAR,CAAcvD,IAAd,GAAuB,sBAAjC,CAAD,CAAxF,wBACE,KAAC,IAAD,EAAM,IAAI,CAAC,QAAX,EADF,cAEE,kCAFF,GArBF,GAHF,cA8BE,aAAK,SAAS,CAAC,2BAAf,wBACE,iCADF,CAGGc,YAAY,OAAZ,EAAAA,YAAY,SAAZ,EAAAA,YAAY,CAAE0C,WAAd,CAA0BC,cAA1B,EAA4C,CAACjD,OAA7C,cACC,eAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAE,yBAAMC,CAAAA,UAAU,CAAC,IAAD,CAAhB,EAAxC,kBADD,CAIG,IAPN,GA9BF,cAwCE,aAAK,SAAS,CAAC,UAAf,wBAEE,YAAK,SAAS,CAAC,QAAf,kBAFF,cAIE,YAAK,SAAS,CAAC,QAAf,uBAEE,YAAK,SAAS,CAAC,QAAf,uBACE,aAAK,SAAS,CAAC,OAAf,wBACE,+BADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,YAAY,CAAEsB,eAAe,CAAC/B,IAAjD,CAAuD,QAAQ,CAAE,2BAAW0D,CAAAA,KAAX,MAAEC,MAAF,CAAWD,KAAX,OAAuB1B,CAAAA,kBAAkB,gCAAKD,eAAL,MAAsB/B,IAAI,CAAE0D,KAA5B,GAAzC,EAAjE,EAFF,GADF,EAFF,EAJF,GAxCF,cAuDE,aAAK,SAAS,CAAC,UAAf,wBAEE,aAAK,SAAS,CAAC,wBAAf,wBACE,YAAK,SAAS,CAAC,QAAf,yBADF,cAGE,aAAK,SAAS,CAAC,uBAAf,wBACE,sCADF,cAEE,aAAK,SAAS,CAAC,eAAf,wBACE,KAAC,MAAD,EAAQ,OAAO,CAAExC,mBAAmB,CAAC0C,GAApB,CAAwB,SAACjB,SAAD,QAAgB,CACvDkB,IAAI,CAAElB,SAAS,CAAC3C,IADuC,CAEvD0D,KAAK,CAAEf,SAAS,CAAC3C,IAFsC,CAAhB,EAAxB,CAAjB,CAGK,cAAc,CAAEoB,iBAAiB,CAACpB,IAHvC,CAGuD,QAAQ,CAAE,kBAAC0D,KAAD,QAAWrC,CAAAA,oBAAoB,CAACH,mBAAmB,CAAC4C,IAApB,CAAyB,SAACX,UAAD,QAAgBA,CAAAA,UAAU,CAACnD,IAAX,GAAoB0D,KAApC,EAAzB,CAAD,CAA/B,EAHjE,EADF,cAKE,eAAQ,QAAQ,CAAE,CAACtC,iBAAiB,CAACpB,IAArC,CAA2C,SAAS,CAAC,QAArD,CAA8D,OAAO,CAAE,yBAAM8C,CAAAA,YAAY,EAAlB,EAAvE,iBALF,GAFF,GAHF,GAFF,cAmBE,eAAO,SAAS,CAAEnD,UAAU,CAAC,OAAD,CAAU,kBAAV,CAA8B,CACxDoE,mBAAmB,CAAE3D,KAAK,CAAC4D,KAAN,CAAYC,SAAZ,CAAsBC,EADa,CAA9B,CAA5B,wBAGE,mCACE,4BADF,cAEE,mCAFF,cAGE,iCAHF,cAIE,aAJF,GAHF,CASI5C,cAAD,CAA2CsC,GAA3C,CAA+C,SAACjB,SAAD,CAAYM,CAAZ,qBAC9C,mCACE,oBAAKN,SAAS,CAAC3C,IAAf,EADF,cAEE,oBAAK2C,SAAS,CAAC1C,WAAf,EAFF,cAGE,oBAAK0C,SAAS,CAACzC,UAAf,EAHF,cAIE,iCACE,eAAQ,SAAS,CAAC,sBAAlB,CAAyC,OAAO,CAAE,iBAACiE,CAAD,CAAO,CAAEA,CAAC,CAACC,eAAF,GAAqBpB,eAAe,CAACC,CAAD,CAAf,CAAoB,CAApG,uBACE,KAAC,IAAD,EAAM,IAAI,CAAC,UAAX,EADF,EADF,EAJF,GAASA,CAAT,CAD8C,EAA/C,CATH,GAnBF,cA0CE,YAAK,SAAS,CAAEtD,UAAU,CAAC,cAAD,CAAiB,kBAAjB,CAAqC,CAC7DoE,mBAAmB,CAAE3D,KAAK,CAAC4D,KAAN,CAAYC,SAAZ,CAAsBC,EADkB,CAArC,CAA1B,uBAIE,YAAK,SAAS,CAAC,oBAAf,UAEG5C,cAAc,CAACsC,GAAf,CAAmB,SAACjB,SAAD,CAAYM,CAAZ,qBACpB,aAAK,SAAS,CAAC,MAAf,wBAEE,aAAK,SAAS,CAAC,OAAf,wBAEE,aAAK,SAAS,CAAC,QAAf,wBACE,kCAAK,mBAAIN,SAAS,CAAC3C,IAAd,EAAL,EADF,cAEE,qBACG2C,SAAS,CAAC1C,WADb,EAFF,GAFF,cASE,YAAK,SAAS,CAAC,SAAf,EATF,GAFF,cAgBE,aAAK,SAAS,CAAC,UAAf,wBAEE,YAAK,SAAS,CAAC,QAAf,EAFF,cAME,YAAK,SAAS,CAAC,eAAf,uBACE,kCACE,mBAAI0C,SAAS,CAACzC,UAAd,EADF,EADF,EANF,GAhBF,GAA2B+C,CAA3B,CADoB,EAAnB,CAFH,EAJF,EA1CF,GAvDF,cA0IE,aAAK,SAAS,CAAC,UAAf,wBAEE,YAAK,SAAS,CAAC,QAAf,0BAFF,cAIE,aAAK,SAAS,CAAC,QAAf,wBAEE,aAAK,SAAS,CAAC,QAAf,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,uCADF,cAEE,iBAAU,YAAY,CAAEnC,YAAY,CAAC8B,SAAb,CAAuBlB,YAA/C,CAA6D,QAAQ,CAAE,4BAAWgC,CAAAA,KAAX,OAAEC,MAAF,CAAWD,KAAX,OAAuB1B,CAAAA,kBAAkB,gCAAKD,eAAL,MAAsBL,YAAY,CAAEgC,KAApC,GAAzC,EAAvE,EAFF,GADF,cAME,aAAK,SAAS,CAAC,YAAf,wBACE,wCADF,cAEE,iBAAU,YAAY,CAAE5C,YAAY,CAAC8B,SAAb,CAAuBjB,oBAA/C,CAAqE,QAAQ,CAAE,4BAAW+B,CAAAA,KAAX,OAAEC,MAAF,CAAWD,KAAX,OAAuB1B,CAAAA,kBAAkB,gCAAKD,eAAL,MAAsBJ,oBAAoB,CAAE+B,KAA5C,GAAzC,EAA/E,EAFF,GANF,cAWE,aAAK,SAAS,CAAC,YAAf,wBACE,kDADF,cAEE,iBAAU,YAAY,CAAE5C,YAAY,CAAC8B,SAAb,CAAuBhB,8BAA/C,CAA+E,QAAQ,CAAE,4BAAW8B,CAAAA,KAAX,OAAEC,MAAF,CAAWD,KAAX,OAAuB1B,CAAAA,kBAAkB,gCAAKD,eAAL,MAAsBH,8BAA8B,CAAE8B,KAAtD,GAAzC,EAAzF,EAFF,GAXF,GAFF,cAmBE,aAAK,SAAS,CAAC,SAAf,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,qDADF,cAEE,iBAAU,YAAY,CAAE5C,YAAY,CAAC8B,SAAb,CAAuBf,0BAA/C,CAA2E,QAAQ,CAAE,4BAAW6B,CAAAA,KAAX,OAAEC,MAAF,CAAWD,KAAX,OAAuB1B,CAAAA,kBAAkB,gCAAKD,eAAL,MAAsBF,0BAA0B,CAAE6B,KAAlD,GAAzC,EAArF,EAFF,GADF,cAME,aAAK,SAAS,CAAC,YAAf,wBACE,oDADF,cAEE,iBAAU,YAAY,CAAE5C,YAAY,CAAC8B,SAAb,CAAuBd,+BAA/C,CAAgF,QAAQ,CAAE,4BAAW4B,CAAAA,KAAX,OAAEC,MAAF,CAAWD,KAAX,OAAuB1B,CAAAA,kBAAkB,gCAAKD,eAAL,MAAsBD,+BAA+B,CAAE4B,KAAvD,GAAzC,EAA1F,EAFF,GANF,GAnBF,GAJF,GA1IF,cA+KE,aAAK,SAAS,CAAC,UAAf,wBAEE,YAAK,SAAS,CAAC,QAAf,kBAFF,cAIE,aAAK,SAAS,CAAC,QAAf,wBAEE,aAAK,SAAS,CAAC,QAAf,wBACE,aAAK,SAAS,CAAC,OAAf,wBACE,uCADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,YAAY,CAAE5C,YAAY,CAAC8B,SAAb,CAAuByB,UAAxD,CAAoE,QAAQ,CAAG,IAA/E,EAFF,GADF,cAME,aAAK,SAAS,CAAC,OAAf,wBACE,qCADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,YAAY,CAAEvD,YAAY,CAAC8B,SAAb,CAAuB0B,UAAxD,CAAoE,QAAQ,CAAG,IAA/E,EAFF,GANF,GAFF,cAeE,aAAK,SAAS,CAAC,SAAf,wBAEE,aAAK,SAAS,CAAC,OAAf,wBACE,sCADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,YAAY,CAAExD,YAAY,CAAC8B,SAAb,CAAuB2B,cAAxD,CAAwE,QAAQ,CAAG,IAAnF,EAFF,GAFF,cAOE,aAAK,SAAS,CAAC,OAAf,wBACE,yCADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,YAAY,CAAEzD,YAAY,CAAC8B,SAAb,CAAuB4B,cAAxD,CAAwE,QAAQ,CAAG,IAAnF,EAFF,GAPF,GAfF,GAJF,GA/KF,cAiNE,aAAK,SAAS,CAAC,UAAf,wBAEE,YAAK,SAAS,CAAC,QAAf,2BAFF,cAKE,eAAO,SAAS,CAAE7E,UAAU,CAAC,OAAD,CAAU,gBAAV,CAA4B,CACtDoE,mBAAmB,CAAE3D,KAAK,CAAC4D,KAAN,CAAYC,SAAZ,CAAsBC,EADW,CAA5B,CAA5B,wBAGE,mCACE,oCADF,cAEE,qCAFF,cAGE,4BAHF,cAIE,8BAJF,cAKE,4BALF,cAME,+BANF,cAOE,iCAPF,cAQE,iCARF,GAHF,CAaG1C,YAAY,CAACoC,GAAb,CAAiB,SAACa,WAAD,CAAcxB,CAAd,qBAChB,YAAY,OAAO,CAAE,yBAAM5C,CAAAA,OAAO,CAACgD,MAAR,CAAeqB,QAAf,CAAwB,+BAAxB,CAAyD,EAAzD,CAA6D,CAACC,MAAM,CAAE,IAAT,CAA7D,CAAN,EAArB,wBACE,iCACE,aAAK,SAAS,CAAC,gBAAf,wBACE,sBAAOF,WAAW,CAACG,KAAnB,EADF,cAEE,eAAQ,SAAS,CAAC,iBAAlB,uBACE,KAAC,IAAD,EAAM,IAAI,CAAC,QAAX,EADF,EAFF,GADF,EADF,cASE,oBAAKH,WAAW,CAACI,aAAjB,EATF,cAWE,WAAI,SAAS,CAAElF,UAAU,CAAC,CACxB,WAAY8E,WAAW,CAACK,IAAZ,GAAqB,QADT,CAExB,aAAcL,WAAW,CAACK,IAAZ,GAAqB,QAFX,CAGxB,YAAa,CAAC,CAAC,QAAD,CAAW,QAAX,EAAqBC,QAArB,CAA8BN,WAAW,CAACK,IAA1C,CAHU,CAAD,CAAzB,UAIKL,WAAW,CAACK,IAJjB,EAXF,cAiBE,oBAAKL,WAAW,CAACO,MAAjB,EAjBF,cAkBE,oBAAKP,WAAW,CAACQ,IAAjB,EAlBF,cAmBE,oBAAKR,WAAW,CAACS,OAAjB,EAnBF,cAoBE,oBAAKT,WAAW,CAAC7B,SAAjB,EApBF,cAsBE,WAAI,SAAS,CAAEjD,UAAU,CAAC,CACxB,WAAY8E,WAAW,CAACU,MAAZ,GAAuB,KADX,CAExB,aAAcV,WAAW,CAACU,MAAZ,GAAuB,IAFb,CAAD,CAAzB,UAGKV,WAAW,CAACU,MAHjB,EAtBF,GAASlC,CAAT,CADgB,EAAjB,CAbH,GALF,cAkDE,eAAO,SAAS,CAAEtD,UAAU,CAAC,OAAD,CAAU,gBAAV,CAA4B,kBAA5B,CAAgD,CAC1EoE,mBAAmB,CAAE3D,KAAK,CAAC4D,KAAN,CAAYC,SAAZ,CAAsBC,EAD+B,CAAhD,CAA5B,wBAGE,aAHF,CAIG1C,YAAY,CAACoC,GAAb,CAAiB,SAACa,WAAD,CAAcxB,CAAd,qBAChB,YAAY,OAAO,CAAE,yBAAM5C,CAAAA,OAAO,CAACgD,MAAR,CAAeqB,QAAf,CAAwB,+BAAxB,CAAyD,EAAzD,CAA6D,CAACC,MAAM,CAAE,IAAT,CAA7D,CAAN,EAArB,wBACE,mCACE,qBAAMF,WAAW,CAACG,KAAlB,EADF,cAEE,qBAAMH,WAAW,CAACI,aAAlB,EAFF,GADF,cAKE,mCACE,qBAAMJ,WAAW,CAACO,MAAlB,EADF,cAEE,qBAAMP,WAAW,CAACQ,IAAlB,EAFF,GALF,cASE,mCACE,qBAAMR,WAAW,CAACS,OAAlB,EADF,cAEE,YAAK,SAAS,CAAEvF,UAAU,CAAC,CAC3B,WAAY8E,WAAW,CAACK,IAAZ,GAAqB,QADN,CAE3B,aAAcL,WAAW,CAACK,IAAZ,GAAqB,QAFR,CAG3B,YAAa,CAAC,CAAC,QAAD,CAAW,QAAX,EAAqBC,QAArB,CAA8BN,WAAW,CAACK,IAA1C,CAHa,CAAD,CAA1B,UAIGL,WAAW,CAACK,IAJf,EAFF,GATF,cAiBE,mCACE,qBAAML,WAAW,CAAC7B,SAAlB,EADF,cAEE,YAAK,SAAS,CAAEjD,UAAU,CAAC,CAC3B,WAAY8E,WAAW,CAACU,MAAZ,GAAuB,KADR,CAE3B,aAAcV,WAAW,CAACU,MAAZ,GAAuB,IAFV,CAAD,CAA1B,UAGGV,WAAW,CAACU,MAHf,EAFF,GAjBF,GAASlC,CAAT,CADgB,EAAjB,CAJH,GAlDF,cAoFE,YAAK,SAAS,CAAEtD,UAAU,CAAC,oBAAD,CAAuB,kBAAvB,CAA2C,CACnEoE,mBAAmB,CAAE3D,KAAK,CAAC4D,KAAN,CAAYC,SAAZ,CAAsBC,EADwB,CAA3C,CAA1B,UAIG1C,YAAY,CAACoC,GAAb,CAAiB,SAACa,WAAD,CAAcxB,CAAd,qBAChB,aAAK,SAAS,CAAC,MAAf,CAA8B,OAAO,CAAE,yBAAM5C,CAAAA,OAAO,CAACgD,MAAR,CAAeqB,QAAf,CAAwB,+BAAxB,CAAyD,EAAzD,CAA6D,CAACC,MAAM,CAAE,IAAT,CAA7D,CAAN,EAAvC,wBAEE,aAAK,SAAS,CAAC,OAAf,wBAEE,aAAK,SAAS,CAAC,QAAf,wBACE,kCAAK,mBAAIF,WAAW,CAACG,KAAhB,EAAL,EADF,cAEE,qBACGH,WAAW,CAACI,aADf,EAFF,GAFF,cASE,aAAK,SAAS,CAAC,SAAf,wBACE,qBACGJ,WAAW,CAACS,OADf,EADF,cAIE,YAAK,SAAS,CAAEvF,UAAU,CAAC,CACzB,WAAY8E,WAAW,CAACK,IAAZ,GAAqB,QADR,CAEzB,aAAcL,WAAW,CAACK,IAAZ,GAAqB,QAFV,CAGzB,YAAa,CAAC,CAAC,QAAD,CAAW,QAAX,EAAqBC,QAArB,CAA8BN,WAAW,CAACK,IAA1C,CAHW,CAAD,CAA1B,UAKGL,WAAW,CAACK,IALf,EAJF,cAWE,YAAK,SAAS,CAAEnF,UAAU,CAAC,CACzB,WAAY8E,WAAW,CAACU,MAAZ,GAAuB,KADV,CAEzB,aAAcV,WAAW,CAACU,MAAZ,GAAuB,IAFZ,CAAD,CAA1B,UAIGV,WAAW,CAACU,MAJf,EAXF,GATF,GAFF,cA+BE,aAAK,SAAS,CAAC,UAAf,wBAEE,aAAK,SAAS,CAAC,QAAf,wBACE,oCACE,aAAM,SAAS,CAAC,MAAhB,mBADF,cAEE,4BAAQV,WAAW,CAACQ,IAApB,GAFF,GADF,cAKE,oCACE,aAAM,SAAS,CAAC,MAAhB,qBADF,cAEE,4BAAQR,WAAW,CAACO,MAApB,GAFF,GALF,GAFF,cAaE,YAAK,SAAS,CAAC,eAAf,uBACE,kCACE,mBAAIP,WAAW,CAAC7B,SAAhB,EADF,EADF,EAbF,GA/BF,GAA2BK,CAA3B,CADgB,EAAjB,CAJH,EApFF,GAjNF,CAiWGzC,OAAO,cACN,aAAK,SAAS,CAAC,2CAAf,wBACE,kCACE,eAAQ,SAAS,CAAC,MAAlB,CAAyB,OAAO,CAAE,yBAAMG,CAAAA,WAAW,CAAC,IAAD,CAAjB,EAAlC,8BADF,EADF,cAIE,aAAK,SAAS,CAAC,SAAf,wBACE,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,yBAAMF,CAAAA,UAAU,CAAC,KAAD,CAAhB,EAA5C,oBADF,cAIE,eAAQ,QAAQ,CAAE,CAACH,WAAnB,CAAgC,SAAS,CAAC,kBAA1C,kBAJF,GAJF,GADM,CAcJ,IA/WN,CAkXGI,QAAQ,cACP,YAAK,SAAS,CAAC,mBAAf,CAAmC,OAAO,CAAE,yBAAMC,CAAAA,WAAW,CAAC,KAAD,CAAjB,EAA5C,uBAEE,aAAK,SAAS,CAAC,SAAf,CAAyB,OAAO,CAAE,iBAACwD,CAAD,QAAOA,CAAAA,CAAC,CAACC,eAAF,EAAP,EAAlC,wBAEE,YAAK,SAAS,CAAC,OAAf,8BAFF,cAME,YAAK,SAAS,CAAC,kBAAf,uBACE,KAAC,QAAD,EAAU,QAAQ,CAAC,oFAAnB,CAAwG,KAAK,CAAExD,aAA/G,CAA8H,QAAQ,CAAE,kBAAC8C,KAAD,QAAW7C,CAAAA,gBAAgB,CAAC6C,KAAD,CAA3B,EAAxI,EADF,EANF,cAUE,aAAK,SAAS,CAAC,SAAf,wBAEE,eAAQ,SAAS,CAAC,kBAAlB,CAAqC,OAAO,CAAE,yBAAMrD,CAAAA,OAAO,CAACgD,MAAR,CAAeqB,QAAf,CAAwB,uBAAxB,CAAiD,EAAjD,CAAqD,CACvGC,MAAM,CAAE,IAD+F,CAArD,CAAN,EAA9C,oBAFF,cAQE,eAAQ,QAAQ,CAAE,CAAC/D,aAAnB,CAAkC,SAAS,CAAC,gBAA5C,oBARF,GAVF,GAFF,EADO,CA2BL,IA7YN,GADD,CAgZG,IAjZE,EAAR,CAmZD,CA1hBqC,CAAtC,CA2hBA,cAAeT,CAAAA,6BAAf","sourcesContent":["import axios from \"axios\"\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport Icon from \"../../../components/Icon\"\nimport { nError } from \"../../../funcs\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../../store\";\nimport Datetime from 'react-datetime'\n\nimport \"../../../styles/pages/common/entity-edit.sass\"\nimport moment from \"moment\"\nimport Select from \"../../../components/Select\"\nimport Checkbox from \"../../../components/Checkbox\"\nimport { CallCenter_CallFlow, CallCenter_CallGroup, CallCenter_PhoneNumber } from \"../../../models/CallCenter\"\nimport Switcher from \"../../../components/Switcher\"\nimport classNames from \"classnames\"\nimport { BaseLink, useRoute } from \"react-router5\"\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\ninterface CallFlowData {\n  \n  permissions: {\n    \n    edit_call_flow: boolean,\n    show_phone_number: boolean,\n    show_call_group: boolean,\n  },\n\n  call_flow: CallCenter_CallFlow,\n  call_groups: CallCenter_CallGroup[],\n  phone_numbers: CallCenter_PhoneNumber[],\n\n  edit: {\n    \n    call_groups: CallCenter_CallGroup[]\n  }\n}\n\nconst emptyCallGroup: Partial<CallCenter_CallGroup> = {\n  call_group_id: '',\n  name: '',\n  dispatchers: '',\n  call_flows: ''\n}\n\nconst CallCenter_CallFlowsPage_Item = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const $router = useRoute()\n\n  const [readyToSave, setReadyToSave] = useState(false)\n\n  const [editing, setEditing] = useState(true)\n\n  const [deleting, setDeleting] = useState(false)\n  const [readyToDelete, setReadyToDelete] = useState(false)\n  \n  const [callFlowData, setCallFlowData] = useState<CallFlowData | null>(null)\n\n  const [callGroups, setCallGroups] = useState<CallCenter_CallGroup[] | null>(null)\n  const [availableCallGroups, setAvailableCallGroups] = useState<Partial<CallCenter_CallGroup>[]>([])\n  const [selectedCallGroup, setSelectedCallGroup] = useState<Partial<CallCenter_CallGroup>>(emptyCallGroup)\n\n  const [callGroupsData, setCallGroupsData] = useState<CallCenter_CallGroup[]>([])\n\n  const [phoneNumbers, setPhoneNumbers] = useState<CallCenter_PhoneNumber[]>([])\n\n  const [newCallFlowData, setNewCallFlowData] = useState({\n    name: '',\n    phrase_start: '',\n    phrase_office_closed: '',\n    phrase_office_temporary_closed: '',\n    phrase_phone_not_available: '',\n    phrase_dispatcher_not_available: ''\n  })\n  \n  // Load info function\n  async function loadInfo() {\n    try {\n      const { data: callFlowData } = (await axios.get('/json/call_center_call_flow.json')) as {data: CallFlowData}\n\n      setPhoneNumbers(callFlowData.phone_numbers)\n      \n      setCallFlowData(callFlowData)\n\n      setCallGroups(callFlowData.edit.call_groups)\n      setCallGroupsData(callFlowData.call_groups)\n\n      let _availableCallGroups = []\n\n      _availableCallGroups = callFlowData.edit.call_groups.filter(($callGroup) => {\n        \n        return callFlowData.call_groups.findIndex((callGroup) => {\n          return callGroup.name === $callGroup.name\n        }) === -1\n      })\n\n      setAvailableCallGroups([\n        ..._availableCallGroups\n      ])\n      \n      // setAvailableCallGroups([emptyCallGroup].concat(callFlowData.edit.call_groups))\n\n      setSelectedCallGroup(emptyCallGroup)\n\n      setNewCallFlowData({\n        name: callFlowData.call_flow.name,\n\n        phrase_start: callFlowData.call_flow.phrase_start,\n        phrase_office_closed: callFlowData.call_flow.phrase_office_closed,\n        phrase_office_temporary_closed: callFlowData.call_flow.phrase_office_temporary_closed,\n        phrase_phone_not_available: callFlowData.call_flow.phrase_phone_not_available,\n        phrase_dispatcher_not_available: callFlowData.call_flow.phrase_dispatcher_not_available\n      })\n\n      setTimeout(() => setReadyToSave(false), 100)\n    }\n    catch (error) {\n      nError(error)\n    }\n  }\n\n  // Load callFlow data\n  useEffect(() => {\n    loadInfo()\n  }, [])\n\n  useEffect(() => setReadyToSave(true), [\n    newCallFlowData\n  ])\n\n  // Add callGroup function\n  function addCallGroup() {\n\n    if (!callGroupsData || !newCallFlowData) return\n\n    const newCallGroupsList = [\n      ...callGroupsData,\n      selectedCallGroup\n    ]\n\n    setCallGroupsData(newCallGroupsList as any)\n\n    let _availableCallGroups = [...availableCallGroups]\n\n    _availableCallGroups = _availableCallGroups.filter(($callGroup) => {\n      \n      return newCallGroupsList.findIndex((callGroup) => {\n        return callGroup.name === $callGroup.name\n      }) === -1\n    })\n\n    setAvailableCallGroups([\n      ..._availableCallGroups\n    ])\n\n    setSelectedCallGroup(emptyCallGroup)\n\n    setReadyToSave(true)\n  }\n\n  // Remove callGroup function\n  function removeCallGroup(i: number) {\n\n    let _callFlowCallGroups = [...callGroupsData]\n\n    let _callGroup = _callFlowCallGroups[i]\n    \n    _callFlowCallGroups.splice(i, 1)\n\n    setCallGroupsData(_callFlowCallGroups)\n\n    setAvailableCallGroups([\n      ...availableCallGroups,\n      _callGroup\n    ])\n\n    setReadyToSave(true)\n  }\n  \n  // Render function\n  return (<>\n    {callFlowData && newCallFlowData.name ? (\n      <div className=\"CallCenter_CallFlowsPage_Item entity-edit\">\n\n        {/* Top navigation */}\n        <div className=\"top-nav\">\n          <BaseLink router={$router.router} routeName=\"call_center.phoneNumbers\" className={classNames({_active: $router.route.name === \"call_center.phoneNumbers\"})}>\n            <Icon icon=\"phone-1\" />\n            <span>Phone Numbers</span>\n          </BaseLink>\n\n          <BaseLink router={$router.router} routeName=\"call_center.dispatchers\" className={classNames({_active: $router.route.name === \"call_center.dispatchers\"})}>\n            <Icon icon=\"user-1\" />\n            <span>Dispatchers</span>\n          </BaseLink>\n\n          <BaseLink router={$router.router} routeName=\"call_center.groups\" className={classNames({_active: $router.route.name === \"call_center.groups\"})}>\n            <Icon icon=\"user-29\" />\n            <span>Groups</span>\n          </BaseLink>\n\n          <BaseLink router={$router.router} routeName=\"call_center.callFlows\" className={classNames({_active: $router.route.name === \"call_center.callFlows\"})}>\n            <Icon icon=\"share-7\" />\n            <span>Call Flows</span>\n          </BaseLink>\n\n          <BaseLink router={$router.router} routeName=\"call_center.settings\" className={classNames({_active: $router.route.name === \"call_center.settings\"})}>\n            <Icon icon=\"gear-1\" />\n            <span>Settings</span>\n          </BaseLink>\n        </div>\n\n        <div className=\"wrapper flex-container sb\">\n          <h1>Call Flow</h1>\n\n          {callFlowData?.permissions.edit_call_flow && !editing ? (\n            <button className=\"_wa _green\" onClick={() => setEditing(true)}>\n              Edit\n            </button>\n          ) : null}\n        </div>\n        \n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Main</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Name:</span>\n                <input type=\"text\" defaultValue={newCallFlowData.name} onChange={({target: {value}}) => setNewCallFlowData({...newCallFlowData, name: value})} />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"flex-container sb wrap\">\n            <div className=\"legend\">Call Groups</div>\n\n            <div className=\"legend-action-wrapper\">\n              <label>Call Group:</label>\n              <div className=\"input-wrapper\">\n                <Select options={availableCallGroups.map((callGroup) => ({\n                  span: callGroup.name as string,\n                  value: callGroup.name as string\n                }))} selectedOption={selectedCallGroup.name as string} onChange={(value) => setSelectedCallGroup(availableCallGroups.find((_callGroup) => _callGroup.name === value) as CallCenter_CallGroup)}/>\n                <button disabled={!selectedCallGroup.name} className=\"_green\" onClick={() => addCallGroup()}>\n                  Add\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <table className={classNames('table', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <th>Name</th>\n              <th>Dispatchers</th>\n              <th>Call Flow</th>\n              <th></th>\n            </tr>\n            {(callGroupsData as CallCenter_CallGroup[]).map((callGroup, i) => (\n              <tr key={i}>\n                <td>{callGroup.name}</td>\n                <td>{callGroup.dispatchers}</td>\n                <td>{callGroup.call_flows}</td>\n                <td>\n                  <button className=\"_zeroed _iconed _red\" onClick={(e) => { e.stopPropagation(); removeCallGroup(i) }}>\n                    <Icon icon=\"x-mark-1\" />\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          <div className={classNames('mobile-table', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            <div className=\"mobile-table-items\">\n\n              {callGroupsData.map((callGroup, i: number) => (\n              <div className=\"item\" key={i}>\n\n                <div className=\"__top\">\n\n                  <div className=\"__left\">\n                    <div><b>{callGroup.name}</b></div>\n                    <div>\n                      {callGroup.dispatchers}\n                    </div>\n                  </div>\n\n                  <div className=\"__right\">\n                    \n                  </div>\n                </div>\n\n                <div className=\"__bottom\">\n\n                  <div className=\"__left\">\n                    \n                  </div>\n\n                  <div className=\"__right small\">\n                    <div>\n                      <b>{callGroup.call_flows}</b>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"legend\">Call Phrases</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field _ait\">\n                <span>Start Phrase:</span>\n                <textarea defaultValue={callFlowData.call_flow.phrase_start} onChange={({target: {value}}) => setNewCallFlowData({...newCallFlowData, phrase_start: value})}></textarea>\n              </div>\n\n              <div className=\"field _ait\">\n                <span>Office Closed:</span>\n                <textarea defaultValue={callFlowData.call_flow.phrase_office_closed} onChange={({target: {value}}) => setNewCallFlowData({...newCallFlowData, phrase_office_closed: value})}></textarea>\n              </div>\n\n              <div className=\"field _ait\">\n                <span>Office Temporary Closed:</span>\n                <textarea defaultValue={callFlowData.call_flow.phrase_office_temporary_closed} onChange={({target: {value}}) => setNewCallFlowData({...newCallFlowData, phrase_office_temporary_closed: value})}></textarea>\n              </div>\n            </div>\n\n            <div className=\"__right\">\n              <div className=\"field _ait\">\n                <span>Phone Number Not Available:</span>\n                <textarea defaultValue={callFlowData.call_flow.phrase_phone_not_available} onChange={({target: {value}}) => setNewCallFlowData({...newCallFlowData, phrase_phone_not_available: value})}></textarea>\n              </div>\n\n              <div className=\"field _ait\">\n                <span>Dispatchers Not Available:</span>\n                <textarea defaultValue={callFlowData.call_flow.phrase_dispatcher_not_available} onChange={({target: {value}}) => setNewCallFlowData({...newCallFlowData, phrase_dispatcher_not_available: value})}></textarea>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Info</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Date Created:</span>\n                <input type=\"text\" defaultValue={callFlowData.call_flow.created_at} disabled={ true } />\n              </div>\n\n              <div className=\"field\">\n                <span>Created by:</span>\n                <input type=\"text\" defaultValue={callFlowData.call_flow.created_by} disabled={ true } />\n              </div>\n            </div>\n\n            \n            <div className=\"__right\">\n\n              <div className=\"field\">\n                <span>Last Edited:</span>\n                <input type=\"text\" defaultValue={callFlowData.call_flow.last_edited_at} disabled={ true } />\n              </div>\n\n              <div className=\"field\">\n                <span>Last Edited By:</span>\n                <input type=\"text\" defaultValue={callFlowData.call_flow.last_edited_by} disabled={ true } />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"legend\">Phone Numbers</div>\n\n          {/* Wide desktop table */}\n          <table className={classNames('table', '__show-on-wide', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <th>Phone Number</th>\n              <th>Friendly Name</th>\n              <th>Type</th>\n              <th>Source</th>\n              <th>Area</th>\n              <th>Company</th>\n              <th>Call Flow</th>\n              <th>Available</th>\n            </tr>\n            {phoneNumbers.map((phoneNumber, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('call_center.phoneNumbers.item', {}, {reload: true})}>\n                <td>\n                  <div className=\"flex-container\">\n                    <span>{phoneNumber.phone}</span>\n                    <button className=\"_zeroed _iconed\">\n                      <Icon icon=\"gear-1\"/>\n                    </button>\n                  </div>\n                </td>\n                <td>{phoneNumber.friendly_name}</td>\n\n                <td className={classNames({\n                  'red-text': phoneNumber.type === 'System',\n                  'green-text': phoneNumber.type === 'Source',\n                  'blue-text': !['System', 'Source'].includes(phoneNumber.type)\n                })}>{phoneNumber.type}</td>\n\n                <td>{phoneNumber.source}</td>\n                <td>{phoneNumber.area}</td>\n                <td>{phoneNumber.company}</td>\n                <td>{phoneNumber.call_flow}</td>\n\n                <td className={classNames({\n                  'red-text': phoneNumber.active === 'Off',\n                  'green-text': phoneNumber.active === 'On',\n                })}>{phoneNumber.active}</td>\n              </tr>\n            ))}\n          </table>\n\n          {/* Medium screen table */}\n          <table className={classNames('table', '__hide-on-wide', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr></tr>\n            {phoneNumbers.map((phoneNumber, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('call_center.phoneNumbers.item', {}, {reload: true})}>\n                <td>\n                  <div>{phoneNumber.phone}</div>\n                  <div>{phoneNumber.friendly_name}</div>\n                </td>\n                <td>\n                  <div>{phoneNumber.source}</div>\n                  <div>{phoneNumber.area}</div>\n                </td>\n                <td>\n                  <div>{phoneNumber.company}</div>\n                  <div className={classNames({\n                  'red-text': phoneNumber.type === 'System',\n                  'green-text': phoneNumber.type === 'Source',\n                  'blue-text': !['System', 'Source'].includes(phoneNumber.type)\n                })}>{phoneNumber.type}</div>\n                </td>\n                <td>\n                  <div>{phoneNumber.call_flow}</div>\n                  <div className={classNames({\n                  'red-text': phoneNumber.active === 'Off',\n                  'green-text': phoneNumber.active === 'On',\n                })}>{phoneNumber.active}</div>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          {/* Mobile table items */}\n          <div className={classNames('mobile-table-items', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            {phoneNumbers.map((phoneNumber, i: number) => (\n              <div className=\"item\" key={i} onClick={() => $router.router.navigate('call_center.phoneNumbers.item', {}, {reload: true})}>\n\n                <div className=\"__top\">\n\n                  <div className=\"__left\">\n                    <div><b>{phoneNumber.phone}</b></div>\n                    <div>\n                      {phoneNumber.friendly_name}\n                    </div>\n                  </div>\n\n                  <div className=\"__right\">\n                    <div>\n                      {phoneNumber.company}\n                    </div>\n                    <div className={classNames({\n                      'red-text': phoneNumber.type === 'System',\n                      'green-text': phoneNumber.type === 'Source',\n                      'blue-text': !['System', 'Source'].includes(phoneNumber.type)\n                    })}>\n                      {phoneNumber.type}\n                    </div>\n                    <div className={classNames({\n                      'red-text': phoneNumber.active === 'Off',\n                      'green-text': phoneNumber.active === 'On',\n                    })}>\n                      {phoneNumber.active}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"__bottom\">\n\n                  <div className=\"__left\">\n                    <div>\n                      <span className=\"gray\">Area:</span>\n                      <span> {phoneNumber.area}</span>\n                    </div>\n                    <div>\n                      <span className=\"gray\">Source:</span>\n                      <span> {phoneNumber.source}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"__right small\">\n                    <div>\n                      <b>{phoneNumber.call_flow}</b>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {editing ? (\n          <div className=\"wrapper flex-container sb editing-buttons\">\n            <div>\n              <button className=\"_red\" onClick={() => setDeleting(true)}>Delete Call Flow</button>\n            </div>\n            <div className=\"buttons\">\n              <button className=\"_bordered _red\" onClick={() => setEditing(false)}>\n                Cancel\n              </button>\n              <button disabled={!readyToSave} className=\"_bordered _green\">\n                Save\n              </button>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Item share popup */}\n        {deleting ? (\n          <div className=\"item-delete-popup\" onClick={() => setDeleting(false)}>\n\n            <div className=\"wrapper\" onClick={(e) => e.stopPropagation()}>\n            \n              <div className=\"title\">\n                Delete Call Flow\n              </div>\n\n              <div className=\"checkbox-wrapper\">\n                <Checkbox contents=\"I understand that after deleting the call flow it will not be possible to recover.\" value={readyToDelete} onChange={(value) => setReadyToDelete(value)} />\n              </div>\n\n              <div className=\"buttons\">\n\n                <button className=\"_bordered _green\" onClick={() => $router.router.navigate('call_center.callFlows', {}, {\n                  reload: true\n                })}>\n                  Cancel\n                </button>\n\n                <button disabled={!readyToDelete} className=\"_bordered _red\">\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    ) : null}\n  </>)\n})\nexport default CallCenter_CallFlowsPage_Item\n"]},"metadata":{},"sourceType":"module"}