{"ast":null,"code":"import _defineProperty from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/regenerator/index.js\";import classNames from\"classnames\";import{DateTime}from\"luxon\";import qs from\"qs\";import{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{useRoute}from\"react-router5\";import Icon from\"../../components/Icon\";import ReportFilters from\"../../components/reports/Filters\";import ReportTableControls from\"../../components/reports/TableControls\";import ReportTableField from\"../../components/reports/TableField\";import{httpClient,nError}from\"../../funcs/base\";import{getDateRangeByPreset}from\"../../funcs/reports\";import{mapDispatchToProps,mapStateToProps}from\"../../store\";import\"../../styles/pages/common/report-list.sass\";import{getActiveAccount}from\"../../funcs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AppointmentsPage_List=connect(mapStateToProps,mapDispatchToProps)(function(props){var $router=useRoute();var _useState=useState(Math.random()),_useState2=_slicedToArray(_useState,2),$updater=_useState2[0],$setUpdater=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),reportIsDeprecated=_useState4[0],setReportIsDeprecated=_useState4[1];var activeAccount=getActiveAccount(props.store);var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),reportData=_useState6[0],setReportData=_useState6[1];var _useState7=useState({search:undefined,appointmentSharePopup:false,dateRangeCalendarShown:false,dateRangeType:\"schedule\",dateRangePreset:\"custom\",min_date:DateTime.now().startOf('day').toJSDate(),max_date:DateTime.now().endOf('day').toJSDate(),page:1,filter_words:{type:[],status:[],property_type:[],area:[],created_by:[],service_resource:[]},sort:{field:'created_at',direction:'down'},sortFields:[{span:'Date',value:'created_at'},{span:'Name',value:'name'},{span:'Type',value:'type'},{span:'Status',value:'status'},{span:'Property Type',value:'property_type'},{span:'Area',value:'area'},{span:'Created by',value:'created_by'},{span:'Schedule time',value:'schedule_time'},{span:'Service resource',value:'service_resource'},{span:'Is Sent',value:'is_sent'}]}),_useState8=_slicedToArray(_useState7,2),localInterface=_useState8[0],setLocalInterface=_useState8[1];// Watch date range preset\nuseEffect(function(){if(!reportData)return;if(localInterface.dateRangePreset==='custom')return;setLocalInterface(_objectSpread(_objectSpread({},localInterface),getDateRangeByPreset(localInterface.dateRangePreset,reportData===null||reportData===void 0?void 0:reportData.interface.min_date,reportData===null||reportData===void 0?void 0:reportData.interface.max_date)));},[localInterface.dateRangePreset]);// Load appointments function\nfunction loadAppointments(){return _loadAppointments.apply(this,arguments);}// Load appointments on page mount\nfunction _loadAppointments(){_loadAppointments=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var activeFilters,_ref,appointments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:httpClient.defaults.headers['Authorization']=\"Bearer \".concat(props.store.accessToken);activeFilters=_objectSpread({},localInterface.filter_words);Object.keys(localInterface.filter_words).forEach(function(key){return!activeFilters[key].length&&delete activeFilters[key];});_context.prev=3;_context.next=6;return httpClient.post('/appointments/report',qs.stringify(_objectSpread({account_id:activeAccount.account_id,limit_rows:props.store.reportsMaxRows,page:localInterface.page,date_type:localInterface.dateRangeType,date_start:localInterface.min_date.toISOString(),date_end:localInterface.max_date.toISOString(),sort_field:localInterface.sort.field,sort_type:localInterface.sort.direction==='up'?'asc':'desc',search:localInterface.search},localInterface.search?{search:localInterface.search}:{})),{headers:{'Accept':'application/jsons','Content-Type':'application/x-www-form-urlencoded'}});case 6:_ref=_context.sent;appointments=_ref.data;setReportData(_objectSpread(_objectSpread({},appointments),{},{interface:_objectSpread(_objectSpread({},appointments.interface),{},{min_date:DateTime.fromISO(appointments.interface.min_date).startOf('day').toJSDate(),max_date:DateTime.fromISO(appointments.interface.max_date).endOf('day').toJSDate()})}));setTimeout(function(){setReportIsDeprecated(false);},100);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](3);nError(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[3,12]]);}));return _loadAppointments.apply(this,arguments);}useEffect(function(){loadAppointments();},[$updater,localInterface.page]);// Watch for deprecated\nuseEffect(function(){if(!reportData)return;setReportIsDeprecated(true);},[localInterface.min_date,localInterface.max_date,localInterface.dateRangeType]);// Is filter selected function\nfunction isFilterSelected(field,value){return localInterface.filter_words[field].includes(value);}function isAllFiltersSelected(field){return localInterface.filter_words[field].length===0;}function switchFilter(field,value,toggle){var _arr=_toConsumableArray(localInterface.filter_words[field]);if(toggle&&value===\"All\"){_arr=[];}else if(!toggle){while(true){var i=_arr.findIndex(function(filter){return filter===value;});if(i===-1)break;_arr.splice(i,1);}}else{if(reportData!==null&&reportData!==void 0&&reportData.interface.filter_words[field].every(function(option){return _arr.concat([value]).includes(option);}))_arr=[];else if(_arr.findIndex(function(filter){return filter===value;})===-1)_arr.push(value);}setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{filter_words:_objectSpread(_objectSpread({},localInterface.filter_words),{},_defineProperty({},field,_arr))}));}// Render function\nreturn/*#__PURE__*/_jsx(_Fragment,{children:reportData?/*#__PURE__*/_jsxs(\"div\",{className:\"AppointmentsPage_List\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reports-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cell\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"amount\",children:reportData.dashboard.service_calls}),/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Service calls\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cell\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"amount\",children:reportData.dashboard.recalls}),/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Recalls\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cell\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"amount\",children:reportData.dashboard.all}),/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"All appointments\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cell\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"amount\",children:reportData.dashboard.closed}),/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Closed appointments\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Appointments\"})}),/*#__PURE__*/_jsx(ReportFilters,{onSearchInputChange:function onSearchInputChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{search:value}));},dateRangeType:localInterface.dateRangeType,onDateRangeTypeChange:function onDateRangeTypeChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{dateRangeType:value}));},dateRangePreset:localInterface.dateRangePreset,onDateRangePresetChange:function onDateRangePresetChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{dateRangePreset:value}));},minDate:localInterface.min_date,onMinDateChange:function onMinDateChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{min_date:value,dateRangePreset:'custom'}));},maxDate:localInterface.max_date,onMaxDateChange:function onMaxDateChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{max_date:value,dateRangePreset:'custom'}));},updateButtonActive:reportIsDeprecated,onUpdate:function onUpdate(){return loadAppointments();}}),/*#__PURE__*/_jsx(ReportTableControls,{zIndex:5,onMaxRowsChange:function onMaxRowsChange(){return $setUpdater(Math.random());},amount:{total:reportData.interface.rows_all,start:reportData.interface.rows_start,end:reportData.interface.rows_end},page:localInterface.page,maxPages:reportData.interface.max_pages,onPagesStart:function onPagesStart(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:1}));},onPrevPage:function onPrevPage(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:localInterface.page-1}));},onNextPage:function onNextPage(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:localInterface.page+1}));},onPagesEnd:function onPagesEnd(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:reportData.interface.max_pages}));},sort:localInterface.sort,sortFields:localInterface.sortFields,onSortFieldChange:function onSortFieldChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:_objectSpread(_objectSpread({},localInterface.sort),{},{field:value})}));},onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:_objectSpread(_objectSpread({},localInterface.sort),{},{direction:value})}));},onSortFire:function onSortFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsxs(\"div\",{className:\"contents\",children:[/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__show-on-wide',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Date\"}),sortDirection:localInterface.sort.field==='created_at'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'created_at',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Name\"}),sortDirection:localInterface.sort.field==='name'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'name',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Type\"}),allFiltersSelected:isAllFiltersSelected(\"type\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"type\",\"All\",value);},filterWords:reportData.interface.filter_words.type.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"type\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"type\",value.word,value.selected);},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());},sortDirection:localInterface.sort.field==='type'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'type',direction:value}}));}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Status\"}),allFiltersSelected:isAllFiltersSelected(\"status\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"status\",\"All\",value);},filterWords:reportData.interface.filter_words.status.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"status\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"status\",value.word,value.selected);},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());},sortDirection:localInterface.sort.field==='status'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'status',direction:value}}));}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Property Type\"}),allFiltersSelected:isAllFiltersSelected(\"property_type\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"property_type\",\"All\",value);},filterWords:reportData.interface.filter_words.property_type.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"property_type\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"property_type\",value.word,value.selected);},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());},sortDirection:localInterface.sort.field==='property_type'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'property_type',direction:value}}));}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Area\"}),allFiltersSelected:isAllFiltersSelected(\"area\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"area\",\"All\",value);},filterWords:reportData.interface.filter_words.area.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"area\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"area\",value.word,value.selected);},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());},sortDirection:localInterface.sort.field==='area'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'area',direction:value}}));}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Created by\"}),allFiltersSelected:isAllFiltersSelected(\"created_by\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"created_by\",\"All\",value);},filterWords:reportData.interface.filter_words.created_by.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"created_by\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"created_by\",value.word,value.selected);},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());},sortDirection:localInterface.sort.field==='created_by'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'created_by',direction:value}}));}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Schedule time\"}),sortDirection:localInterface.sort.field==='schedule_time'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'schedule_time',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(\"span\",{children:\"Service resource\"}),allFiltersSelected:isAllFiltersSelected(\"service_resource\"),onAllFiltersChange:function onAllFiltersChange(value){return switchFilter(\"service_resource\",\"All\",value);},filterWords:reportData.interface.filter_words.service_resource.map(function(filterWord){return{word:filterWord,selected:isFilterSelected(\"service_resource\",filterWord)};}),onFilterChange:function onFilterChange(value){return switchFilter(\"service_resource\",value.word,value.selected);},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());},sortDirection:localInterface.sort.field==='service_resource'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'service_resource',direction:value}}));}}),/*#__PURE__*/_jsx(ReportTableField,{contents:/*#__PURE__*/_jsx(Icon,{className:\"__icon\",icon:\"arrow-60\"}),sortDirection:localInterface.sort.field==='is_sent'?localInterface.sort.direction:undefined,onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:{field:'is_sent',direction:value}}));},onFilterFire:function onFilterFire(){return $setUpdater(Math.random());}})]}),reportData.appointments.map(function(appointment,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return $router.router.navigate('appointments.item',{appointmentId:appointment.appointment_id},{reload:true});},children:[/*#__PURE__*/_jsx(\"td\",{children:appointment.created_at}),/*#__PURE__*/_jsx(\"td\",{children:appointment.name}),/*#__PURE__*/_jsx(\"td\",{children:appointment.type==='Recall'?/*#__PURE__*/_jsx(\"span\",{className:\"red\",children:appointment.type}):appointment.type==='Service call'?/*#__PURE__*/_jsx(\"span\",{className:\"green\",children:appointment.type}):/*#__PURE__*/_jsx(\"span\",{className:\"blue\",children:appointment.type})}),/*#__PURE__*/_jsx(\"td\",{children:appointment.status}),/*#__PURE__*/_jsx(\"td\",{children:appointment.property_type}),/*#__PURE__*/_jsx(\"td\",{children:appointment.area}),/*#__PURE__*/_jsx(\"td\",{children:appointment.created_by}),/*#__PURE__*/_jsx(\"td\",{children:appointment.schedule_time}),/*#__PURE__*/_jsx(\"td\",{children:appointment.service_resource}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed _blue\",disabled:appointment.is_sent,onClick:function onClick(e){e.stopPropagation();reportData.permissions.send_appointment&&setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{appointmentSharePopup:true}));},children:/*#__PURE__*/_jsx(Icon,{icon:\"arrow-60\"})})})]},i);})]}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__hide-on-wide','__hide-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsx(\"tr\",{}),reportData.appointments.map(function(appointment,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return $router.router.navigate('appointments.item',{appointmentId:appointment.appointment_id},{reload:true});},children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.name}),/*#__PURE__*/_jsx(\"div\",{children:appointment.created_at})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.service_resource}),/*#__PURE__*/_jsx(\"div\",{children:appointment.created_by})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.area}),/*#__PURE__*/_jsx(\"div\",{children:appointment.type==='Recall'?/*#__PURE__*/_jsx(\"span\",{className:\"red\",children:appointment.type}):appointment.type==='Service call'?/*#__PURE__*/_jsx(\"span\",{className:\"green\",children:appointment.type}):/*#__PURE__*/_jsx(\"span\",{className:\"blue\",children:appointment.type})})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.property_type}),/*#__PURE__*/_jsx(\"div\",{children:appointment.status})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.schedule_time}),/*#__PURE__*/_jsx(\"div\",{children:\"\\xA0\"})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed _blue\",disabled:appointment.is_sent,onClick:function onClick(e){e.stopPropagation();setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{appointmentSharePopup:true}));},children:/*#__PURE__*/_jsx(Icon,{icon:\"arrow-60\"})})})]},i);})]}),/*#__PURE__*/_jsx(\"div\",{className:classNames('mobile-table-items','__show-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:reportData.appointments.map(function(appointment,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",onClick:function onClick(){return $router.router.navigate('appointments.item',{appointmentId:appointment.appointment_id},{reload:true});},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container\",children:[/*#__PURE__*/_jsx(\"strong\",{children:appointment.name}),/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed _blue\",disabled:appointment.is_sent,onClick:function onClick(e){e.stopPropagation();reportData.permissions.send_appointment&&setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{appointmentSharePopup:true}));},children:/*#__PURE__*/_jsx(Icon,{icon:\"arrow-60\"})})]}),/*#__PURE__*/_jsx(\"div\",{children:appointment.schedule_time})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.type==='Recall'?/*#__PURE__*/_jsx(\"span\",{className:\"red\",children:appointment.type}):appointment.type==='Service call'?/*#__PURE__*/_jsx(\"span\",{className:\"green\",children:appointment.type}):/*#__PURE__*/_jsx(\"span\",{className:\"blue\",children:appointment.type})}),/*#__PURE__*/_jsx(\"div\",{children:appointment.property_type}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"fw500\",children:appointment.status})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Area:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",appointment.area]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Service Resourse:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",appointment.service_resource]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.created_at}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Created by \",appointment.created_by]})]})]})]},i);})})]}),/*#__PURE__*/_jsx(ReportTableControls,{isUnder:true,onMaxRowsChange:function onMaxRowsChange(){return $setUpdater(Math.random());},amount:{total:reportData.interface.rows_all,start:reportData.interface.rows_start,end:reportData.interface.rows_end},page:localInterface.page,maxPages:reportData.interface.max_pages,onPagesStart:function onPagesStart(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:1}));},onPrevPage:function onPrevPage(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:localInterface.page-1}));},onNextPage:function onNextPage(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:localInterface.page+1}));},onPagesEnd:function onPagesEnd(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{page:reportData.interface.max_pages}));},sort:localInterface.sort,sortFields:localInterface.sortFields,onSortFieldChange:function onSortFieldChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:_objectSpread(_objectSpread({},localInterface.sort),{},{field:value})}));},onSortDirectionChange:function onSortDirectionChange(value){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{sort:_objectSpread(_objectSpread({},localInterface.sort),{},{direction:value})}));},onSortFire:function onSortFire(){return $setUpdater(Math.random());}}),localInterface.appointmentSharePopup?/*#__PURE__*/_jsx(\"div\",{className:\"popup appointmentSharePopup\",onClick:function onClick(){return setLocalInterface(_objectSpread(_objectSpread({},localInterface),{},{appointmentSharePopup:false}));},children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-name\",children:\"2665NSM-A-01\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"_wa _iconed _bordered _blue\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Send\"}),/*#__PURE__*/_jsx(Icon,{icon:\"arrow-60\"})]})]})}):null]}):null});});export default AppointmentsPage_List;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/Appointments/List.tsx"],"names":["classNames","DateTime","qs","useEffect","useState","connect","useRoute","Icon","ReportFilters","ReportTableControls","ReportTableField","httpClient","nError","getDateRangeByPreset","mapDispatchToProps","mapStateToProps","getActiveAccount","AppointmentsPage_List","props","$router","Math","random","$updater","$setUpdater","reportIsDeprecated","setReportIsDeprecated","activeAccount","store","reportData","setReportData","search","undefined","appointmentSharePopup","dateRangeCalendarShown","dateRangeType","dateRangePreset","min_date","now","startOf","toJSDate","max_date","endOf","page","filter_words","type","status","property_type","area","created_by","service_resource","sort","field","direction","sortFields","span","value","localInterface","setLocalInterface","interface","loadAppointments","defaults","headers","accessToken","activeFilters","Object","keys","forEach","key","length","post","stringify","account_id","limit_rows","reportsMaxRows","date_type","date_start","toISOString","date_end","sort_field","sort_type","appointments","data","fromISO","setTimeout","isFilterSelected","includes","isAllFiltersSelected","switchFilter","toggle","_arr","i","findIndex","filter","splice","every","option","concat","push","dashboard","service_calls","recalls","all","closed","total","rows_all","start","rows_start","end","rows_end","max_pages","__respectAsidePanel","navActive","is","map","filterWord","word","selected","appointment","router","navigate","appointmentId","appointment_id","reload","created_at","name","schedule_time","is_sent","e","stopPropagation","permissions","send_appointment"],"mappings":"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","sourcesContent":["import classNames from \"classnames\"\nimport { DateTime } from \"luxon\"\nimport qs from \"qs\"\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useRoute } from \"react-router5\"\nimport Icon from \"../../components/Icon\"\nimport ReportFilters from \"../../components/reports/Filters\"\nimport ReportTableControls from \"../../components/reports/TableControls\"\nimport ReportTableField from \"../../components/reports/TableField\"\nimport { httpClient, nError } from \"../../funcs/base\"\nimport {getDateRangeByPreset} from \"../../funcs/reports\"\nimport Appointment from \"../../models/Appointment\"\nimport { DateRangePreset } from \"../../models/Misc\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../store\";\n\nimport \"../../styles/pages/common/report-list.sass\"\nimport {getActiveAccount} from \"../../funcs\";\nimport Account from \"../../models/Account\";\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\ntype FilterWord = 'type' | 'status' | 'property_type' | 'area' | 'created_by' | 'service_resource'\n\ninterface AppointmentsReport {\n\n  interface: {\n\n    filter_words: {\n\n      type: string[],\n      status: string[],\n      property_type: string[],\n      area: string[],\n      created_by: string[],\n      service_resource: string[]\n    },\n\n    max_pages: number,\n    rows_start: number,\n    rows_end: number,\n    rows_all: number,\n    \n    min_date: Date,\n    max_date: Date\n  },\n\n  permissions: {\n    show_appointment: boolean,\n    send_appointment: boolean\n  },\n\n  dashboard: {\n\n    service_calls: string,\n    recalls: string,\n    all: string,\n    closed: string\n  },\n\n  appointments: Appointment[]\n}\n\nconst AppointmentsPage_List = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const $router = useRoute()\n\n  const [$updater, $setUpdater] = useState<any>(Math.random())\n\n  const [reportIsDeprecated, setReportIsDeprecated] = useState(false)\n\n  const activeAccount = getActiveAccount(props.store) as Account;\n  const [reportData, setReportData] = useState<AppointmentsReport | null>(null)\n  const [localInterface, setLocalInterface] = useState({\n\n    search: undefined,\n    \n    appointmentSharePopup: false,\n    \n    dateRangeCalendarShown: false,\n    dateRangeType: \"schedule\" as \"created\" | \"schedule\",\n    dateRangePreset: \"custom\" as DateRangePreset,\n\n    min_date: DateTime.now().startOf('day').toJSDate(),\n    max_date: DateTime.now().endOf('day').toJSDate(),\n\n    page: 1,\n\n    filter_words: {\n\n      type: [] as string[],\n      status: [] as string[],\n      property_type: [] as string[],\n      area: [] as string[],\n      created_by: [] as string[],\n      service_resource: [] as string[]\n    },\n\n    sort: {\n      field: 'created_at',\n      direction: 'down' as 'up' | 'down'\n    },\n    sortFields: [{\n      span: 'Date',\n      value: 'created_at'\n    },{\n      span: 'Name',\n      value: 'name'\n    },{\n      span: 'Type',\n      value: 'type'\n    },{\n      span: 'Status',\n      value: 'status'\n    },{\n      span: 'Property Type',\n      value: 'property_type'\n    },{\n      span: 'Area',\n      value: 'area'\n    },{\n      span: 'Created by',\n      value: 'created_by'\n    },{\n      span: 'Schedule time',\n      value: 'schedule_time'\n    },{\n      span: 'Service resource',\n      value: 'service_resource'\n    },{\n      span: 'Is Sent',\n      value: 'is_sent'\n    }]\n\n  })\n\n  // Watch date range preset\n  useEffect(() => {\n\n    if (!reportData) return\n    \n    if(localInterface.dateRangePreset === 'custom') return\n\n    setLocalInterface({\n      ...localInterface,\n      ...(getDateRangeByPreset(localInterface.dateRangePreset, reportData?.interface.min_date, reportData?.interface.max_date))\n    })\n\n  }, [localInterface.dateRangePreset])\n\n  // Load appointments function\n  async function loadAppointments() {\n\n    httpClient.defaults.headers['Authorization'] = `Bearer ${props.store.accessToken}`\n    \n    let activeFilters: any = {...localInterface.filter_words}\n    Object.keys(localInterface.filter_words).forEach((key: any) => !activeFilters[key].length && delete activeFilters[key])\n\n    try {\n      const { data: appointments } = await httpClient.post('/appointments/report', qs.stringify({\n\n        account_id:activeAccount.account_id,\n        limit_rows: props.store.reportsMaxRows,\n        page: localInterface.page,\n        date_type: localInterface.dateRangeType,\n        date_start: localInterface.min_date.toISOString(),\n        date_end: localInterface.max_date.toISOString(),\n        sort_field: localInterface.sort.field,\n        sort_type: localInterface.sort.direction === 'up' ? 'asc' : 'desc',\n        search:localInterface.search,\n        ...(localInterface.search ? {search: localInterface.search} : {})\n      }), {\n        headers: {\n          'Accept':'application/jsons',\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }) as { data: AppointmentsReport }\n\n      setReportData({\n        ...appointments,\n\n        interface: {\n\n          ...appointments.interface,\n          min_date: DateTime.fromISO(appointments.interface.min_date as unknown as string).startOf('day').toJSDate(),\n          max_date: DateTime.fromISO(appointments.interface.max_date as unknown as string).endOf('day').toJSDate(),\n        }\n      })\n\n      setTimeout(() => {\n        setReportIsDeprecated(false)\n      }, 100)\n    }\n    catch (error) {\n      nError(error)\n    }\n  }\n\n  // Load appointments on page mount\n  useEffect(() => { loadAppointments() }, [\n    $updater,\n    localInterface.page,\n  ])\n\n  // Watch for deprecated\n  useEffect(() => {\n    if(!reportData) return\n    setReportIsDeprecated(true)\n  }, [\n    localInterface.min_date,\n    localInterface.max_date,\n    localInterface.dateRangeType,\n  ])\n\n  // Is filter selected function\n  function isFilterSelected(field: FilterWord, value: string) {\n    return localInterface.filter_words[field].includes(value)\n  }\n\n  function isAllFiltersSelected(field: FilterWord) {\n    return localInterface.filter_words[field].length === 0\n  }\n\n  function switchFilter(field: FilterWord, value: string, toggle: boolean) {\n\n    let _arr = [...localInterface.filter_words[field]]\n\n    if (toggle && value === \"All\") { _arr = [] }\n    \n    else if (!toggle) {\n\n      while (true) {\n        let i = _arr.findIndex((filter) => filter === value)\n        if(i === -1) break\n        _arr.splice(i, 1)\n      }\n    }\n      \n    else {\n\n      if (reportData?.interface.filter_words[field].every((option) => _arr.concat([value]).includes(option)))\n        _arr = []\n\n      else if(_arr.findIndex((filter) => filter === value) === -1)\n        _arr.push(value)\n    }\n\n    setLocalInterface({...localInterface, filter_words: {...localInterface.filter_words, [field]: _arr}})\n  }\n\n  // Render function\n  return (<>\n    {reportData ? (\n      <div className=\"AppointmentsPage_List\" >\n      \n        { /* Reports grid */}\n        <div className=\"reports-grid\">\n        \n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.service_calls}</div>\n            <div className=\"legend\">Service calls</div>\n          </div>\n\n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.recalls}</div>\n            <div className=\"legend\">Recalls</div>\n          </div>\n\n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.all}</div>\n            <div className=\"legend\">All appointments</div>\n          </div>\n\n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.closed}</div>\n            <div className=\"legend\">Closed appointments</div>\n          </div>\n        </div>\n\n        { /* Page header */}\n        <div className=\"page-header\">\n          <h1>Appointments</h1>\n        </div>\n\n        { /* List filters */}\n        <ReportFilters\n          onSearchInputChange={(value) => setLocalInterface({...localInterface, search: value})}\n\n          dateRangeType={localInterface.dateRangeType}\n          onDateRangeTypeChange={(value) => setLocalInterface({...localInterface, dateRangeType: value as any})}\n\n          dateRangePreset={localInterface.dateRangePreset}\n          onDateRangePresetChange={(value) => setLocalInterface({ ...localInterface, dateRangePreset: value })}\n\n          minDate={localInterface.min_date}\n          onMinDateChange={(value) => setLocalInterface({ ...localInterface, min_date: value, dateRangePreset: 'custom' }) }\n\n          maxDate={localInterface.max_date}\n          onMaxDateChange={(value) => setLocalInterface({...localInterface, max_date: value, dateRangePreset: 'custom'})}\n\n          updateButtonActive={reportIsDeprecated}\n          onUpdate={() => loadAppointments()}\n        />\n\n        {/* Table controls */}\n        <ReportTableControls\n          zIndex={5}\n          \n          onMaxRowsChange={() => $setUpdater(Math.random())}\n\n          amount={{\n            total: reportData.interface.rows_all,\n            start: reportData.interface.rows_start,\n            end: reportData.interface.rows_end\n          }}\n\n          page={localInterface.page}\n          maxPages={reportData.interface.max_pages}\n          onPagesStart={() => setLocalInterface({...localInterface, page: 1})}\n          onPrevPage={() => setLocalInterface({...localInterface, page: localInterface.page-1})}\n          onNextPage={() => setLocalInterface({...localInterface, page: localInterface.page+1})}\n          onPagesEnd={() => setLocalInterface({...localInterface, page: reportData.interface.max_pages})}\n          \n          sort={localInterface.sort}\n          sortFields={localInterface.sortFields}\n          onSortFieldChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, field: value}})}\n          onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, direction: value}})}\n          onSortFire={() => $setUpdater(Math.random())}\n        />\n\n        <div className=\"contents\">\n\n          {/* Wide desktop table */}\n          <table className={classNames('table', '__show-on-wide', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <ReportTableField\n                contents={(<span>Date</span>)}\n\n                sortDirection={localInterface.sort.field === 'created_at' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'created_at', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Name</span>)}\n\n                sortDirection={localInterface.sort.field === 'name' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'name', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Type</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"type\")}\n                onAllFiltersChange={(value) => switchFilter(\"type\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.type.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"type\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"type\", value.word, value.selected)}\n                onFilterFire={() => $setUpdater(Math.random())}\n\n                sortDirection={localInterface.sort.field === 'type' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'type', direction: value}})}\n              />\n              <ReportTableField\n                contents={(<span>Status</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"status\")}\n                onAllFiltersChange={(value) => switchFilter(\"status\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.status.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"status\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"status\", value.word, value.selected)}\n                onFilterFire={() => $setUpdater(Math.random())}\n\n                sortDirection={localInterface.sort.field === 'status' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'status', direction: value}})}\n              />\n              <ReportTableField\n                contents={(<span>Property Type</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"property_type\")}\n                onAllFiltersChange={(value) => switchFilter(\"property_type\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.property_type.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"property_type\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"property_type\", value.word, value.selected)}\n                onFilterFire={() => $setUpdater(Math.random())}\n\n                sortDirection={localInterface.sort.field === 'property_type' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'property_type', direction: value}})}\n              />\n              <ReportTableField\n                contents={(<span>Area</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"area\")}\n                onAllFiltersChange={(value) => switchFilter(\"area\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.area.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"area\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"area\", value.word, value.selected)}\n                onFilterFire={() => $setUpdater(Math.random())}\n\n                sortDirection={localInterface.sort.field === 'area' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'area', direction: value}})}\n              />\n              <ReportTableField\n                contents={(<span>Created by</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"created_by\")}\n                onAllFiltersChange={(value) => switchFilter(\"created_by\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.created_by.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"created_by\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"created_by\", value.word, value.selected)}\n                onFilterFire={() => $setUpdater(Math.random())}\n\n                sortDirection={localInterface.sort.field === 'created_by' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'created_by', direction: value}})}\n              />\n              <ReportTableField\n                contents={(<span>Schedule time</span>)}\n\n                sortDirection={localInterface.sort.field === 'schedule_time' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'schedule_time', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Service resource</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"service_resource\")}\n                onAllFiltersChange={(value) => switchFilter(\"service_resource\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.service_resource.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"service_resource\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"service_resource\", value.word, value.selected)}\n                onFilterFire={() => $setUpdater(Math.random())}\n\n                sortDirection={localInterface.sort.field === 'service_resource' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'service_resource', direction: value}})}\n              />\n              <ReportTableField\n                contents={(<Icon className=\"__icon\" icon=\"arrow-60\" />)}\n\n                sortDirection={localInterface.sort.field === 'is_sent' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'is_sent', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n            </tr>\n            {reportData.appointments.map((appointment, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('appointments.item', {\n                appointmentId: appointment.appointment_id\n              }, {reload: true})}>\n                <td>{appointment.created_at}</td>\n                <td>{appointment.name}</td>\n                <td>\n                  {appointment.type === 'Recall' ? (\n                    <span className=\"red\">\n                      {appointment.type}\n                    </span>\n                  ) : appointment.type === 'Service call' ? (\n                    <span className=\"green\">\n                      {appointment.type}\n                    </span>\n                  ) : (\n                    <span className=\"blue\">\n                      {appointment.type}\n                    </span>\n                  )}\n                </td>\n                <td>{appointment.status}</td>\n                <td>{appointment.property_type}</td>\n                <td>{appointment.area}</td>\n                <td>{appointment.created_by}</td>\n                <td>{appointment.schedule_time}</td>\n                <td>{appointment.service_resource}</td>\n                <td>\n                  <button className=\"_zeroed _iconed _blue\" disabled={appointment.is_sent} onClick={(e) => { e.stopPropagation(); reportData.permissions.send_appointment && setLocalInterface({...localInterface, appointmentSharePopup: true}) }}>\n                    <Icon icon=\"arrow-60\" />\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          {/* Medium desktop table */}\n          <table className={classNames('table', '__hide-on-wide', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr></tr>\n            {reportData.appointments.map((appointment, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('appointments.item', {\n                appointmentId: appointment.appointment_id\n              }, {reload: true})}>\n                <td>\n                  <div>{appointment.name}</div>\n                  <div>{appointment.created_at}</div>\n                </td>\n                <td>\n                  <div>{appointment.service_resource}</div>\n                  <div>{appointment.created_by}</div>\n                </td>\n                <td>\n                  <div>{appointment.area}</div>\n                  <div>\n                    {appointment.type === 'Recall' ? (\n                      <span className=\"red\">\n                        {appointment.type}\n                      </span>\n                    ) : appointment.type === 'Service call' ? (\n                      <span className=\"green\">\n                        {appointment.type}\n                      </span>\n                    ) : (\n                      <span className=\"blue\">\n                        {appointment.type}\n                      </span>\n                    )}\n                  </div>\n                </td>\n                <td>\n                  <div>{appointment.property_type}</div>\n                  <div>{appointment.status}</div>\n                </td>\n                <td>\n                  <div>{appointment.schedule_time}</div>\n                  <div>&nbsp;</div>\n                </td>\n                <td>\n                  <button className=\"_zeroed _iconed _blue\" disabled={appointment.is_sent} onClick={(e) => { e.stopPropagation(); setLocalInterface({...localInterface, appointmentSharePopup: true}) }}>\n                    <Icon icon=\"arrow-60\" />\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          {/* Mobile table items */}\n          <div className={classNames('mobile-table-items', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            {reportData.appointments.map((appointment, i: number) => (\n              <div className=\"item\" key={i} onClick={() => $router.router.navigate('appointments.item', {\n                appointmentId: appointment.appointment_id\n              }, {reload: true})}>\n\n                <div className=\"__top\">\n\n                  <div className=\"__left\">\n                    <div className=\"flex-container\">\n                      <strong>{appointment.name}</strong>\n                      <button className=\"_zeroed _iconed _blue\" disabled={appointment.is_sent} onClick={(e) => { e.stopPropagation(); reportData.permissions.send_appointment && setLocalInterface({...localInterface, appointmentSharePopup: true}) }}>\n                        <Icon icon=\"arrow-60\" />\n                      </button>\n                    </div>\n                    <div>\n                      {appointment.schedule_time}\n                    </div>\n                  </div>\n\n                  <div className=\"__right\">\n                    <div>\n                      {appointment.type === 'Recall' ? (\n                        <span className=\"red\">\n                          {appointment.type}\n                        </span>\n                      ) : appointment.type === 'Service call' ? (\n                        <span className=\"green\">\n                          {appointment.type}\n                        </span>\n                      ) : (\n                        <span className=\"blue\">\n                          {appointment.type}\n                        </span>\n                      )}\n                    </div>\n                    <div>\n                      {appointment.property_type}\n                    </div>\n                    <div>\n                      <div className=\"fw500\">{appointment.status}</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"__bottom\">\n\n                  <div className=\"__left\">\n                    <div>\n                      <span className=\"gray\">Area:</span>\n                      <span> {appointment.area}</span>\n                    </div>\n                    <div>\n                      <span className=\"gray\">Service Resourse:</span>\n                      <span> {appointment.service_resource}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"__right\">\n                    <div>\n                      {appointment.created_at}\n                    </div>\n                    <div>\n                      Created by {appointment.created_by}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Table controls */}\n        <ReportTableControls\n          isUnder={true}\n\n          onMaxRowsChange={() => $setUpdater(Math.random())}\n\n          amount={{\n            total: reportData.interface.rows_all,\n            start: reportData.interface.rows_start,\n            end: reportData.interface.rows_end\n          }}\n\n          page={localInterface.page}\n          maxPages={reportData.interface.max_pages}\n          onPagesStart={() => setLocalInterface({...localInterface, page: 1})}\n          onPrevPage={() => setLocalInterface({...localInterface, page: localInterface.page-1})}\n          onNextPage={() => setLocalInterface({...localInterface, page: localInterface.page+1})}\n          onPagesEnd={() => setLocalInterface({...localInterface, page: reportData.interface.max_pages})}\n          \n          sort={localInterface.sort}\n          sortFields={localInterface.sortFields}\n          onSortFieldChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, field: value}})}\n          onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, direction: value}})}\n          onSortFire={() => $setUpdater(Math.random())}\n        />\n\n        {/* Item share popup */}\n        {localInterface.appointmentSharePopup ? (\n          <div className=\"popup appointmentSharePopup\" onClick={() => setLocalInterface({...localInterface, appointmentSharePopup: false})}>\n\n            <div className=\"wrapper\" onClick={(e) => e.stopPropagation()}>\n            \n              <div className=\"item-name\">\n                2665NSM-A-01\n              </div>\n\n              <button className=\"_wa _iconed _bordered _blue\">\n                <span>Send</span>\n                <Icon icon=\"arrow-60\" />\n              </button>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    ) : null}\n  </>)\n})\nexport default AppointmentsPage_List\n"]},"metadata":{},"sourceType":"module"}