{"ast":null,"code":"var _jsxFileName = \"/Users/nicole/rrrr/crm/src/pages/Calls/NumbersList.tsx\",\n    _s = $RefreshSig$();\n\nimport classNames from \"classnames\";\nimport moment from \"moment\";\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useRoute } from \"react-router5\";\nimport { Transition } from \"react-transition-group\";\nimport Checkbox from \"../../components/Checkbox\";\nimport Icon from \"../../components/Icon\";\nimport ReportFilters from \"../../components/reports/Filters\";\nimport ReportTableControls from \"../../components/reports/TableControls\";\nimport ReportTableField from \"../../components/reports/TableField\";\nimport Select from \"../../components/Select\";\nimport { nError } from \"../../funcs/base\";\nimport { getDateRangeByPreset } from \"../../funcs/reports\";\nimport { mapDispatchToProps, mapStateToProps } from \"../../store\";\nimport \"../../styles/pages/common/report-list.sass\";\nimport { getActiveAccount, httpClient } from \"../../funcs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst CallsNumbersPage_List = connect(mapStateToProps, mapDispatchToProps)(_s(function (props) {\n  _s();\n\n  const $router = useRoute();\n  const activeAccount = getActiveAccount(props.store);\n  const [$updater, $setUpdater] = useState(Math.random());\n  const [topFilterShown, setTopFilterShown] = useState(false);\n  const [hashtagFilterShown, setHashtagFilterShown] = useState(false);\n  const [reportIsDeprecated, setReportIsDeprecated] = useState(false);\n  const [reportData, setReportData] = useState(null);\n  const [localInterface, setLocalInterface] = useState({\n    search: '',\n    dateRangeCalendarShown: false,\n    dateRangePreset: \"custom\",\n    min_date: new Date(),\n    max_date: new Date(),\n    page: 1,\n    max_rows: 100,\n    filter_words: {\n      source: [],\n      area: []\n    },\n    tag_words: [],\n    searchFilters: [[\"source\", \"system\"], [\"inboud\", \"outbound\"]],\n    selectedSearchFilters: {\n      type: ['source'],\n      direction: []\n    },\n    sort: {\n      field: 'number',\n      direction: 'up'\n    },\n    sortFields: [{\n      span: 'Number',\n      value: 'number'\n    }, {\n      span: 'Friendly Name',\n      value: 'friendly_name'\n    }, {\n      span: 'Source',\n      value: 'source'\n    }, {\n      span: 'Area',\n      value: 'area'\n    }, {\n      span: 'Total calls',\n      value: 'total_calls'\n    }, {\n      span: 'Completed',\n      value: 'completed_calls'\n    }, {\n      span: 'Unanswered',\n      value: 'unanswered_calls'\n    }, {\n      span: 'Avg Duration',\n      value: 'avg_duration'\n    }, {\n      span: 'Total appointments',\n      value: 'total_appointments'\n    }]\n  }); // Watch date range preset\n\n  useEffect(() => {\n    if (!reportData) return;\n    setLocalInterface({ ...localInterface,\n      ...getDateRangeByPreset(localInterface.dateRangePreset, reportData === null || reportData === void 0 ? void 0 : reportData.interface.min_date, reportData === null || reportData === void 0 ? void 0 : reportData.interface.max_date)\n    });\n  }, [localInterface.dateRangePreset]); // Load calls function\n\n  async function loadCalls() {\n    httpClient.defaults.headers['Authorization'] = `Bearer ${props.store.accessToken}`;\n    let activeFilters = { ...localInterface.filter_words\n    };\n    Object.keys(localInterface.filter_words).forEach(key => !activeFilters[key].length && delete activeFilters[key]);\n\n    try {\n      const {\n        data: calls\n      } = await httpClient.post('/calls/report/numbers', {\n        account_id: activeAccount.account_id,\n        limit_rows: JSON.stringify(props.store.reportsMaxRows),\n        page: JSON.stringify(localInterface.page),\n        date_start: localInterface.min_date.toISOString(),\n        date_end: localInterface.max_date.toISOString(),\n        filter_tag: JSON.stringify(localInterface.tag_words),\n        main_filter: JSON.stringify(localInterface.selectedSearchFilters),\n        sort_field: localInterface.sort.field,\n        sort_type: localInterface.sort.direction === 'up' ? 'asc' : 'desc',\n        filter_field: JSON.stringify(activeFilters),\n        ...(localInterface.search ? {\n          search: localInterface.search\n        } : {})\n      });\n      setReportData({ ...calls,\n        interface: { ...calls.interface,\n          min_date: moment(calls.interface.min_date).startOf('day').toDate(),\n          max_date: moment(calls.interface.max_date).endOf('day').toDate()\n        }\n      });\n      setTimeout(() => {\n        setReportIsDeprecated(false);\n      }, 100);\n    } catch (error) {\n      nError(error);\n    }\n  } // Watch for deprecated\n\n\n  useEffect(() => {\n    if (!reportData) return;\n    setReportIsDeprecated(true);\n  }, [localInterface.min_date, localInterface.max_date]); // Load calls on page mount\n\n  useEffect(() => {\n    loadCalls();\n  }, [$updater, localInterface.page]); // Is filter selected function\n\n  function isFilterSelected(field, value) {\n    return localInterface.filter_words[field].includes(value);\n  } // Is all filters selected function\n\n\n  function isAllFiltersSelected(field) {\n    return localInterface.filter_words[field].length === 0;\n  } // Filter switch function\n\n\n  function switchFilter(field, value, toggle) {\n    let _arr = [...localInterface.filter_words[field]];\n\n    if (toggle && value === \"All\") {\n      _arr = [];\n    } else if (!toggle) {\n      while (true) {\n        let i = _arr.findIndex(filter => filter === value);\n\n        if (i === -1) break;\n\n        _arr.splice(i, 1);\n      }\n    } else {\n      if (reportData !== null && reportData !== void 0 && reportData.interface.filter_words[field].every(option => _arr.concat([value]).includes(option))) _arr = [];else if (_arr.findIndex(filter => filter === value) === -1) _arr.push(value);\n    }\n\n    setLocalInterface({ ...localInterface,\n      filter_words: { ...localInterface.filter_words,\n        [field]: _arr\n      }\n    });\n  } // Is tag_word selected function\n\n\n  function isTagWordSelected(value) {\n    return localInterface.tag_words.includes(value);\n  } // Is all tag words selected function\n\n\n  function isAllTagWordsSelected() {\n    return localInterface.tag_words.length === 0;\n  } // Toggle tagword function\n\n\n  function switchTagWord(value, toggle) {\n    let _arr = [...localInterface.tag_words];\n\n    if (toggle && value === \"All\") {\n      _arr = [];\n    } else if (!toggle) {\n      while (true) {\n        let i = _arr.findIndex(filter => filter === value);\n\n        if (i === -1) break;\n\n        _arr.splice(i, 1);\n      }\n    } else {\n      if (reportData !== null && reportData !== void 0 && reportData.interface.tag_words.every(option => _arr.concat([value]).includes(option))) {\n        _arr = [];\n      } else if (_arr.findIndex(filter => filter === value) === -1) _arr.push(value);\n    }\n\n    setLocalInterface({ ...localInterface,\n      tag_words: _arr\n    });\n  } // Is search field selected function\n\n\n  function isSearchFilterSelected(i, value, field) {\n    if (field == 'type') {\n      return localInterface.selectedSearchFilters.type.includes(value);\n    }\n\n    if (field == 'direction') {\n      return localInterface.selectedSearchFilters.direction.includes(value);\n    }\n  } // Is all search fields selected function\n\n\n  function isAllSearchFiltersSelected(i, field) {\n    if (field == 'type') {\n      return localInterface.selectedSearchFilters.type.length === 0;\n    } else if (field == 'direction') {\n      return localInterface.selectedSearchFilters.direction.length === 0;\n    }\n  } // Toggle search filter function\n\n\n  function switchSearchFilter(i, value, toggle, field, $arr) {\n    let $arrType = $arr;\n    let $object = localInterface.selectedSearchFilters;\n\n    if (toggle && value === \"All\") {\n      $arrType = [];\n    } else if (toggle == false) {\n      for (let i = 0; i < $arrType.length; i++) {\n        $arrType.map((v, index) => {\n          if (v == value) {\n            $arrType.splice(index, 1);\n          }\n        });\n      }\n    } else {\n      $arrType.push(value);\n    }\n\n    if (field == 'type') {\n      if ($arrType.length == localInterface.searchFilters[0].length) {\n        $arrType = [];\n      }\n\n      $object.type = $arrType;\n    }\n\n    if (field == 'direction') {\n      if ($arrType.length == localInterface.searchFilters[1].length) {\n        $arrType = [];\n      }\n\n      $object.direction = $arrType;\n    }\n\n    setLocalInterface({ ...localInterface,\n      selectedSearchFilters: $object\n    });\n  } // Render function\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: reportData ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"CallsNumbersPage_List\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reports-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amount\",\n            children: reportData.dashboard.calls\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend\",\n            children: \"Calls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amount\",\n            children: reportData.dashboard.callers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend\",\n            children: \"Callers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amount\",\n            children: reportData.dashboard.missed_calls\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend\",\n            children: \"Missed Calls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"amount\",\n            children: reportData.dashboard.active_calls\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend\",\n            children: \"Active Calls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Numbers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReportFilters, {\n        onSearchInputChange: value => setLocalInterface({ ...localInterface,\n          search: value\n        }),\n        dateRangePreset: localInterface.dateRangePreset,\n        onDateRangePresetChange: value => setLocalInterface({ ...localInterface,\n          dateRangePreset: value\n        }),\n        minDate: localInterface.min_date,\n        onMinDateChange: value => setLocalInterface({ ...localInterface,\n          min_date: value\n        }),\n        maxDate: localInterface.max_date,\n        onMaxDateChange: value => setLocalInterface({ ...localInterface,\n          max_date: value\n        }),\n        updateButtonActive: reportIsDeprecated,\n        onUpdate: () => {\n          $setUpdater(Math.random());\n          setReportIsDeprecated(false);\n        },\n        childrenAfterSearch: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            tabIndex: -1,\n            className: \"filter-button\",\n            onFocus: () => setTopFilterShown(true),\n            onBlur: e => !e.currentTarget.contains(e.relatedTarget) && setTopFilterShown(false),\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: classNames(\"_wa\", \"_rounded\", \"_iconed\", {\n                _blue: !isAllSearchFiltersSelected(0, 'type') || !isAllSearchFiltersSelected(1, 'direction')\n              }),\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                icon: \"filter-8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Transition, {\n              in: topFilterShown,\n              mountOnEnter: true,\n              unmountOnExit: true,\n              timeout: 210,\n              children: state => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classNames(\"filter-wrapper\", `transition-fade-${state}`),\n                children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                  contents: \"All\",\n                  value: isAllSearchFiltersSelected(0, 'type'),\n                  onChange: value => switchSearchFilter(0, \"All\", value, 'type', localInterface.selectedSearchFilters.type)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 23\n                }, this), localInterface.searchFilters[0].map((option, index) => /*#__PURE__*/_jsxDEV(Checkbox, {\n                  contents: option,\n                  value: isSearchFilterSelected(0, option, 'type'),\n                  onChange: value => switchSearchFilter(1, option, value, 'type', localInterface.selectedSearchFilters.type)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 27\n                }, this)), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n                  contents: \"All\",\n                  value: isAllSearchFiltersSelected(1, 'direction'),\n                  onChange: value => switchSearchFilter(1, \"All\", value, 'direction', localInterface.selectedSearchFilters.direction)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 23\n                }, this), localInterface.searchFilters[1].map((option, index) => /*#__PURE__*/_jsxDEV(Checkbox, {\n                  contents: option,\n                  value: isSearchFilterSelected(1, option, 'direction'),\n                  onChange: value => switchSearchFilter(1, option, value, 'direction', localInterface.selectedSearchFilters.direction)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 27\n                }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    $setUpdater(Math.random());\n                  },\n                  className: \"_bordered _blue _wa\",\n                  children: \"Filter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            tabIndex: -1,\n            className: \"filter-button\",\n            onFocus: () => setHashtagFilterShown(true),\n            onBlur: e => !e.currentTarget.contains(e.relatedTarget) && setHashtagFilterShown(false),\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: classNames(\"_wa\", \"_rounded\", \"_iconed\", {\n                _blue: !isAllTagWordsSelected()\n              }),\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                icon: \"hashtag-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Transition, {\n              in: hashtagFilterShown,\n              mountOnEnter: true,\n              unmountOnExit: true,\n              timeout: 210,\n              children: state => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classNames(\"filter-wrapper\", `transition-fade-${state}`),\n                children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                  contents: \"All\",\n                  value: isAllTagWordsSelected(),\n                  onChange: value => switchTagWord(\"All\", value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 21\n                }, this), reportData.interface.tag_words.map((option, i) => /*#__PURE__*/_jsxDEV(Checkbox, {\n                  contents: option,\n                  value: isTagWordSelected(option),\n                  onChange: value => switchTagWord(option, value)\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 23\n                }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"_bordered _blue _wa\",\n                  children: \"Filter\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true),\n        childrenBeforeDateType: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Select, {\n              zeroed: true,\n              options: [{\n                span: 'Calls',\n                value: 'calls'\n              }, {\n                span: 'Sources',\n                value: 'calls.sources'\n              }, {\n                span: 'Area',\n                value: 'calls.areas'\n              }, {\n                span: 'Numbers',\n                value: 'calls.numbers'\n              }],\n              selectedOption: \"calls.numbers\",\n              onChange: value => $router.router.navigate(value, {}, {\n                reload: true\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this)\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReportTableControls, {\n        zIndex: 5,\n        onMaxRowsChange: () => {\n          $setUpdater(Math.random());\n        },\n        amount: {\n          total: reportData.interface.rows_all,\n          start: reportData.interface.rows_start,\n          end: reportData.interface.rows_end\n        },\n        page: localInterface.page,\n        maxPages: reportData.interface.max_pages,\n        onPagesStart: () => setLocalInterface({ ...localInterface,\n          page: 1\n        }),\n        onPrevPage: () => setLocalInterface({ ...localInterface,\n          page: localInterface.page - 1\n        }),\n        onNextPage: () => setLocalInterface({ ...localInterface,\n          page: localInterface.page + 1\n        }),\n        onPagesEnd: () => setLocalInterface({ ...localInterface,\n          page: reportData.interface.max_pages\n        }),\n        sort: localInterface.sort,\n        sortFields: localInterface.sortFields,\n        onSortFieldChange: value => setLocalInterface({ ...localInterface,\n          sort: { ...localInterface.sort,\n            field: value\n          }\n        }),\n        onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n          sort: { ...localInterface.sort,\n            direction: value\n          }\n        }),\n        onSortFire: () => 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contents\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: classNames('table', '__show-on-wide', {\n            __respectAsidePanel: props.store.navActive.is\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 28\n              }, this),\n              sortDirection: localInterface.sort.field === 'phone' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'phone',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Friendly Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 28\n              }, this),\n              sortDirection: localInterface.sort.field === 'friendly_name' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'friendly_name',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Source\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 28\n              }, this),\n              allFiltersSelected: isAllFiltersSelected(\"source\"),\n              onAllFiltersChange: value => switchFilter(\"source\", \"All\", value),\n              filterWords: reportData.interface.filter_words.source.map(filterWord => ({\n                word: filterWord,\n                selected: isFilterSelected(\"source\", filterWord)\n              })),\n              onFilterChange: value => switchFilter(\"source\", value.word, value.selected),\n              sortDirection: localInterface.sort.field === 'source' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'source',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Area\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 28\n              }, this),\n              allFiltersSelected: isAllFiltersSelected(\"area\"),\n              onAllFiltersChange: value => switchFilter(\"area\", \"All\", value),\n              filterWords: reportData.interface.filter_words.area.map(filterWord => ({\n                word: filterWord,\n                selected: isFilterSelected(\"area\", filterWord)\n              })),\n              onFilterChange: value => switchFilter(\"area\", value.word, value.selected),\n              sortDirection: localInterface.sort.field === 'area' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'area',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total Calls\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 28\n              }, this),\n              sortDirection: localInterface.sort.field === 'total_calls' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'total_calls',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Completed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 28\n              }, this),\n              sortDirection: localInterface.sort.field === 'completed_calls' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'completed_calls',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Unanswered\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 28\n              }, this),\n              sortDirection: localInterface.sort.field === 'unanswered_calls' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'unanswered_calls',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Avg Duration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 28\n              }, this),\n              sortDirection: localInterface.sort.field === 'avg_duration' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'avg_duration',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ReportTableField, {\n              contents: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total appointments\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 28\n              }, this),\n              sortDirection: localInterface.sort.field === 'total_appointments' ? localInterface.sort.direction : undefined,\n              onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n                sort: {\n                  field: 'total_appointments',\n                  direction: value\n                }\n              }),\n              onFilterFire: () => $setUpdater(Math.random())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this), reportData.numbers.map((callsNumber, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: callsNumber.number\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: callsNumber.friendly_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: callsNumber.source\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: callsNumber.area\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: callsNumber.total_calls\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: callsNumber.completed_calls\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: callsNumber.unanswered_calls\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: callsNumber.avg_duration\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: callsNumber.total_appointments\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: classNames('table', '__hide-on-wide', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 13\n          }, this), reportData.numbers.map((callNumber, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: callNumber.number\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: callNumber.friendly_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: callNumber.area\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: callNumber.source\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Completed: \", callNumber.completed_calls]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Unanswered: \", callNumber.unanswered_calls]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Total appointments: \", callNumber.total_appointments]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classNames('mobile-table-items', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          }),\n          children: reportData.numbers.map((callsNumber, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"__top\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"__left\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: callsNumber.number\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 645,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 644,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: callsNumber.friendly_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 647,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"__right\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Total calls: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"fw500\",\n                    children: callsNumber.total_calls\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 654,\n                    columnNumber: 36\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Completed: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"green fw500\",\n                    children: callsNumber.completed_calls\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 657,\n                    columnNumber: 34\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 656,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"Unanswered: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"red fw500\",\n                    children: callsNumber.unanswered_calls\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 660,\n                    columnNumber: 35\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 659,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"__bottom\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"__left\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"gray\",\n                    children: \"Avg Duration:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 669,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\" \", callsNumber.avg_duration]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 670,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 668,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"gray\",\n                    children: \"Total appointments:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 673,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\" \", callsNumber.total_appointments]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 674,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 667,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"__right\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"gray\",\n                    children: \"Area:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 680,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\" \", callsNumber.area]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 681,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 679,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"gray\",\n                    children: \"Source:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 684,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\" \", callsNumber.source]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 685,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 665,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReportTableControls, {\n        isUnder: true,\n        onMaxRowsChange: () => $setUpdater(Math.random()),\n        amount: {\n          total: reportData.interface.rows_all,\n          start: reportData.interface.rows_start,\n          end: reportData.interface.rows_end\n        },\n        page: localInterface.page,\n        maxPages: reportData.interface.max_pages,\n        onPagesStart: () => setLocalInterface({ ...localInterface,\n          page: 1\n        }),\n        onPrevPage: () => setLocalInterface({ ...localInterface,\n          page: localInterface.page - 1\n        }),\n        onNextPage: () => setLocalInterface({ ...localInterface,\n          page: localInterface.page + 1\n        }),\n        onPagesEnd: () => setLocalInterface({ ...localInterface,\n          page: reportData.interface.max_pages\n        }),\n        sort: localInterface.sort,\n        sortFields: localInterface.sortFields,\n        onSortFieldChange: value => setLocalInterface({ ...localInterface,\n          sort: { ...localInterface.sort,\n            field: value\n          }\n        }),\n        onSortDirectionChange: value => setLocalInterface({ ...localInterface,\n          sort: { ...localInterface.sort,\n            direction: value\n          }\n        }),\n        onSortFire: () => 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this) : null\n  }, void 0, false);\n}, \"NYbmpj5qpdZjJ2c9TVSXzMgmCug=\", false, function () {\n  return [useRoute];\n}));\nexport default CallsNumbersPage_List;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/Calls/NumbersList.tsx"],"names":["classNames","moment","useEffect","useState","connect","useRoute","Transition","Checkbox","Icon","ReportFilters","ReportTableControls","ReportTableField","Select","nError","getDateRangeByPreset","mapDispatchToProps","mapStateToProps","getActiveAccount","httpClient","CallsNumbersPage_List","props","$router","activeAccount","store","$updater","$setUpdater","Math","random","topFilterShown","setTopFilterShown","hashtagFilterShown","setHashtagFilterShown","reportIsDeprecated","setReportIsDeprecated","reportData","setReportData","localInterface","setLocalInterface","search","dateRangeCalendarShown","dateRangePreset","min_date","Date","max_date","page","max_rows","filter_words","source","area","tag_words","searchFilters","selectedSearchFilters","type","direction","sort","field","sortFields","span","value","interface","loadCalls","defaults","headers","accessToken","activeFilters","Object","keys","forEach","key","length","data","calls","post","account_id","limit_rows","JSON","stringify","reportsMaxRows","date_start","toISOString","date_end","filter_tag","main_filter","sort_field","sort_type","filter_field","startOf","toDate","endOf","setTimeout","error","isFilterSelected","includes","isAllFiltersSelected","switchFilter","toggle","_arr","i","findIndex","filter","splice","every","option","concat","push","isTagWordSelected","isAllTagWordsSelected","switchTagWord","isSearchFilterSelected","isAllSearchFiltersSelected","switchSearchFilter","$arr","$arrType","$object","map","v","index","dashboard","callers","missed_calls","active_calls","e","currentTarget","contains","relatedTarget","_blue","state","router","navigate","reload","total","rows_all","start","rows_start","end","rows_end","max_pages","__respectAsidePanel","navActive","is","undefined","filterWord","word","selected","numbers","callsNumber","number","friendly_name","total_calls","completed_calls","unanswered_calls","avg_duration","total_appointments","callNumber"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport classNames from \"classnames\"\nimport moment from \"moment\"\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useRoute } from \"react-router5\"\nimport { Transition } from \"react-transition-group\"\nimport Checkbox from \"../../components/Checkbox\"\nimport Icon from \"../../components/Icon\"\nimport ReportFilters from \"../../components/reports/Filters\"\nimport ReportTableControls from \"../../components/reports/TableControls\"\nimport ReportTableField from \"../../components/reports/TableField\"\nimport Select from \"../../components/Select\"\nimport { nError } from \"../../funcs/base\"\nimport { getDateRangeByPreset } from \"../../funcs/reports\"\nimport { CallNumber } from \"../../models/Calls\"\nimport { DateRangePreset } from \"../../models/Misc\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../store\";\n\nimport \"../../styles/pages/common/report-list.sass\"\nimport {getActiveAccount, httpClient} from \"../../funcs\";\nimport Account from \"../../models/Account\";\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\ntype FilterWord = 'source' | 'area'\n\ninterface CallsReport {\n\n  interface: {\n\n    filter_words: {\n\n      source: string[],\n      area: string[]\n    },\n\n    tag_words: string[],\n\n    max_pages: number,\n\n    rows_start: number\n    rows_end: number,\n    rows_all: number,\n\n    min_date: Date,\n    max_date: Date\n  },\n\n  dashboard: {\n\n    calls: string,\n    callers: string,\n    missed_calls: string,\n    active_calls: string\n  },\n\n  numbers: CallNumber[]\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst CallsNumbersPage_List = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const $router = useRoute()\n\n  const activeAccount = getActiveAccount(props.store) as Account\n  const [$updater, $setUpdater] = useState<any>(Math.random())\n\n  const [topFilterShown, setTopFilterShown] = useState(false)\n  const [hashtagFilterShown, setHashtagFilterShown] = useState(false)\n\n  const [reportIsDeprecated, setReportIsDeprecated] = useState(false)\n\n  const [reportData, setReportData] = useState<CallsReport | null>(null)\n  const [localInterface, setLocalInterface] = useState({\n\n    search: '',\n\n    dateRangeCalendarShown: false,\n    dateRangePreset: \"custom\" as DateRangePreset,\n\n    min_date: new Date,\n    max_date: new Date,\n\n    page: 1,\n    max_rows: 100 as 50 | 100 | 250 | 500,\n\n    filter_words: {\n\n      source: [] as string[],\n      area: [] as string[],\n    },\n\n    tag_words: [] as string[],\n\n    searchFilters: [ [\"source\", \"system\"], [\"inboud\", \"outbound\"]],\n    selectedSearchFilters: {type:['source'] as string[], direction:[] as string[]},\n\n    sort: {\n      field: 'number',\n      direction: 'up' as 'up' | 'down'\n    },\n    sortFields: [{\n      span: 'Number',\n      value: 'number'\n    },{\n      span: 'Friendly Name',\n      value: 'friendly_name'\n    },{\n      span: 'Source',\n      value: 'source'\n    },{\n      span: 'Area',\n      value: 'area'\n    },{\n      span: 'Total calls',\n      value: 'total_calls'\n    },{\n      span: 'Completed',\n      value: 'completed_calls'\n    },{\n      span: 'Unanswered',\n      value: 'unanswered_calls'\n    },{\n      span: 'Avg Duration',\n      value: 'avg_duration'\n    },{\n      span: 'Total appointments',\n      value: 'total_appointments'\n    }]\n\n  })\n\n  // Watch date range preset\n  useEffect(() => {\n\n    if(!reportData) return\n\n    setLocalInterface({\n      ...localInterface,\n      ...(getDateRangeByPreset(localInterface.dateRangePreset, reportData?.interface.min_date, reportData?.interface.max_date))\n    })\n\n  }, [localInterface.dateRangePreset])\n\n  // Load calls function\n  async function loadCalls() {\n    httpClient.defaults.headers['Authorization'] = `Bearer ${props.store.accessToken}`\n\n    let activeFilters: any = {...localInterface.filter_words}\n    Object.keys(localInterface.filter_words).forEach((key: any) => !activeFilters[key].length && delete activeFilters[key])\n    try {\n      const { data: calls } = (await httpClient.post('/calls/report/numbers',{\n        account_id: activeAccount.account_id,\n        limit_rows: JSON.stringify(props.store.reportsMaxRows),\n        page: JSON.stringify(localInterface.page),\n        date_start: localInterface.min_date.toISOString(),\n        date_end: localInterface.max_date.toISOString(),\n        filter_tag: JSON.stringify(localInterface.tag_words),\n        main_filter: JSON.stringify(localInterface.selectedSearchFilters),\n        sort_field: localInterface.sort.field,\n        sort_type: localInterface.sort.direction === 'up' ? 'asc' : 'desc',\n        filter_field: JSON.stringify(activeFilters),\n        ...(localInterface.search ? {search: localInterface.search} : {})\n      })) as {data: CallsReport}\n      setReportData({\n        ...calls,\n\n        interface: {\n\n          ...calls.interface,\n          min_date: moment(calls.interface.min_date).startOf('day').toDate(),\n          max_date: moment(calls.interface.max_date).endOf('day').toDate(),\n        }\n      })\n\n      setTimeout(() => {\n        setReportIsDeprecated(false)\n      }, 100)\n    }\n    catch (error) {\n      nError(error)\n    }\n  }\n\n  // Watch for deprecated\n  useEffect(() => {\n    if(!reportData) return\n    setReportIsDeprecated(true)\n  }, [\n    localInterface.min_date,\n    localInterface.max_date\n  ])\n\n  // Load calls on page mount\n  useEffect(() => { loadCalls() }, [\n    $updater,\n    localInterface.page\n  ])\n\n  // Is filter selected function\n  function isFilterSelected(field: FilterWord, value: string) {\n    return localInterface.filter_words[field].includes(value)\n  }\n\n  // Is all filters selected function\n  function isAllFiltersSelected(field: FilterWord) {\n    return localInterface.filter_words[field].length === 0\n  }\n\n  // Filter switch function\n  function switchFilter(field: FilterWord, value: string, toggle: boolean) {\n\n    let _arr = [...localInterface.filter_words[field]]\n\n    if (toggle && value === \"All\") { _arr = [] }\n    \n    else if (!toggle) {\n\n      while (true) {\n        let i = _arr.findIndex((filter) => filter === value)\n        if(i === -1) break\n        _arr.splice(i, 1)\n      }\n    }\n      \n    else {\n\n      if (reportData?.interface.filter_words[field].every((option) => _arr.concat([value]).includes(option)))\n        _arr = []\n\n      else if(_arr.findIndex((filter) => filter === value) === -1)\n        _arr.push(value)\n    }\n\n    setLocalInterface({...localInterface, filter_words: {...localInterface.filter_words, [field]: _arr}})\n  }\n\n  // Is tag_word selected function\n  function isTagWordSelected(value: string) {\n    return localInterface.tag_words.includes(value)\n  }\n  \n  // Is all tag words selected function\n  function isAllTagWordsSelected() {\n    return localInterface.tag_words.length === 0\n  }\n\n  // Toggle tagword function\n  function switchTagWord(value: string, toggle: boolean) {\n\n    let _arr = [...localInterface.tag_words]\n\n    if (toggle && value === \"All\") {\n      _arr = []\n    }\n    else if (!toggle) {\n\n      while (true) {\n        let i = _arr.findIndex((filter) => filter === value)\n        if(i === -1) break\n        _arr.splice(i, 1)\n      }\n    }\n    else {\n\n      if (reportData?.interface.tag_words.every((option) => _arr.concat([value]).includes(option))) {\n        _arr = []\n      }\n\n      else if(_arr.findIndex((filter) => filter === value) === -1)\n        _arr.push(value)\n    }\n\n    setLocalInterface({...localInterface, tag_words: _arr})\n  }\n\n  // Is search field selected function\n  function isSearchFilterSelected(i:number, value: string, field: string) {\n\n    if (field == 'type'){\n      return localInterface.selectedSearchFilters.type.includes(value);\n    }\n    if (field == 'direction'){\n      return localInterface.selectedSearchFilters.direction.includes(value);\n    }\n  }\n\n  // Is all search fields selected function\n  function isAllSearchFiltersSelected(i: number, field: string) {\n    if (field == 'type'){\n      return localInterface.selectedSearchFilters.type.length === 0\n    }else if (field == 'direction'){\n      return localInterface.selectedSearchFilters.direction.length === 0\n    }\n\n  }\n\n  // Toggle search filter function\n  function switchSearchFilter(i: number, value: string, toggle: boolean, field: string, $arr: string[] ) {\n    let $arrType = $arr;\n    let $object = localInterface.selectedSearchFilters;\n    if (toggle && value === \"All\") {\n      $arrType = [];\n    }\n    else if (toggle == false) {\n      for (let i = 0; i < $arrType.length; i++){\n        $arrType.map((v, index) => {\n          if (v == value ){\n            $arrType.splice(index, 1)\n          }\n        })\n      }\n    } else {\n      $arrType.push(value);\n    }\n\n    if (field == 'type'){\n      if ($arrType.length == localInterface.searchFilters[0].length) {\n        $arrType = [];\n      }\n      $object.type = $arrType;\n    }\n    if (field == 'direction'){\n      if ($arrType.length == localInterface.searchFilters[1].length) {\n        $arrType = [];\n      }\n      $object.direction = $arrType;\n    }\n    setLocalInterface({...localInterface, selectedSearchFilters: $object})\n  }\n\n  // Render function\n  return (<>\n    {reportData ? (\n      <div className=\"CallsNumbersPage_List\" >\n      \n        { /* Reports grid */}\n        <div className=\"reports-grid\">\n        \n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.calls}</div>\n            <div className=\"legend\">Calls</div>\n          </div>\n\n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.callers}</div>\n            <div className=\"legend\">Callers</div>\n          </div>\n\n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.missed_calls}</div>\n            <div className=\"legend\">Missed Calls</div>\n          </div>\n\n          <div className=\"cell\">\n\n            <div className=\"amount\">{reportData.dashboard.active_calls}</div>\n            <div className=\"legend\">Active Calls</div>\n          </div>\n        </div>\n\n        { /* Page header */}\n        <div className=\"page-header\">\n          <h1>Numbers</h1>\n        </div>\n\n        { /* List filters */}\n        <ReportFilters\n          onSearchInputChange={(value) => setLocalInterface({...localInterface, search: value})}\n\n          dateRangePreset={localInterface.dateRangePreset}\n          onDateRangePresetChange={(value) => setLocalInterface({ ...localInterface, dateRangePreset: value })}\n\n          minDate={localInterface.min_date}\n          onMinDateChange={(value) => setLocalInterface({...localInterface, min_date: value})}\n\n          maxDate={localInterface.max_date}\n          onMaxDateChange={(value) => setLocalInterface({...localInterface, max_date: value})}\n\n          updateButtonActive={reportIsDeprecated}\n          onUpdate={() => {\n            $setUpdater(Math.random())\n            setReportIsDeprecated(false)\n          }}\n      \n          childrenAfterSearch={(<>\n            <div tabIndex={-1} className=\"filter-button\" onFocus={() => setTopFilterShown(true)} onBlur={(e) => !e.currentTarget.contains(e.relatedTarget as any) && setTopFilterShown(false)}>\n              <button className={classNames(\"_wa\", \"_rounded\", \"_iconed\", {\n                _blue: !isAllSearchFiltersSelected(0, 'type') || !isAllSearchFiltersSelected(1, 'direction')\n              })}>\n                <Icon icon=\"filter-8\" />\n              </button>\n\n              <Transition in={topFilterShown} mountOnEnter={true} unmountOnExit={true} timeout={210}>\n                {(state) => (\n                    <div className={ classNames(\"filter-wrapper\", `transition-fade-${state}`) }>\n                      <Checkbox contents=\"All\" value={isAllSearchFiltersSelected(0, 'type')} onChange={(value) => switchSearchFilter(0, \"All\", value, 'type', localInterface.selectedSearchFilters.type )} />\n                      {localInterface.searchFilters[0].map((option, index) => (\n                          <Checkbox contents={option} value={isSearchFilterSelected(0, option, 'type')} onChange={(value) => switchSearchFilter(1, option, value, 'type', localInterface.selectedSearchFilters.type)} />\n                      ))}\n                      <hr />\n                      <Checkbox contents=\"All\" value={isAllSearchFiltersSelected(1, 'direction')} onChange={(value) => switchSearchFilter(1, \"All\", value, 'direction', localInterface.selectedSearchFilters.direction )} />\n                      {localInterface.searchFilters[1].map((option, index) => (\n                          <Checkbox contents={option} value={isSearchFilterSelected(1, option, 'direction')} onChange={(value) => switchSearchFilter(1, option, value, 'direction', localInterface.selectedSearchFilters.direction )} />\n                      ))}\n                      <button onClick={()=>{\n                        $setUpdater(Math.random());\n                      }} className=\"_bordered _blue _wa\">\n                        Filter\n                      </button>\n                    </div>\n                )}\n              </Transition>\n            </div>\n            \n            <div tabIndex={-1} className=\"filter-button\" onFocus={() => setHashtagFilterShown(true)} onBlur={(e) => !e.currentTarget.contains(e.relatedTarget as any) && setHashtagFilterShown(false)}>\n              <button className={classNames(\"_wa\", \"_rounded\", \"_iconed\", {\n                _blue: !isAllTagWordsSelected()\n              })}>\n                <Icon icon=\"hashtag-1\" />\n              </button>\n\n              <Transition in={hashtagFilterShown} mountOnEnter={true} unmountOnExit={true} timeout={210}>\n                {(state) => (\n                  <div className={ classNames(\"filter-wrapper\", `transition-fade-${state}`) }>\n                    <Checkbox contents=\"All\" value={isAllTagWordsSelected()} onChange={(value) => switchTagWord(\"All\", value)} />\n                    {reportData.interface.tag_words.map((option, i) => (\n                      <Checkbox contents={option} key={i} value={isTagWordSelected(option)} onChange={(value) => switchTagWord(option, value)} />\n                    ))}\n                    <button className=\"_bordered _blue _wa\">\n                      Filter\n                    </button>\n                  </div>\n                )}\n              </Transition>\n            </div>\n          </>)}\n          childrenBeforeDateType={(<>\n            <div>\n              <Select zeroed={true} options={[{\n                span: 'Calls',\n                value: 'calls'\n              }, {\n                span: 'Sources',\n                value: 'calls.sources'\n              },{\n                span: 'Area',\n                value: 'calls.areas'\n              },{\n                span: 'Numbers',\n                value: 'calls.numbers'\n              }]} selectedOption=\"calls.numbers\" onChange={(value) => $router.router.navigate(value as string, {}, {reload: true})} />\n            </div>\n          </>)}\n        />\n\n        {/* Table controls */}\n        <ReportTableControls\n          zIndex={5}\n\n          onMaxRowsChange={() => {\n            $setUpdater(Math.random())\n          }}\n\n          amount={{\n            total: reportData.interface.rows_all,\n            start: reportData.interface.rows_start,\n            end: reportData.interface.rows_end\n          }}\n\n          page={localInterface.page}\n          maxPages={reportData.interface.max_pages}\n          onPagesStart={() => setLocalInterface({...localInterface, page: 1})}\n          onPrevPage={() => setLocalInterface({...localInterface, page: localInterface.page-1})}\n          onNextPage={() => setLocalInterface({...localInterface, page: localInterface.page+1})}\n          onPagesEnd={() => setLocalInterface({...localInterface, page: reportData.interface.max_pages})}\n          \n          sort={localInterface.sort}\n          sortFields={localInterface.sortFields}\n          onSortFieldChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, field: value}})}\n          onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, direction: value}})}\n          onSortFire={() => 0}\n        />\n\n        <div className=\"contents\">\n\n          {/* Wide screen table */}\n          <table className={classNames('table', '__show-on-wide', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <ReportTableField\n                contents={(<span>Number</span>)}\n\n                sortDirection={localInterface.sort.field === 'phone' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'phone', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Friendly Name</span>)}\n\n                sortDirection={localInterface.sort.field === 'friendly_name' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'friendly_name', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Source</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"source\")}\n                onAllFiltersChange={(value) => switchFilter(\"source\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.source.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"source\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"source\", value.word, value.selected)}\n\n                sortDirection={localInterface.sort.field === 'source' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'source', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Area</span>)}\n\n                allFiltersSelected={isAllFiltersSelected(\"area\")}\n                onAllFiltersChange={(value) => switchFilter(\"area\", \"All\", value)}\n\n                filterWords={reportData.interface.filter_words.area.map((filterWord) => ({\n                  word: filterWord,\n                  selected: isFilterSelected(\"area\", filterWord)\n                }))}\n                onFilterChange={(value) => switchFilter(\"area\", value.word, value.selected)}\n\n                sortDirection={localInterface.sort.field === 'area' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'area', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Total Calls</span>)}\n\n                sortDirection={localInterface.sort.field === 'total_calls' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'total_calls', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Completed</span>)}\n\n                sortDirection={localInterface.sort.field === 'completed_calls' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'completed_calls', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Unanswered</span>)}\n\n                sortDirection={localInterface.sort.field === 'unanswered_calls' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'unanswered_calls', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Avg Duration</span>)}\n\n                sortDirection={localInterface.sort.field === 'avg_duration' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'avg_duration', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n              <ReportTableField\n                contents={(<span>Total appointments</span>)}\n              \n                sortDirection={localInterface.sort.field === 'total_appointments' ? localInterface.sort.direction : undefined}\n                onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {field: 'total_appointments', direction: value}})}\n\n                onFilterFire={() => $setUpdater(Math.random())}\n              />\n            </tr>\n            {reportData.numbers.map((callsNumber, i) => (\n              <tr key={i}>\n                <td>{callsNumber.number}</td>\n                <td>{callsNumber.friendly_name}</td>\n                <td>{callsNumber.source}</td>\n                <td>{callsNumber.area}</td>\n                <td>{callsNumber.total_calls}</td>\n                <td>{callsNumber.completed_calls}</td>\n                <td>{callsNumber.unanswered_calls}</td>\n                <td>{callsNumber.avg_duration}</td>\n                <td>{callsNumber.total_appointments}</td>\n              </tr>\n            ))}\n          </table>\n\n          {/* Medium screen table */}\n          <table className={classNames('table', '__hide-on-wide', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr></tr>\n            {reportData.numbers.map((callNumber, i) => (\n              <tr key={i}>\n                <td>\n                  <div>{callNumber.number}</div>\n                  <div>{callNumber.friendly_name}</div>\n                </td>\n                <td>\n                  <div>{callNumber.area}</div>\n                  <div>{callNumber.source}</div>\n                </td>\n                <td>\n                  <div>Completed: {callNumber.completed_calls}</div>\n                  <div>Unanswered: {callNumber.unanswered_calls}</div>\n                </td>\n                <td>\n                  <div>\n                    Total appointments: {callNumber.total_appointments}\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          {/* Mobile table items */}\n          <div className={classNames('mobile-table-items', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            {reportData.numbers.map((callsNumber, i: number) => (\n              <div className=\"item\" key={i}>\n\n                <div className=\"__top\">\n\n                  <div className=\"__left\">\n                    <div>\n                      <strong>{callsNumber.number}</strong>\n                    </div>\n                    <div>\n                      {callsNumber.friendly_name}\n                    </div>\n                  </div>\n\n                  <div className=\"__right\">\n                    <div>\n                      Total calls: <span className=\"fw500\">{callsNumber.total_calls}</span>\n                    </div>\n                    <div>\n                      Completed: <span className=\"green fw500\">{callsNumber.completed_calls}</span>\n                    </div>\n                    <div>\n                      Unanswered: <span className=\"red fw500\">{callsNumber.unanswered_calls}</span>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"__bottom\">\n\n                  <div className=\"__left\">\n                    <div>\n                      <span className=\"gray\">Avg Duration:</span>\n                      <span> {callsNumber.avg_duration}</span>\n                    </div>\n                    <div>\n                      <span className=\"gray\">Total appointments:</span>\n                      <span> {callsNumber.total_appointments}</span>\n                    </div>\n                  </div>\n\n                  <div className=\"__right\">\n                    <div>\n                      <span className=\"gray\">Area:</span>\n                      <span> {callsNumber.area}</span>\n                    </div>\n                    <div>\n                      <span className=\"gray\">Source:</span>\n                      <span> {callsNumber.source}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Table controls */}\n        <ReportTableControls\n          isUnder={true}\n\n          onMaxRowsChange={() => $setUpdater(Math.random())}\n\n          amount={{\n            total: reportData.interface.rows_all,\n            start: reportData.interface.rows_start,\n            end: reportData.interface.rows_end\n          }}\n\n          page={localInterface.page}\n          maxPages={reportData.interface.max_pages}\n          onPagesStart={() => setLocalInterface({...localInterface, page: 1})}\n          onPrevPage={() => setLocalInterface({...localInterface, page: localInterface.page-1})}\n          onNextPage={() => setLocalInterface({...localInterface, page: localInterface.page+1})}\n          onPagesEnd={() => setLocalInterface({...localInterface, page: reportData.interface.max_pages})}\n          \n          sort={localInterface.sort}\n          sortFields={localInterface.sortFields}\n          onSortFieldChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, field: value}})}\n          onSortDirectionChange={(value) => setLocalInterface({...localInterface, sort: {...localInterface.sort, direction: value}})}\n          onSortFire={() => 0}\n        />\n      </div>\n    ) : null}\n  </>)\n})\nexport default CallsNumbersPage_List\n"]},"metadata":{},"sourceType":"module"}