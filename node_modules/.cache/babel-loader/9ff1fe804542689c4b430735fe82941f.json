{"ast":null,"code":"var _jsxFileName = \"/Users/nicole/rrrr/crm/src/pages/CallCenter/CallFlows/New.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport Icon from \"../../../components/Icon\";\nimport { nError } from \"../../../funcs\";\nimport { mapDispatchToProps, mapStateToProps } from \"../../../store\";\nimport \"../../../styles/pages/common/entity-edit.sass\";\nimport Select from \"../../../components/Select\";\nimport { BaseLink, useRoute } from \"react-router5\";\nimport classNames from \"classnames\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst emptyCallGroup = {\n  call_group_id: '',\n  name: '',\n  dispatchers: '',\n  call_flows: ''\n};\nconst CallCenter_CallFlowsPage_New = connect(mapStateToProps, mapDispatchToProps)(_s(function (props) {\n  _s();\n\n  const [readyToSave, setReadyToSave] = useState(false);\n  const $router = useRoute();\n  const [callGroupsData, setCallGroupsData] = useState([]);\n  const [callGroups, setCallGroups] = useState(null);\n  const [availableCallGroups, setAvailableCallGroups] = useState([]);\n  const [selectedCallGroup, setSelectedCallGroup] = useState(emptyCallGroup);\n  const [newCallFlowData, setNewCallFlowData] = useState({\n    name: '',\n    phrase_start: '',\n    phrase_office_closed: '',\n    phrase_office_temporary_closed: '',\n    phrase_phone_not_available: '',\n    phrase_dispatcher_not_available: ''\n  }); // Load info function\n\n  async function loadInfo() {\n    try {\n      const {\n        data: callFlowsData\n      } = await axios.get('/json/call_center_call_flows.json');\n      setCallGroups(callFlowsData.edit.call_groups);\n      setAvailableCallGroups([emptyCallGroup].concat(callFlowsData.edit.call_groups));\n      setSelectedCallGroup(emptyCallGroup);\n      setTimeout(() => setReadyToSave(false), 100);\n    } catch (error) {\n      nError(error);\n    }\n  } // Load callFlow data\n\n\n  useEffect(() => {\n    loadInfo();\n  }, []); // Add callGroup function\n\n  function addCallGroup() {\n    if (!callGroupsData || !newCallFlowData) return;\n    const newCallGroupsList = [...callGroupsData, selectedCallGroup];\n    setCallGroupsData(newCallGroupsList);\n    let _availableCallGroups = [...availableCallGroups];\n    _availableCallGroups = _availableCallGroups.filter($callGroup => {\n      return newCallGroupsList.findIndex(callGroup => {\n        return callGroup.name === $callGroup.name;\n      }) === -1;\n    });\n    setAvailableCallGroups([..._availableCallGroups]);\n    setSelectedCallGroup(emptyCallGroup);\n    setReadyToSave(true);\n  } // Remove callGroup function\n\n\n  function removeCallGroup(i) {\n    let _callFlowCallGroups = [...callGroupsData];\n    let _callGroup = _callFlowCallGroups[i];\n\n    _callFlowCallGroups.splice(i, 1);\n\n    setCallGroupsData(_callFlowCallGroups);\n    setAvailableCallGroups([...availableCallGroups, _callGroup]);\n    setReadyToSave(true);\n  }\n\n  useEffect(() => setReadyToSave(true), [newCallFlowData]); // Render function\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: true ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"CallCenter_CallFlowsPage_New entity-edit\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top-nav\",\n        children: [/*#__PURE__*/_jsxDEV(BaseLink, {\n          router: $router.router,\n          routeName: \"call_center.phoneNumbers\",\n          className: classNames({\n            _active: $router.route.name === \"call_center.phoneNumbers\"\n          }),\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"phone-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Phone Numbers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BaseLink, {\n          router: $router.router,\n          routeName: \"call_center.dispatchers\",\n          className: classNames({\n            _active: $router.route.name === \"call_center.dispatchers\"\n          }),\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"user-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Dispatchers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BaseLink, {\n          router: $router.router,\n          routeName: \"call_center.groups\",\n          className: classNames({\n            _active: $router.route.name === \"call_center.groups\"\n          }),\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"user-29\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Groups\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BaseLink, {\n          router: $router.router,\n          routeName: \"call_center.callFlows\",\n          className: classNames({\n            _active: $router.route.name === \"call_center.callFlows\"\n          }),\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"share-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Call Flows\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BaseLink, {\n          router: $router.router,\n          routeName: \"call_center.settings\",\n          className: classNames({\n            _active: $router.route.name === \"call_center.settings\"\n          }),\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            icon: \"gear-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper flex-container sb\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"New Call Flow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fieldset\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend\",\n          children: \"Main\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fields\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__left\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: _ref => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref;\n                  return setNewCallFlowData({ ...newCallFlowData,\n                    name: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fieldset\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-container sb wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend\",\n            children: \"Call Groups\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-action-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Call Group:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(Select, {\n                options: availableCallGroups.map(callGroup => ({\n                  span: callGroup.name,\n                  value: callGroup.name\n                })),\n                selectedOption: selectedCallGroup.name,\n                onChange: value => setSelectedCallGroup(availableCallGroups.find(_callGroup => _callGroup.name === value))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: !selectedCallGroup.name,\n                className: \"_green\",\n                onClick: () => addCallGroup(),\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: classNames('table', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Dispatchers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Call Flow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), callGroupsData.map((callGroup, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: callGroup.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: callGroup.dispatchers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: callGroup.call_flows\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"_zeroed _iconed _red\",\n                onClick: e => {\n                  e.stopPropagation();\n                  removeCallGroup(i);\n                },\n                children: /*#__PURE__*/_jsxDEV(Icon, {\n                  icon: \"x-mark-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classNames('mobile-table', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          }),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mobile-table-items\",\n            children: callGroupsData.map((callGroup, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"__top\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"__left\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: callGroup.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 26\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: callGroup.dispatchers\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"__right\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"__bottom\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"__left\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"__right small\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: callGroup.call_flows\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 248,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fieldset\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend\",\n          children: \"Call Phrases\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fields\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field _ait\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Start Phrase:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                defaultValue: newCallFlowData.phrase_start,\n                onChange: _ref2 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref2;\n                  return setNewCallFlowData({ ...newCallFlowData,\n                    phrase_start: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field _ait\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Office Closed:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                defaultValue: newCallFlowData.phrase_office_closed,\n                onChange: _ref3 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref3;\n                  return setNewCallFlowData({ ...newCallFlowData,\n                    phrase_office_closed: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field _ait\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Office Temporary Closed:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                defaultValue: newCallFlowData.phrase_office_temporary_closed,\n                onChange: _ref4 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref4;\n                  return setNewCallFlowData({ ...newCallFlowData,\n                    phrase_office_temporary_closed: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field _ait\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Phone Number Not Available:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                defaultValue: newCallFlowData.phrase_phone_not_available,\n                onChange: _ref5 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref5;\n                  return setNewCallFlowData({ ...newCallFlowData,\n                    phrase_phone_not_available: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field _ait\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Dispatchers Not Available:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                defaultValue: newCallFlowData.phrase_dispatcher_not_available,\n                onChange: _ref6 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref6;\n                  return setNewCallFlowData({ ...newCallFlowData,\n                    phrase_dispatcher_not_available: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper flex-container sb editing-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"_bordered _red\",\n            onClick: () => $router.router.navigate('call_center.callFlows', {}, {\n              reload: true\n            }),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: !readyToSave,\n            className: \"_bordered _green\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this) : null\n  }, void 0, false);\n}, \"jca39NVqsipB+AkV6UjEo+8eMpE=\", false, function () {\n  return [useRoute];\n}));\nexport default CallCenter_CallFlowsPage_New;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/CallCenter/CallFlows/New.tsx"],"names":["axios","useEffect","useState","connect","Icon","nError","mapDispatchToProps","mapStateToProps","Select","BaseLink","useRoute","classNames","emptyCallGroup","call_group_id","name","dispatchers","call_flows","CallCenter_CallFlowsPage_New","props","readyToSave","setReadyToSave","$router","callGroupsData","setCallGroupsData","callGroups","setCallGroups","availableCallGroups","setAvailableCallGroups","selectedCallGroup","setSelectedCallGroup","newCallFlowData","setNewCallFlowData","phrase_start","phrase_office_closed","phrase_office_temporary_closed","phrase_phone_not_available","phrase_dispatcher_not_available","loadInfo","data","callFlowsData","get","edit","call_groups","concat","setTimeout","error","addCallGroup","newCallGroupsList","_availableCallGroups","filter","$callGroup","findIndex","callGroup","removeCallGroup","i","_callFlowCallGroups","_callGroup","splice","router","_active","route","target","value","map","span","find","__respectAsidePanel","store","navActive","is","e","stopPropagation","navigate","reload"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport Icon from \"../../../components/Icon\"\nimport { nError } from \"../../../funcs\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../../store\";\n\nimport \"../../../styles/pages/common/entity-edit.sass\"\nimport Select from \"../../../components/Select\"\nimport Checkbox from \"../../../components/Checkbox\"\nimport { BaseLink, useRoute } from \"react-router5\"\nimport { CallCenter_CallFlow, CallCenter_CallGroup } from \"../../../models/CallCenter\"\nimport classNames from \"classnames\"\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\nconst emptyCallGroup: Partial<CallCenter_CallGroup> = {\n  call_group_id: '',\n  name: '',\n  dispatchers: '',\n  call_flows: ''\n}\n\nconst CallCenter_CallFlowsPage_New = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const [readyToSave, setReadyToSave] = useState(false)\n\n  const $router = useRoute()\n\n  const [callGroupsData, setCallGroupsData] = useState<CallCenter_CallGroup[]>([])\n\n  const [callGroups, setCallGroups] = useState<CallCenter_CallGroup[] | null>(null)\n  const [availableCallGroups, setAvailableCallGroups] = useState<Partial<CallCenter_CallGroup>[]>([])\n  const [selectedCallGroup, setSelectedCallGroup] = useState<Partial<CallCenter_CallGroup>>(emptyCallGroup)\n  const [newCallFlowData, setNewCallFlowData] = useState({\n    name: '',\n    phrase_start: '',\n    phrase_office_closed: '',\n    phrase_office_temporary_closed: '',\n    phrase_phone_not_available: '',\n    phrase_dispatcher_not_available: ''\n  })\n  \n  // Load info function\n  async function loadInfo() {\n    try {\n      const { data: callFlowsData } = (await axios.get('/json/call_center_call_flows.json'))\n\n      setCallGroups(callFlowsData.edit.call_groups)\n\n      setAvailableCallGroups([emptyCallGroup].concat(callFlowsData.edit.call_groups))\n\n      setSelectedCallGroup(emptyCallGroup)\n\n      setTimeout(() => setReadyToSave(false), 100)\n    }\n    catch (error) {\n      nError(error)\n    }\n  }\n\n  // Load callFlow data\n  useEffect(() => {\n    loadInfo()\n  }, [])\n\n  // Add callGroup function\n  function addCallGroup() {\n\n    if (!callGroupsData || !newCallFlowData) return\n\n    const newCallGroupsList = [\n      ...callGroupsData,\n      selectedCallGroup\n    ]\n\n    setCallGroupsData(newCallGroupsList as any)\n\n    let _availableCallGroups = [...availableCallGroups]\n\n    _availableCallGroups = _availableCallGroups.filter(($callGroup) => {\n      \n      return newCallGroupsList.findIndex((callGroup) => {\n        return callGroup.name === $callGroup.name\n      }) === -1\n    })\n\n    setAvailableCallGroups([\n      ..._availableCallGroups\n    ])\n\n    setSelectedCallGroup(emptyCallGroup)\n\n    setReadyToSave(true)\n  }\n\n  // Remove callGroup function\n  function removeCallGroup(i: number) {\n\n    let _callFlowCallGroups = [...callGroupsData]\n\n    let _callGroup = _callFlowCallGroups[i]\n    \n    _callFlowCallGroups.splice(i, 1)\n\n    setCallGroupsData(_callFlowCallGroups)\n\n    setAvailableCallGroups([\n      ...availableCallGroups,\n      _callGroup\n    ])\n\n    setReadyToSave(true)\n  }\n\n  useEffect(() => setReadyToSave(true), [\n    newCallFlowData\n  ])\n  \n  // Render function\n  return (<>\n    {true ? (\n      <div className=\"CallCenter_CallFlowsPage_New entity-edit\">\n\n        {/* Top navigation */}\n        <div className=\"top-nav\">\n          <BaseLink router={$router.router} routeName=\"call_center.phoneNumbers\" className={classNames({_active: $router.route.name === \"call_center.phoneNumbers\"})}>\n            <Icon icon=\"phone-1\" />\n            <span>Phone Numbers</span>\n          </BaseLink>\n\n          <BaseLink router={$router.router} routeName=\"call_center.dispatchers\" className={classNames({_active: $router.route.name === \"call_center.dispatchers\"})}>\n            <Icon icon=\"user-1\" />\n            <span>Dispatchers</span>\n          </BaseLink>\n\n          <BaseLink router={$router.router} routeName=\"call_center.groups\" className={classNames({_active: $router.route.name === \"call_center.groups\"})}>\n            <Icon icon=\"user-29\" />\n            <span>Groups</span>\n          </BaseLink>\n\n          <BaseLink router={$router.router} routeName=\"call_center.callFlows\" className={classNames({_active: $router.route.name === \"call_center.callFlows\"})}>\n            <Icon icon=\"share-7\" />\n            <span>Call Flows</span>\n          </BaseLink>\n\n          <BaseLink router={$router.router} routeName=\"call_center.settings\" className={classNames({_active: $router.route.name === \"call_center.settings\"})}>\n            <Icon icon=\"gear-1\" />\n            <span>Settings</span>\n          </BaseLink>\n        </div>\n\n        <div className=\"wrapper flex-container sb\">\n          <h1>New Call Flow</h1>\n        </div>\n        \n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Main</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Name:</span>\n                <input type=\"text\" onChange={({target: {value}}) => setNewCallFlowData({...newCallFlowData, name: value})} />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"flex-container sb wrap\">\n            <div className=\"legend\">Call Groups</div>\n\n            <div className=\"legend-action-wrapper\">\n              <label>Call Group:</label>\n              <div className=\"input-wrapper\">\n                <Select options={availableCallGroups.map((callGroup) => ({\n                  span: callGroup.name as string,\n                  value: callGroup.name as string\n                }))} selectedOption={selectedCallGroup.name as string} onChange={(value) => setSelectedCallGroup(availableCallGroups.find((_callGroup) => _callGroup.name === value) as CallCenter_CallGroup)}/>\n                <button disabled={!selectedCallGroup.name} className=\"_green\" onClick={() => addCallGroup()}>\n                  Add\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <table className={classNames('table', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <th>Name</th>\n              <th>Dispatchers</th>\n              <th>Call Flow</th>\n              <th></th>\n            </tr>\n            {(callGroupsData as CallCenter_CallGroup[]).map((callGroup, i) => (\n              <tr key={i}>\n                <td>{callGroup.name}</td>\n                <td>{callGroup.dispatchers}</td>\n                <td>{callGroup.call_flows}</td>\n                <td>\n                  <button className=\"_zeroed _iconed _red\" onClick={(e) => { e.stopPropagation(); removeCallGroup(i) }}>\n                    <Icon icon=\"x-mark-1\" />\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          <div className={classNames('mobile-table', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            <div className=\"mobile-table-items\">\n\n              {callGroupsData.map((callGroup, i: number) => (\n              <div className=\"item\" key={i}>\n\n                <div className=\"__top\">\n\n                  <div className=\"__left\">\n                    <div><b>{callGroup.name}</b></div>\n                    <div>\n                      {callGroup.dispatchers}\n                    </div>\n                  </div>\n\n                  <div className=\"__right\">\n                    \n                  </div>\n                </div>\n\n                <div className=\"__bottom\">\n\n                  <div className=\"__left\">\n                    \n                  </div>\n\n                  <div className=\"__right small\">\n                    <div>\n                      <b>{callGroup.call_flows}</b>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"legend\">Call Phrases</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field _ait\">\n                <span>Start Phrase:</span>\n                <textarea defaultValue={newCallFlowData.phrase_start} onChange={({target: {value}}) => setNewCallFlowData({...newCallFlowData, phrase_start: value})}></textarea>\n              </div>\n\n              <div className=\"field _ait\">\n                <span>Office Closed:</span>\n                <textarea defaultValue={newCallFlowData.phrase_office_closed} onChange={({target: {value}}) => setNewCallFlowData({...newCallFlowData, phrase_office_closed: value})}></textarea>\n              </div>\n\n              <div className=\"field _ait\">\n                <span>Office Temporary Closed:</span>\n                <textarea defaultValue={newCallFlowData.phrase_office_temporary_closed} onChange={({target: {value}}) => setNewCallFlowData({...newCallFlowData, phrase_office_temporary_closed: value})}></textarea>\n              </div>\n            </div>\n\n            <div className=\"__right\">\n              <div className=\"field _ait\">\n                <span>Phone Number Not Available:</span>\n                <textarea defaultValue={newCallFlowData.phrase_phone_not_available} onChange={({target: {value}}) => setNewCallFlowData({...newCallFlowData, phrase_phone_not_available: value})}></textarea>\n              </div>\n\n              <div className=\"field _ait\">\n                <span>Dispatchers Not Available:</span>\n                <textarea defaultValue={newCallFlowData.phrase_dispatcher_not_available} onChange={({target: {value}}) => setNewCallFlowData({...newCallFlowData, phrase_dispatcher_not_available: value})}></textarea>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"wrapper flex-container sb editing-buttons\">\n          <div />\n          <div className=\"buttons\">\n            <button className=\"_bordered _red\" onClick={() => $router.router.navigate('call_center.callFlows', {}, {\n              reload: true\n            })}>\n              Cancel\n            </button>\n            <button disabled={!readyToSave} className=\"_bordered _green\">\n              Save\n            </button>\n          </div>\n        </div>\n      </div>\n    ) : null}\n  </>)\n})\nexport default CallCenter_CallFlowsPage_New\n"]},"metadata":{},"sourceType":"module"}