{"ast":null,"code":"import _objectSpread from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/regenerator/index.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import Icon from\"../../components/Icon\";import{nError}from\"../../funcs\";import{mapDispatchToProps,mapStateToProps}from\"../../store\";import\"../../styles/pages/common/entity-edit.sass\";import Select from\"../../components/Select\";import Checkbox from\"../../components/Checkbox\";import{useRoute}from\"react-router5\";import ReactCrop from\"react-image-crop\";import Switcher from\"../../components/Switcher\";import ReactInputMask from\"react-input-mask\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AccountsPage_Item=connect(mapStateToProps,mapDispatchToProps)(function(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),readyToSave=_useState2[0],setReadyToSave=_useState2[1];var $router=useRoute();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),editing=_useState4[0],setEditing=_useState4[1];var _useState5=useState({twilio_account_sid:'password',twilio_call_token:'password',twilio_token:'password'}),_useState6=_slicedToArray(_useState5,2),inputTypes=_useState6[0],setInputTypes=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),deleting=_useState8[0],setDeleting=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),readyToDelete=_useState10[0],setReadyToDelete=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),accountData=_useState12[0],setAccountData=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),avatarPopup=_useState14[0],setAvatarPopup=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),avatarImageSrc=_useState16[0],setAvatarImageSrc=_useState16[1];var _useState17=useState({unit:'%',width:30,aspect:1}),_useState18=_slicedToArray(_useState17,2),avatarCrop=_useState18[0],setAvatarCrop=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),editions=_useState20[0],setEditions=_useState20[1];var _useState21=useState({}),_useState22=_slicedToArray(_useState21,2),newAccountData=_useState22[0],setNewAccountData=_useState22[1];// Load info function\nfunction loadInfo(){return _loadInfo.apply(this,arguments);}// Load account data\nfunction _loadInfo(){_loadInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _ref17,_accountData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/json/account.json');case 3:_ref17=_context.sent;_accountData=_ref17.data;setAccountData(_accountData);setEditions(_accountData.edit);setNewAccountData(_accountData.account);setTimeout(function(){return setReadyToSave(false);},100);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);nError(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return _loadInfo.apply(this,arguments);}useEffect(function(){loadInfo();},[]);// On select file function\nfunction onSelectFile(e){if(e.target.files&&e.target.files.length>0){var reader=new FileReader();reader.addEventListener('load',function(){return setAvatarImageSrc(reader.result);});reader.readAsDataURL(e.target.files[0]);}}useEffect(function(){return setReadyToSave(true);},[newAccountData]);// Render function\nreturn/*#__PURE__*/_jsx(_Fragment,{children:accountData&&editions&&newAccountData.time_zone?/*#__PURE__*/_jsxs(\"div\",{className:\"AccountsPage_Item entity-edit\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper flex-container sb\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container _gap-narrow\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Account:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item-name\",children:accountData.account.name})]}),accountData!==null&&accountData!==void 0&&accountData.permissions.edit_account&&!editing?/*#__PURE__*/_jsx(\"button\",{className:\"_wa _green\",onClick:function onClick(){return setEditing(true);},children:\"Edit\"}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Main\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:!editing,defaultValue:accountData.account.name,onChange:function onChange(_ref){var value=_ref.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{name:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Owner:\"}),/*#__PURE__*/_jsx(Select,{disabled:!editing,options:editions.owners.map(function(owner){return{span:owner.user,value:owner.user_id};}),selectedOption:newAccountData.owner,onChange:function onChange(value){return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{owner:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Phone:\"}),/*#__PURE__*/_jsx(ReactInputMask,{disabled:!editing,type:\"text\",mask:\"+1 (999) 999-9999\",defaultValue:newAccountData.phone,onChange:function onChange(_ref2){var value=_ref2.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{phone:value}));}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",style:{zIndex:5},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Status:\"}),/*#__PURE__*/_jsx(Select,{disabled:!editing,options:editions.status.map(function(status){return{span:status,value:status};}),selectedOption:newAccountData.status,onChange:function onChange(value){return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{status:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:accountData.account.email,disabled:!editing})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Source:\"}),/*#__PURE__*/_jsx(Select,{disabled:!editing,options:editions.source.map(function(source){return{span:source,value:source};}),selectedOption:newAccountData.source,onChange:function onChange(value){return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{source:value}));}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"avatar-editing\",children:/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed\",onClick:function onClick(){return editing&&setAvatarPopup(true);},children:/*#__PURE__*/_jsx(Icon,{icon:\"user-20\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"__left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Users:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:true,defaultValue:accountData.account.users,onChange:function onChange(_ref3){var value=_ref3.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{users:value}));}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"__right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Phone Numbers:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:true,defaultValue:accountData.account.phone_numbers,onChange:function onChange(_ref4){var value=_ref4.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{phone_numbers:value}));}})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Twilio\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Account SID:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field _iconed\",children:[/*#__PURE__*/_jsx(\"input\",{disabled:!editing,type:inputTypes.twilio_account_sid,readOnly:inputTypes.twilio_account_sid!=='text',defaultValue:newAccountData.twilio_account_sid,onChange:function onChange(_ref5){var value=_ref5.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{twilio_account_sid:value}));}}),/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed\",onClick:function onClick(){return setInputTypes(_objectSpread(_objectSpread({},inputTypes),{},{twilio_account_sid:inputTypes.twilio_account_sid==='text'?'password':'text'}));},children:/*#__PURE__*/_jsx(Icon,{icon:\"eye-4\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Call Token:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field _iconed\",children:[/*#__PURE__*/_jsx(\"input\",{disabled:!editing,type:inputTypes.twilio_call_token,readOnly:inputTypes.twilio_call_token!=='text',defaultValue:newAccountData.twilio_call_token,onChange:function onChange(_ref6){var value=_ref6.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{twilio_call_token:value}));}}),/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed\",onClick:function onClick(){return setInputTypes(_objectSpread(_objectSpread({},inputTypes),{},{twilio_call_token:inputTypes.twilio_call_token==='text'?'password':'text'}));},children:/*#__PURE__*/_jsx(Icon,{icon:\"eye-4\"})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"__right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Token:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field _iconed\",children:[/*#__PURE__*/_jsx(\"input\",{disabled:!editing,type:inputTypes.twilio_token,readOnly:inputTypes.twilio_token!=='text',defaultValue:newAccountData.twilio_token,onChange:function onChange(_ref7){var value=_ref7.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{twilio_token:value}));}}),/*#__PURE__*/_jsx(\"button\",{className:\"_zeroed _iconed\",onClick:function onClick(){return setInputTypes(_objectSpread(_objectSpread({},inputTypes),{},{twilio_token:inputTypes.twilio_token==='text'?'password':'text'}));},children:/*#__PURE__*/_jsx(Icon,{icon:\"eye-4\"})})]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Permission:\"}),/*#__PURE__*/_jsx(Select,{disabled:!editing,options:editions.permissions.map(function(permission){return{span:permission,value:permission};}),selectedOption:newAccountData.permission,onChange:function onChange(value){return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{permission:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Slack Url:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:!editing,defaultValue:accountData.account.slack_url,onChange:function onChange(_ref8){var value=_ref8.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{slack_url:value}));}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Time Zone:\"}),/*#__PURE__*/_jsx(Select,{disabled:!editing,options:editions.time_zone.map(function(time_zone){return{span:time_zone,value:time_zone};}),selectedOption:newAccountData.time_zone,onChange:function onChange(value){return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{time_zone:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Slack:\"}),/*#__PURE__*/_jsx(Switcher,{disabled:!editing,checked:newAccountData.slack_active,onChange:function onChange(value){return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{slack_active:value}));}})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Mailing Address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Street:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:!editing,defaultValue:accountData.account.mailing_street,onChange:function onChange(_ref9){var value=_ref9.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{mailing_street:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Unit/Apt:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:!editing,defaultValue:accountData.account.mailing_unit,onChange:function onChange(_ref10){var value=_ref10.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{mailing_unit:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"City:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:!editing,defaultValue:accountData.account.mailing_city,onChange:function onChange(_ref11){var value=_ref11.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{mailing_city:value}));}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"State:\"}),/*#__PURE__*/_jsx(Select,{disabled:!editing,options:editions.state.map(function(option){return{span:option,value:option};}),selectedOption:newAccountData.mailing_state,onChange:function onChange(value){return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{mailing_state:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Zip:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:!editing,defaultValue:accountData.account.mailing_zip,onChange:function onChange(_ref12){var value=_ref12.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{mailing_zip:value}));}})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-container sb wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Billing Address\"}),editing?/*#__PURE__*/_jsxs(\"div\",{className:\"legend-action-wrapper\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Same as Mailing Address:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-wrapper\",children:/*#__PURE__*/_jsx(Checkbox,{contents:\"\",value:newAccountData.same_address,onChange:function onChange(value){return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{same_address:value}));}})})]}):null]}),!editing||!newAccountData.same_address?/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Street:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:!editing,defaultValue:accountData.account.billing_street,onChange:function onChange(_ref13){var value=_ref13.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{billing_street:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Unit/Apt:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:!editing,defaultValue:accountData.account.billing_unit,onChange:function onChange(_ref14){var value=_ref14.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{billing_unit:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"City:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:!editing,defaultValue:accountData.account.billing_city,onChange:function onChange(_ref15){var value=_ref15.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{billing_city:value}));}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"State:\"}),/*#__PURE__*/_jsx(Select,{disabled:!editing,options:editions.state.map(function(option){return{span:option,value:option};}),selectedOption:newAccountData.billing_state,onChange:function onChange(value){return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{billing_state:value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Zip:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",disabled:!editing,defaultValue:accountData.account.billing_zip,onChange:function onChange(_ref16){var value=_ref16.target.value;return setNewAccountData(_objectSpread(_objectSpread({},newAccountData),{},{billing_zip:value}));}})]})]})]}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Date Created:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:newAccountData.created_at,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Created by:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:newAccountData.created_by,disabled:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Last Edited:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:newAccountData.last_edited_at,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Last Edited By:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:newAccountData.last_edited_by,disabled:true})]})]})]})]}),editing?/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper flex-container sb editing-buttons\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"_red\",onClick:function onClick(){return setDeleting(true);},children:\"Delete Account\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"_bordered _red\",onClick:function onClick(){return setEditing(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!readyToSave,className:\"_bordered _green\",children:\"Save\"})]})]}):null,avatarPopup?/*#__PURE__*/_jsx(\"div\",{className:\"popup imageCrop\",onClick:function onClick(){return setAvatarPopup(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:onSelectFile,id:\"file-uploader\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"_wa _iconed _bordered _blue\",onClick:function onClick(){var _document$getElementB;return(_document$getElementB=document.getElementById('file-uploader'))===null||_document$getElementB===void 0?void 0:_document$getElementB.click();},children:[/*#__PURE__*/_jsx(Icon,{icon:\"account-33\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Upload a File\"})]})]}),/*#__PURE__*/_jsx(\"div\",{children:avatarImageSrc&&/*#__PURE__*/_jsx(ReactCrop,{src:avatarImageSrc,crop:avatarCrop,onChange:function onChange(value){return setAvatarCrop(value);}})})]})}):null,deleting?/*#__PURE__*/_jsx(\"div\",{className:\"item-delete-popup\",onClick:function onClick(){return setDeleting(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Delete Account\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-wrapper\",children:/*#__PURE__*/_jsx(Checkbox,{contents:\"I understand that after deleting the account it will not be possible to recover.\",value:readyToDelete,onChange:function onChange(value){return setReadyToDelete(value);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"_bordered _green\",onClick:function onClick(){return setDeleting(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!readyToDelete,className:\"_bordered _red\",children:\"Delete\"})]})]})}):null]}):null});});export default AccountsPage_Item;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/Accounts/Item.tsx"],"names":["axios","React","useEffect","useState","connect","Icon","nError","mapDispatchToProps","mapStateToProps","Select","Checkbox","useRoute","ReactCrop","Switcher","ReactInputMask","AccountsPage_Item","props","readyToSave","setReadyToSave","$router","editing","setEditing","twilio_account_sid","twilio_call_token","twilio_token","inputTypes","setInputTypes","deleting","setDeleting","readyToDelete","setReadyToDelete","accountData","setAccountData","avatarPopup","setAvatarPopup","avatarImageSrc","setAvatarImageSrc","unit","width","aspect","avatarCrop","setAvatarCrop","editions","setEditions","newAccountData","setNewAccountData","loadInfo","get","data","edit","account","setTimeout","onSelectFile","e","target","files","length","reader","FileReader","addEventListener","result","readAsDataURL","time_zone","name","permissions","edit_account","value","owners","map","owner","span","user","user_id","phone","zIndex","status","email","source","users","phone_numbers","permission","slack_url","slack_active","mailing_street","mailing_unit","mailing_city","state","option","mailing_state","mailing_zip","same_address","billing_street","billing_unit","billing_city","billing_state","billing_zip","created_at","created_by","last_edited_at","last_edited_by","stopPropagation","document","getElementById","click"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport Icon from \"../../components/Icon\"\nimport { nError } from \"../../funcs\"\nimport Account from \"../../models/Account\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../store\";\nimport Datetime from 'react-datetime'\n\nimport \"../../styles/pages/common/entity-edit.sass\"\nimport moment from \"moment\"\nimport Select from \"../../components/Select\"\nimport Checkbox from \"../../components/Checkbox\"\nimport { useRoute } from \"react-router5\"\nimport AccountCustom from \"../../models/AccountCustom\"\nimport ReactCrop, { Crop } from \"react-image-crop\"\nimport Switcher from \"../../components/Switcher\"\nimport ReactInputMask from \"react-input-mask\"\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\ninterface AccountData {\n\n\tpermissions: {\n\t\tedit_account: boolean,\n  },\n  \n  account: AccountCustom,\n  \n\tedit: {\n    status: string[],\n    owners: {\n      user_id: string,\n      user: string\n    }[],\n    source: string[],\n    time_zone: string[],\n    permissions: string[],\n    state: string[]\n\t}\n}\n\nconst AccountsPage_Item = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const [readyToSave, setReadyToSave] = useState(false)\n\n  const $router = useRoute()\n\n  const [editing, setEditing] = useState(false)\n\n  const [inputTypes, setInputTypes] = useState({\n\n    twilio_account_sid: 'password' as 'text' | 'password',\n    twilio_call_token: 'password' as 'text' | 'password',\n    twilio_token: 'password' as 'text' | 'password',\n  })\n\n  const [deleting, setDeleting] = useState(false)\n  const [readyToDelete, setReadyToDelete] = useState(false)\n  \n  const [accountData, setAccountData] = useState<AccountData | null>(null)\n\n  const [avatarPopup, setAvatarPopup] = useState(false)\n  const [avatarImageSrc, setAvatarImageSrc] = useState('')\n  const [avatarCrop, setAvatarCrop] = useState<Partial<Crop>>({\n    unit: '%',\n    width: 30,\n    aspect: 1\n  })\n\n  const [editions, setEditions] = useState<{\n    time_zone: string[],\n    source: string[],\n    status: string[],\n    owners: {\n      user: string,\n      user_id: string\n    }[],\n    permissions: string[],\n    state: string[]\n  } | null>(null)\n\n  const [newAccountData, setNewAccountData] = useState<Partial<AccountCustom>>({\n    \n  })\n\n  // Load info function\n  async function loadInfo() {\n    try {\n      const { data: accountData } = (await axios.get('/json/account.json')) as {data: AccountData}\n\n      setAccountData(accountData)\n      setEditions(accountData.edit)\n      setNewAccountData(accountData.account)\n\n      setTimeout(() => setReadyToSave(false), 100)\n    }\n    catch (error) {\n      nError(error)\n    }\n  }\n\n  // Load account data\n  useEffect(() => {\n    loadInfo()\n  }, [])\n\n  // On select file function\n  function onSelectFile(e: any) {\n    if (e.target.files && e.target.files.length > 0) {\n      const reader = new FileReader();\n      reader.addEventListener('load', () =>\n        setAvatarImageSrc(reader.result as string)\n      );\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  }\n\n  useEffect(() => setReadyToSave(true), [\n    newAccountData\n  ])\n  \n  // Render function\n  return (<>\n    {accountData && editions && newAccountData.time_zone ? (\n      <div className=\"AccountsPage_Item entity-edit\">\n\n        <div className=\"wrapper flex-container sb\">\n          <div className=\"flex-container _gap-narrow\">\n            <h1>Account:</h1>\n            <div className=\"item-name\">\n              {accountData.account.name}\n            </div>\n          </div>\n\n          {accountData?.permissions.edit_account && !editing ? (\n            <button className=\"_wa _green\" onClick={() => setEditing(true)}>\n              Edit\n            </button>\n          ) : null}\n        </div>\n        \n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Main</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Name:</span>\n                <input type=\"text\" disabled={!editing} defaultValue={accountData.account.name} onChange={({target: {value}}) => setNewAccountData({...newAccountData, name: value})} />\n              </div>\n\n              <div className=\"field\">\n                <span>Owner:</span>\n                <Select disabled={!editing} options={editions.owners.map((owner) => ({\n                  span: owner.user,\n                  value: owner.user_id\n                }))} selectedOption={newAccountData.owner as string} onChange={(value: string) => setNewAccountData({...newAccountData, owner: value})}/>\n              </div>\n\n              <div className=\"field\">\n                <span>Phone:</span>\n                <ReactInputMask disabled={!editing} type=\"text\" mask=\"+1 (999) 999-9999\" defaultValue={newAccountData.phone} onChange={({target: {value}}) => setNewAccountData({...newAccountData, phone: value})} />\n              </div>\n            </div>\n\n            <div className=\"__right\">\n              <div className=\"field\" style={{zIndex: 5}}>\n                <span>Status:</span>\n                <Select disabled={!editing} options={editions.status.map((status) => ({\n                  span: status,\n                  value: status\n                }))} selectedOption={newAccountData.status as string} onChange={(value: string) => setNewAccountData({...newAccountData, status: value})}/>\n              </div>\n\n              <div className=\"field\">\n                <span>Email:</span>\n                <input type=\"text\" defaultValue={accountData.account.email} disabled={!editing} />\n              </div>\n\n              <div className=\"field\">\n                <span>Source:</span>\n                <Select disabled={!editing} options={editions.source.map((source) => ({\n                  span: source,\n                  value: source\n                }))} selectedOption={newAccountData.source as string} onChange={(value: string) => setNewAccountData({...newAccountData, source: value})}/>\n              </div>\n            </div>\n\n            <div className=\"avatar-editing\">\n              <button className=\"_zeroed _iconed\" onClick={() => editing && setAvatarPopup(true)}>\n                <Icon icon=\"user-20\" />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Statistics</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Users:</span>\n                <input type=\"text\" disabled={true} defaultValue={accountData.account.users} onChange={({target: {value}}) => setNewAccountData({...newAccountData, users: value})} />\n              </div>\n            </div>\n\n            <div className=\"__right\">\n              <div className=\"field\">\n                <span>Phone Numbers:</span>\n                <input type=\"text\" disabled={true} defaultValue={accountData.account.phone_numbers} onChange={({target: {value}}) => setNewAccountData({...newAccountData, phone_numbers: value})} />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Twilio</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Account SID:</span>\n                <div className=\"form-field _iconed\">\n                  <input disabled={!editing} type={inputTypes.twilio_account_sid} readOnly={inputTypes.twilio_account_sid !== 'text'} defaultValue={newAccountData.twilio_account_sid} onChange={({target: {value}}) => setNewAccountData({...newAccountData, twilio_account_sid: value})} />\n                  <button className=\"_zeroed _iconed\" onClick={() => setInputTypes({...inputTypes, twilio_account_sid: inputTypes.twilio_account_sid === 'text' ? 'password' : 'text'})}>\n                    <Icon icon=\"eye-4\"/>\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"field\">\n                <span>Call Token:</span>\n                <div className=\"form-field _iconed\">\n                  <input disabled={!editing} type={inputTypes.twilio_call_token} readOnly={inputTypes.twilio_call_token !== 'text'} defaultValue={newAccountData.twilio_call_token} onChange={({target: {value}}) => setNewAccountData({...newAccountData, twilio_call_token: value})} />\n                  <button className=\"_zeroed _iconed\" onClick={() => setInputTypes({...inputTypes, twilio_call_token: inputTypes.twilio_call_token === 'text' ? 'password' : 'text'})}>\n                    <Icon icon=\"eye-4\"/>\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            \n            <div className=\"__right\">\n\n              <div className=\"field\">\n                <span>Token:</span>\n                <div className=\"form-field _iconed\">\n                  <input disabled={!editing} type={inputTypes.twilio_token} readOnly={inputTypes.twilio_token !== 'text'} defaultValue={newAccountData.twilio_token} onChange={({target: {value}}) => setNewAccountData({...newAccountData, twilio_token: value})} />\n                  <button className=\"_zeroed _iconed\" onClick={() => setInputTypes({...inputTypes, twilio_token: inputTypes.twilio_token === 'text' ? 'password' : 'text'})}>\n                    <Icon icon=\"eye-4\"/>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Settings</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n\n              <div className=\"field\">\n                <span>Permission:</span>\n                <Select disabled={!editing} options={editions.permissions.map((permission) => ({\n                  span: permission,\n                  value: permission\n                }))} selectedOption={newAccountData.permission as string} onChange={(value: string) => setNewAccountData({...newAccountData, permission: value})}/>\n              </div>\n\n              <div className=\"field\">\n                <span>Slack Url:</span>\n                <input type=\"text\" disabled={!editing} defaultValue={accountData.account.slack_url} onChange={({target: {value}}) => setNewAccountData({...newAccountData, slack_url: value})} />\n              </div>\n            </div>\n\n            <div className=\"__right\">\n\n              <div className=\"field\">\n                <span>Time Zone:</span>\n                <Select disabled={!editing} options={editions.time_zone.map((time_zone) => ({\n                  span: time_zone,\n                  value: time_zone\n                }))} selectedOption={newAccountData.time_zone as string} onChange={(value: string) => setNewAccountData({...newAccountData, time_zone: value})}/>\n              </div>\n\n              <div className=\"field\">\n                <span>Slack:</span>\n                <Switcher disabled={!editing} checked={newAccountData.slack_active} onChange={(value) => setNewAccountData({...newAccountData, slack_active: value})} />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Mailing Address</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Street:</span>\n                <input type=\"text\" disabled={!editing} defaultValue={accountData.account.mailing_street} onChange={({target: {value}}) => setNewAccountData({...newAccountData, mailing_street: value})} />\n              </div>\n\n              <div className=\"field\">\n                <span>Unit/Apt:</span>\n                <input type=\"text\" disabled={!editing} defaultValue={accountData.account.mailing_unit} onChange={({target: {value}}) => setNewAccountData({...newAccountData, mailing_unit: value})} />\n              </div>\n\n              <div className=\"field\">\n                <span>City:</span>\n                <input type=\"text\" disabled={!editing} defaultValue={accountData.account.mailing_city} onChange={({target: {value}}) => setNewAccountData({...newAccountData, mailing_city: value})} />\n              </div>\n            </div>\n\n            <div className=\"__right\">\n              <div className=\"field\">\n                <span>State:</span>\n                <Select disabled={!editing} options={editions.state.map((option) => ({\n                  span: option,\n                  value: option\n                }))} selectedOption={newAccountData.mailing_state as string} onChange={(value: string) => setNewAccountData({...newAccountData, mailing_state: value})}/>\n              </div>\n\n              <div className=\"field\">\n                <span>Zip:</span>\n                <input type=\"text\" disabled={!editing} defaultValue={accountData.account.mailing_zip} onChange={({target: {value}}) => setNewAccountData({...newAccountData, mailing_zip: value})} />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"flex-container sb wrap\">\n            <div className=\"legend\">Billing Address</div>\n\n            {editing ? (\n              <div className=\"legend-action-wrapper\">\n                <label>Same as Mailing Address:</label>\n\n                <div className=\"input-wrapper\">\n                  <Checkbox contents='' value={newAccountData.same_address} onChange={(value) => setNewAccountData({...newAccountData, same_address: value})} />\n                </div>\n              </div>\n            ) : null}\n          </div>\n\n          {!editing || !newAccountData.same_address ? (\n            <div className=\"fields\">\n\n              <div className=\"__left\">\n                <div className=\"field\">\n                  <span>Street:</span>\n                  <input type=\"text\" disabled={!editing} defaultValue={accountData.account.billing_street} onChange={({target: {value}}) => setNewAccountData({...newAccountData, billing_street: value})} />\n                </div>\n\n                <div className=\"field\">\n                  <span>Unit/Apt:</span>\n                  <input type=\"text\" disabled={!editing} defaultValue={accountData.account.billing_unit} onChange={({target: {value}}) => setNewAccountData({...newAccountData, billing_unit: value})} />\n                </div>\n\n                <div className=\"field\">\n                  <span>City:</span>\n                  <input type=\"text\" disabled={!editing} defaultValue={accountData.account.billing_city} onChange={({target: {value}}) => setNewAccountData({...newAccountData, billing_city: value})} />\n                </div>\n              </div>\n\n              <div className=\"__right\">\n                <div className=\"field\">\n                  <span>State:</span>\n                  <Select disabled={!editing} options={editions.state.map((option) => ({\n                    span: option,\n                    value: option\n                  }))} selectedOption={newAccountData.billing_state as string} onChange={(value: string) => setNewAccountData({...newAccountData, billing_state: value})}/>\n                </div>\n\n                <div className=\"field\">\n                  <span>Zip:</span>\n                  <input type=\"text\" disabled={!editing} defaultValue={accountData.account.billing_zip} onChange={({target: {value}}) => setNewAccountData({...newAccountData, billing_zip: value})} />\n                </div>\n              </div>\n            </div>\n          ) : null}\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Info</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Date Created:</span>\n                <input type=\"text\" defaultValue={newAccountData.created_at} disabled={ true } />\n              </div>\n\n              <div className=\"field\">\n                <span>Created by:</span>\n                <input type=\"text\" defaultValue={newAccountData.created_by} disabled={ true } />\n              </div>\n            </div>\n\n            \n            <div className=\"__right\">\n\n              <div className=\"field\">\n                <span>Last Edited:</span>\n                <input type=\"text\" defaultValue={newAccountData.last_edited_at} disabled={ true } />\n              </div>\n\n              <div className=\"field\">\n                <span>Last Edited By:</span>\n                <input type=\"text\" defaultValue={newAccountData.last_edited_by} disabled={ true } />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {editing ? (\n          <div className=\"wrapper flex-container sb editing-buttons\">\n            <div>\n              <button className=\"_red\" onClick={() => setDeleting(true)}>Delete Account</button>\n            </div>\n            <div className=\"buttons\">\n              <button className=\"_bordered _red\" onClick={() => setEditing(false)}>\n                Cancel\n              </button>\n              <button disabled={!readyToSave} className=\"_bordered _green\">\n                Save\n              </button>\n            </div>\n          </div>\n        ) : null}\n\n        {avatarPopup ? (\n          <div className=\"popup imageCrop\" onClick={() => setAvatarPopup(false)}>\n\n            <div className=\"wrapper\" onClick={(e) => e.stopPropagation()}>\n              \n              <div>\n                <input type=\"file\" accept=\"image/*\" onChange={onSelectFile} id=\"file-uploader\" />\n                <button className=\"_wa _iconed _bordered _blue\" onClick={() => document.getElementById('file-uploader')?.click()}>\n                  <Icon icon=\"account-33\" />\n                  <span>Upload a File</span>\n                </button>\n              </div>\n\n              <div>\n                {avatarImageSrc && (\n                  <ReactCrop\n                    src={avatarImageSrc}\n                    crop={avatarCrop}\n                    onChange={(value) => setAvatarCrop(value)}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Item delete popup */}\n        {deleting ? (\n          <div className=\"item-delete-popup\" onClick={() => setDeleting(false)}>\n\n            <div className=\"wrapper\" onClick={(e) => e.stopPropagation()}>\n            \n              <div className=\"title\">\n                Delete Account\n              </div>\n\n              <div className=\"checkbox-wrapper\">\n                <Checkbox contents=\"I understand that after deleting the account it will not be possible to recover.\" value={readyToDelete} onChange={(value) => setReadyToDelete(value)} />\n              </div>\n\n              <div className=\"buttons\">\n\n                <button className=\"_bordered _green\" onClick={() => setDeleting(false)}>\n                  Cancel\n                </button>\n\n                <button disabled={!readyToDelete} className=\"_bordered _red\">\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    ) : null}\n  </>)\n})\nexport default AccountsPage_Item\n"]},"metadata":{},"sourceType":"module"}