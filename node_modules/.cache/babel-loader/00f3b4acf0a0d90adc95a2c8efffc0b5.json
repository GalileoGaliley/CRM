{"ast":null,"code":"import _objectSpread from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/nicole/rrrr/crm/node_modules/@babel/runtime/regenerator/index.js\";import{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{httpClient,nError}from\"../../funcs\";import{mapDispatchToProps,mapStateToProps}from\"../../store\";import\"../../styles/pages/common/entity-edit.sass\";import Select from\"../../components/Select\";import Checkbox from\"../../components/Checkbox\";import classNames from\"classnames\";import{useRoute}from\"react-router5\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var JobsPage_Item=connect(mapStateToProps,mapDispatchToProps)(function(props){var $router=useRoute();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),readyToSave=_useState2[0],setReadyToSave=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),editing=_useState4[0],setEditing=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),deleting=_useState6[0],setDeleting=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),readyToDelete=_useState8[0],setReadyToDelete=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),jobData=_useState10[0],setJobData=_useState10[1];var _useState11=useState({status:'',source:''}),_useState12=_slicedToArray(_useState11,2),newJobData=_useState12[0],setNewJobData=_useState12[1];// Load info function\nfunction loadInfo(){return _loadInfo.apply(this,arguments);}// Load job data\nfunction _loadInfo(){_loadInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _ref,_jobData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return httpClient.post('/json/job.json');case 3:_ref=_context.sent;_jobData=_ref.data;setJobData(_jobData);setNewJobData(_jobData.job);setTimeout(function(){return setReadyToSave(false);},100);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);nError(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _loadInfo.apply(this,arguments);}useEffect(function(){loadInfo();},[]);useEffect(function(){return setReadyToSave(true);},[newJobData]);// Render function\nreturn/*#__PURE__*/_jsx(_Fragment,{children:jobData&&newJobData.status?/*#__PURE__*/_jsxs(\"div\",{className:\"JobsPage_Item entity-edit\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper flex-container sb\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Job\"}),jobData!==null&&jobData!==void 0&&jobData.permissions.edit_job&&!editing?/*#__PURE__*/_jsx(\"button\",{className:\"_wa _green\",onClick:function onClick(){return setEditing(true);},children:\"Edit\"}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Main\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:jobData===null||jobData===void 0?void 0:jobData.job.name,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Property type:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:jobData===null||jobData===void 0?void 0:jobData.job.property_type,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Status:\"}),/*#__PURE__*/_jsx(Select,{disabled:!editing,options:jobData.edit.status.map(function(option){return{span:option,value:option};}),selectedOption:newJobData.status,onChange:function onChange(value){return setNewJobData(_objectSpread(_objectSpread({},newJobData),{},{status:value}));}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Service Resource:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:jobData===null||jobData===void 0?void 0:jobData.job.service_resources,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Area:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:jobData===null||jobData===void 0?void 0:jobData.job.area,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Source:\"}),/*#__PURE__*/_jsx(Select,{disabled:!editing,options:jobData.edit.source.map(function(option){return{span:option,value:option};}),selectedOption:newJobData.source,onChange:function onChange(value){return setNewJobData(_objectSpread(_objectSpread({},newJobData),{},{source:value}));}})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Financial\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"__left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:jobData===null||jobData===void 0?void 0:jobData.job.total,disabled:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"__right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Paid:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:jobData===null||jobData===void 0?void 0:jobData.job.paid,disabled:true})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Date Created:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:jobData===null||jobData===void 0?void 0:jobData.job.created_at,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Created by:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:jobData===null||jobData===void 0?void 0:jobData.job.created_by,disabled:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Last Edited:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:jobData===null||jobData===void 0?void 0:jobData.job.last_edited_at,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Last Edited by:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:jobData===null||jobData===void 0?void 0:jobData.job.last_edited_by,disabled:true})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Clients\"}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__show-on-wide',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Main Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Source\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Jobs\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Appointments\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Recalls\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Paid\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Unpaid\"})]}),jobData.clients.map(function(client,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return $router.router.navigate('clients.item',{clientId:client.client_id},{reload:true});},children:[/*#__PURE__*/_jsx(\"td\",{children:client.name}),/*#__PURE__*/_jsx(\"td\",{children:client.main_phone}),/*#__PURE__*/_jsx(\"td\",{children:client.source}),/*#__PURE__*/_jsx(\"td\",{children:client.jobs}),/*#__PURE__*/_jsx(\"td\",{children:client.appointments}),/*#__PURE__*/_jsx(\"td\",{children:client.recalls}),/*#__PURE__*/_jsx(\"td\",{children:client.total}),/*#__PURE__*/_jsx(\"td\",{children:client.paid}),/*#__PURE__*/_jsx(\"td\",{children:client.unpaid})]},i);})]}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__hide-on-wide','__hide-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsx(\"tr\",{}),jobData.clients.map(function(client,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return $router.router.navigate('clients.item',{clientId:client.client_id},{reload:true});},children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:client.name}),/*#__PURE__*/_jsx(\"div\",{children:client.main_phone})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:client.source}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Jobs: \",client.jobs]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Appointments: \",client.appointments]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Recalls: \",client.recalls]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Total: \",client.total]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Paid: \",client.paid]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Unpaid: \",client.unpaid]}),/*#__PURE__*/_jsx(\"div\",{children:\"\\xA0\"})]})]},i);})]}),/*#__PURE__*/_jsx(\"div\",{className:classNames('mobile-table','__show-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:/*#__PURE__*/_jsx(\"div\",{className:\"mobile-table-items\",children:jobData.clients.map(function(client,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",onClick:function onClick(){return $router.router.navigate('clients.item',{clientId:client.client_id},{reload:true});},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:client.name})}),/*#__PURE__*/_jsx(\"div\",{children:client.main_phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Total: \",/*#__PURE__*/_jsx(\"b\",{children:client.total})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Paid: \",/*#__PURE__*/_jsx(\"b\",{children:client.paid})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Unpaid: \",/*#__PURE__*/_jsx(\"b\",{children:client.unpaid})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Jobs:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",client.jobs]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Recalls:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",client.recalls]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Appointments:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",client.appointments]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"__right small\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:client.source})})})]})]},i);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Appointments\"}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__show-on-wide',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Property type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Area\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Created by\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Schedule time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Service resource\"})]}),jobData.appointments.map(function(appointment,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return $router.router.navigate('appointments.item',{appointmentId:appointment.appointment_id},{reload:true});},children:[/*#__PURE__*/_jsx(\"td\",{children:appointment.created_at}),/*#__PURE__*/_jsx(\"td\",{children:appointment.name}),/*#__PURE__*/_jsx(\"td\",{children:appointment.type==='Recall'?/*#__PURE__*/_jsx(\"span\",{className:\"red\",children:appointment.type}):appointment.type==='Service call'?/*#__PURE__*/_jsx(\"span\",{className:\"green\",children:appointment.type}):/*#__PURE__*/_jsx(\"span\",{className:\"blue\",children:appointment.type})}),/*#__PURE__*/_jsx(\"td\",{children:appointment.status}),/*#__PURE__*/_jsx(\"td\",{children:appointment.property_type}),/*#__PURE__*/_jsx(\"td\",{children:appointment.area}),/*#__PURE__*/_jsx(\"td\",{children:appointment.created_by}),/*#__PURE__*/_jsx(\"td\",{children:appointment.schedule_time}),/*#__PURE__*/_jsx(\"td\",{children:appointment.service_resource})]},i);})]}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__hide-on-wide','__hide-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsx(\"tr\",{}),jobData.appointments.map(function(appointment,i){return/*#__PURE__*/_jsxs(\"tr\",{onClick:function onClick(){return $router.router.navigate('appointments.item',{appointmentId:appointment.appointment_id},{reload:true});},children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.name}),/*#__PURE__*/_jsx(\"div\",{children:appointment.created_at})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.service_resource}),/*#__PURE__*/_jsx(\"div\",{children:appointment.created_by})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.area}),/*#__PURE__*/_jsx(\"div\",{children:appointment.type})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.property_type}),/*#__PURE__*/_jsx(\"div\",{children:appointment.status})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.schedule_time}),/*#__PURE__*/_jsx(\"div\",{children:\"\\xA0\"})]})]},i);})]}),/*#__PURE__*/_jsx(\"div\",{className:classNames('mobile-table','__show-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:/*#__PURE__*/_jsx(\"div\",{className:\"mobile-table-items\",children:jobData.appointments.map(function(appointment,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",onClick:function onClick(){return $router.router.navigate('appointments.item',{appointmentId:appointment.appointment_id},{reload:true});},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-container\",children:/*#__PURE__*/_jsx(\"strong\",{children:appointment.name})}),/*#__PURE__*/_jsx(\"div\",{children:appointment.schedule_time})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.type==='Recall'?/*#__PURE__*/_jsx(\"span\",{className:\"red\",children:appointment.type}):appointment.type==='Service call'?/*#__PURE__*/_jsx(\"span\",{className:\"green\",children:appointment.type}):/*#__PURE__*/_jsx(\"span\",{className:\"blue\",children:appointment.type})}),/*#__PURE__*/_jsx(\"div\",{children:appointment.property_type}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"fw500\",children:appointment.status})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Area:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",appointment.area]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Service Resourse:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",appointment.service_resource]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right small\",children:[/*#__PURE__*/_jsx(\"div\",{children:appointment.created_at}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Created by \",appointment.created_by]})]})]})]},i);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Estimates\"}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__hide-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Date\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Name\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Status\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Service Resource\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Area\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Total\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Comment\"})})]}),jobData.estimates.map(function(estimate,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:estimate.created_at}),/*#__PURE__*/_jsx(\"td\",{children:estimate.name}),/*#__PURE__*/_jsx(\"td\",{children:estimate.status}),/*#__PURE__*/_jsx(\"td\",{children:estimate.service_resource}),/*#__PURE__*/_jsx(\"td\",{children:estimate.area}),/*#__PURE__*/_jsx(\"td\",{children:estimate.total}),/*#__PURE__*/_jsx(\"td\",{children:estimate.comment})]},i);})]}),/*#__PURE__*/_jsx(\"div\",{className:classNames('mobile-table','__show-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:/*#__PURE__*/_jsx(\"div\",{className:\"mobile-table-items\",children:jobData.estimates.map(function(estimate,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:estimate.name})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:estimate.status})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"__right\",children:/*#__PURE__*/_jsxs(\"div\",{children:[\"Total: \",/*#__PURE__*/_jsx(\"b\",{children:estimate.total})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Area:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",estimate.area]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Service Resourse:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",estimate.service_resource]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"__right small\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:estimate.created_at})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:estimate.comment})]},i);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Invoices\"}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__hide-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Date\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Name\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Status\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Service Resource\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Area\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Total\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Paid\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Unpaid\"})})]}),jobData.invoices.map(function(invoice,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:invoice.created_at}),/*#__PURE__*/_jsx(\"td\",{children:invoice.name}),/*#__PURE__*/_jsx(\"td\",{children:invoice.status}),/*#__PURE__*/_jsx(\"td\",{children:invoice.service_resource}),/*#__PURE__*/_jsx(\"td\",{children:invoice.area}),/*#__PURE__*/_jsx(\"td\",{children:invoice.total}),/*#__PURE__*/_jsx(\"td\",{children:invoice.paid}),/*#__PURE__*/_jsx(\"td\",{children:invoice.unpaid})]},i);})]}),/*#__PURE__*/_jsx(\"div\",{className:classNames('mobile-table','__show-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:/*#__PURE__*/_jsx(\"div\",{className:\"mobile-table-items\",children:jobData.invoices.map(function(invoice,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:invoice.name})}),/*#__PURE__*/_jsx(\"div\",{children:invoice.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Total: \",/*#__PURE__*/_jsx(\"b\",{children:invoice.total})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Paid: \",/*#__PURE__*/_jsx(\"b\",{children:invoice.paid})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Unpaid: \",/*#__PURE__*/_jsx(\"b\",{children:invoice.unpaid})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Area:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",invoice.area]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"gray\",children:\"Service Resource:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",invoice.service_resource]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"__right small\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:invoice.created_at})})})]})]},i);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fieldset\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend\",children:\"Payments\"}),/*#__PURE__*/_jsxs(\"table\",{className:classNames('table','__hide-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Date\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Type\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Number\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Service\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Status\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Net\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Total\"})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Fee\"})})]}),jobData.payments.map(function(payment,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:payment.created_at}),/*#__PURE__*/_jsx(\"td\",{children:payment.type}),/*#__PURE__*/_jsx(\"td\",{children:payment.number}),/*#__PURE__*/_jsx(\"td\",{children:payment.service}),/*#__PURE__*/_jsx(\"td\",{children:payment.status}),/*#__PURE__*/_jsx(\"td\",{children:payment.net}),/*#__PURE__*/_jsx(\"td\",{children:payment.total}),/*#__PURE__*/_jsx(\"td\",{children:payment.fee})]},i);})]}),/*#__PURE__*/_jsx(\"div\",{className:classNames('mobile-table','__show-on-mobile',{__respectAsidePanel:props.store.navActive.is}),children:/*#__PURE__*/_jsx(\"div\",{className:\"mobile-table-items\",children:jobData.payments.map(function(payment,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__left\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:payment.number})}),/*#__PURE__*/_jsx(\"div\",{children:payment.service}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:payment.status})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__right\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Net: \",/*#__PURE__*/_jsx(\"b\",{children:payment.net})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Total: \",/*#__PURE__*/_jsx(\"b\",{children:payment.total})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Fee: \",/*#__PURE__*/_jsx(\"b\",{children:payment.fee})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__bottom\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"__left\"}),/*#__PURE__*/_jsx(\"div\",{className:\"__right small\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"b\",{children:payment.created_at})})})]})]},i);})})})]}),editing?/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper flex-container sb editing-buttons\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"_red\",onClick:function onClick(){return setDeleting(true);},children:\"Delete Job\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"_bordered _red\",onClick:function onClick(){return setEditing(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!readyToSave,className:\"_bordered _green\",children:\"Save\"})]})]}):null,deleting?/*#__PURE__*/_jsx(\"div\",{className:\"item-delete-popup\",onClick:function onClick(){return setDeleting(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Delete Absence\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-wrapper\",children:/*#__PURE__*/_jsx(Checkbox,{contents:\"I understand that after deleting the absence it will not be possible to recover.\",value:readyToDelete,onChange:function onChange(value){return setReadyToDelete(value);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"_bordered _green\",onClick:function onClick(){return setDeleting(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!readyToDelete,className:\"_bordered _red\",children:\"Delete\"})]})]})}):null]}):null});});export default JobsPage_Item;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/Jobs/Item.tsx"],"names":["useEffect","useState","connect","httpClient","nError","mapDispatchToProps","mapStateToProps","Select","Checkbox","classNames","useRoute","JobsPage_Item","props","$router","readyToSave","setReadyToSave","editing","setEditing","deleting","setDeleting","readyToDelete","setReadyToDelete","jobData","setJobData","status","source","newJobData","setNewJobData","loadInfo","post","data","job","setTimeout","permissions","edit_job","name","property_type","edit","map","option","span","value","service_resources","area","total","paid","created_at","created_by","last_edited_at","last_edited_by","__respectAsidePanel","store","navActive","is","clients","client","i","router","navigate","clientId","client_id","reload","main_phone","jobs","appointments","recalls","unpaid","appointment","appointmentId","appointment_id","type","schedule_time","service_resource","estimates","estimate","comment","invoices","invoice","payments","payment","number","service","net","fee","e","stopPropagation"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport Icon from \"../../components/Icon\"\n\nimport {httpClient, nError} from \"../../funcs\"\nimport Job from \"../../models/Job\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../store\";\n\nimport \"../../styles/pages/common/entity-edit.sass\"\nimport Select from \"../../components/Select\"\nimport Client from \"../../models/Client\"\nimport Appointment from \"../../models/Appointment\"\nimport Estimate from \"../../models/Estimate\"\nimport Invoice from \"../../models/Invoice\"\nimport Payment from \"../../models/Payments\"\nimport Checkbox from \"../../components/Checkbox\"\nimport classNames from \"classnames\"\nimport { useRoute } from \"react-router5\"\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\ninterface JobData {\n  \n  permissions: {\n    \n    edit_job: boolean,\n    show_client: boolean,\n    show_appointment: boolean,\n    show_estimate: boolean,\n    show_invoice: boolean,\n    show_payment: boolean\n  },\n\n  job: Job,\n\n  clients: Client[],\n  appointments: Appointment[],\n  estimates: Estimate[],\n  invoices: Invoice[],\n  payments: Payment[]\n\n  edit: {\n    status: string[],\n    source: string[]\n  }\n}\n\nconst JobsPage_Item = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const $router = useRoute()\n\n  const [readyToSave, setReadyToSave] = useState(false)\n\n  const [editing, setEditing] = useState(false)\n\n  const [deleting, setDeleting] = useState(false)\n  const [readyToDelete, setReadyToDelete] = useState(false)\n\n  const [jobData, setJobData] = useState<JobData | null>(null)\n\n  const [newJobData, setNewJobData] = useState<Partial<Job>>({\n    status: '',\n    source: ''\n  })\n  \n  // Load info function\n  async function loadInfo() {\n    try {\n      const { data: jobData } = await httpClient.post('/json/job.json') as {data: JobData}\n\n      setJobData(jobData)\n      setNewJobData(jobData.job)\n\n      setTimeout(() => setReadyToSave(false), 100)\n    }\n    catch (error) {\n      nError(error)\n    }\n  }\n\n  // Load job data\n  useEffect(() => {\n    loadInfo()\n  }, [])\n\n  useEffect(() => setReadyToSave(true), [\n    newJobData\n  ])\n  \n  // Render function\n  return (<>\n    {jobData && newJobData.status ? (\n      <div className=\"JobsPage_Item entity-edit\">\n\n        <div className=\"wrapper flex-container sb\">\n          <h1>Job</h1>\n\n          {jobData?.permissions.edit_job && !editing ? (\n            <button className=\"_wa _green\" onClick={() => setEditing(true)}>\n              Edit\n            </button>\n          ) : null}\n        </div>\n        \n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Main</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Name:</span>\n                <input type=\"text\" defaultValue={jobData?.job.name} disabled={ true } />\n              </div>\n\n              <div className=\"field\">\n                <span>Property type:</span>\n                <input type=\"text\" defaultValue={jobData?.job.property_type} disabled={ true } />\n              </div>\n\n              <div className=\"field\">\n                <span>Status:</span>\n                <Select disabled={!editing} options={jobData.edit.status.map((option) => ({\n                  span: option,\n                  value: option\n                }))} selectedOption={newJobData.status as string} onChange={(value) => setNewJobData({...newJobData, status: value as string})}/>\n              </div>\n            </div>\n\n            <div className=\"__right\">\n              <div className=\"field\">\n                <span>Service Resource:</span>\n                <input type=\"text\" defaultValue={jobData?.job.service_resources} disabled={ true } />\n              </div>\n\n              <div className=\"field\">\n                <span>Area:</span>\n                <input type=\"text\" defaultValue={jobData?.job.area} disabled={ true } />\n              </div>\n\n              <div className=\"field\">\n                <span>Source:</span>\n                <Select disabled={!editing} options={jobData.edit.source.map((option) => ({\n                  span: option,\n                  value: option\n                }))} selectedOption={newJobData.source as string} onChange={(value) => setNewJobData({...newJobData, source: value as string})}/>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Financial</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Total:</span>\n                <input type=\"text\" defaultValue={jobData?.job.total} disabled={ true } />\n              </div>\n            </div>\n\n            <div className=\"__right\">\n              <div className=\"field\">\n                <span>Paid:</span>\n                <input type=\"text\" defaultValue={jobData?.job.paid} disabled={ true } />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Info</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n\n              <div className=\"field\">\n                <span>Date Created:</span>\n                <input type=\"text\" defaultValue={jobData?.job.created_at} disabled={ true } />\n              </div>\n\n              <div className=\"field\">\n                <span>Created by:</span>\n                <input type=\"text\" defaultValue={jobData?.job.created_by} disabled={ true } />\n              </div>\n            </div>\n\n            <div className=\"__right\">\n              <div className=\"field\">\n                <span>Last Edited:</span>\n                <input type=\"text\" defaultValue={jobData?.job.last_edited_at} disabled={ true } />\n              </div>\n              <div className=\"field\">\n                <span>Last Edited by:</span>\n                <input type=\"text\" defaultValue={jobData?.job.last_edited_by} disabled={ true } />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"legend\">Clients</div>\n\n          <table className={classNames('table', '__show-on-wide', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <th>Date</th>\n              <th>Main Phone</th>\n              <th>Source</th>\n              <th>Jobs</th>\n              <th>Appointments</th>\n              <th>Recalls</th>\n              <th>Total</th>\n              <th>Paid</th>\n              <th>Unpaid</th>\n            </tr>\n            {jobData.clients.map((client, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('clients.item', {\n                clientId: client.client_id\n              }, {reload: true})}>\n                <td>{client.name}</td>\n                <td>{client.main_phone}</td>\n                <td>{client.source}</td>\n                <td>{client.jobs}</td>\n                <td>{client.appointments}</td>\n                <td>{client.recalls}</td>\n                <td>{client.total}</td>\n                <td>{client.paid}</td>\n                <td>{client.unpaid}</td>\n              </tr>\n            ))}\n          </table>\n\n          <table className={classNames('table', '__hide-on-wide', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr></tr>\n            {jobData.clients.map((client, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('clients.item', {\n                clientId: client.client_id\n              }, {reload: true})}>\n                <td>\n                  <div>{client.name}</div>\n                  <div>{client.main_phone}</div>\n                </td>\n                <td>\n                  <div>{client.source}</div>\n                  <div>Jobs: {client.jobs}</div>\n                </td>\n                <td>\n                  <div>Appointments: {client.appointments}</div>\n                  <div>Recalls: {client.recalls}</div>\n                </td>\n                <td>\n                  <div>Total: {client.total}</div>\n                  <div>Paid: {client.paid}</div>\n                </td>\n                <td>\n                  <div>Unpaid: {client.unpaid}</div>\n                  <div>&nbsp;</div>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          <div className={classNames('mobile-table', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            <div className=\"mobile-table-items\">\n\n              {jobData.clients.map((client, i: number) => (\n                <div className=\"item\" key={i} onClick={() => $router.router.navigate('clients.item', {\n                clientId: client.client_id\n              }, {reload: true})}>\n\n                  <div className=\"__top\">\n\n                    <div className=\"__left\">\n                      <div><b>{client.name}</b></div>\n                      <div>\n                        {client.main_phone}\n                      </div>\n                    </div>\n\n                    <div className=\"__right\">\n                      <div>\n                        Total: <b>{client.total}</b>\n                      </div>\n                      <div>\n                        Paid: <b>{client.paid}</b>\n                      </div>\n                      <div>\n                        Unpaid: <b>{client.unpaid}</b>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"__bottom\">\n\n                    <div className=\"__left\">\n                      <div>\n                        <span className=\"gray\">Jobs:</span>\n                        <span> {client.jobs}</span>\n                      </div>\n                      <div>\n                        <span className=\"gray\">Recalls:</span>\n                        <span> {client.recalls}</span>\n                      </div>\n                      <div>\n                        <span className=\"gray\">Appointments:</span>\n                        <span> {client.appointments}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"__right small\">\n                      <div>\n                        <b>{client.source}</b>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"legend\">Appointments</div>\n\n          <table className={classNames('table', '__show-on-wide', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <th>Date</th>\n              <th>Name</th>\n              <th>Type</th>\n              <th>Status</th>\n              <th>Property type</th>\n              <th>Area</th>\n              <th>Created by</th>\n              <th>Schedule time</th>\n              <th>Service resource</th>\n            </tr>\n            {jobData.appointments.map((appointment, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('appointments.item', {\n                appointmentId: appointment.appointment_id\n              }, {reload: true})}>\n                <td>{appointment.created_at}</td>\n                <td>{appointment.name}</td>\n                <td>\n                  {appointment.type === 'Recall' ? (\n                    <span className=\"red\">\n                      {appointment.type}\n                    </span>\n                  ) : appointment.type === 'Service call' ? (\n                    <span className=\"green\">\n                      {appointment.type}\n                    </span>\n                  ) : (\n                    <span className=\"blue\">\n                      {appointment.type}\n                    </span>\n                  )}\n                </td>\n                <td>{appointment.status}</td>\n                <td>{appointment.property_type}</td>\n                <td>{appointment.area}</td>\n                <td>{appointment.created_by}</td>\n                <td>{appointment.schedule_time}</td>\n                <td>{appointment.service_resource}</td>\n              </tr>\n            ))}\n          </table>\n\n          <table className={classNames('table', '__hide-on-wide', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr></tr>\n            {jobData.appointments.map((appointment, i) => (\n              <tr key={i} onClick={() => $router.router.navigate('appointments.item', {\n                appointmentId: appointment.appointment_id\n              }, {reload: true})}>\n                <td>\n                  <div>{appointment.name}</div>\n                  <div>{appointment.created_at}</div>\n                </td>\n                <td>\n                  <div>{appointment.service_resource}</div>\n                  <div>{appointment.created_by}</div>\n                </td>\n                <td>\n                  <div>{appointment.area}</div>\n                  <div>{appointment.type}</div>\n                </td>\n                <td>\n                  <div>{appointment.property_type}</div>\n                  <div>{appointment.status}</div>\n                </td>\n                <td>\n                  <div>{appointment.schedule_time}</div>\n                  <div>&nbsp;</div>\n                </td>\n              </tr>\n            ))}\n          </table>\n\n          <div className={classNames('mobile-table', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            <div className=\"mobile-table-items\">\n\n              {jobData.appointments.map((appointment, i: number) => (\n                <div className=\"item\" key={i} onClick={() => $router.router.navigate('appointments.item', {\n                appointmentId: appointment.appointment_id\n              }, {reload: true})}>\n\n                  <div className=\"__top\">\n\n                    <div className=\"__left\">\n                      <div className=\"flex-container\">\n                        <strong>{appointment.name}</strong>\n                      </div>\n                      <div>\n                        {appointment.schedule_time}\n                      </div>\n                    </div>\n\n                    <div className=\"__right\">\n                      <div>\n                        {appointment.type === 'Recall' ? (\n                          <span className=\"red\">\n                            {appointment.type}\n                          </span>\n                        ) : appointment.type === 'Service call' ? (\n                          <span className=\"green\">\n                            {appointment.type}\n                          </span>\n                        ) : (\n                          <span className=\"blue\">\n                            {appointment.type}\n                          </span>\n                        )}\n                      </div>\n                      <div>\n                        {appointment.property_type}\n                      </div>\n                      <div>\n                        <div className=\"fw500\">{appointment.status}</div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"__bottom\">\n\n                    <div className=\"__left\">\n                      <div>\n                        <span className=\"gray\">Area:</span>\n                        <span> {appointment.area}</span>\n                      </div>\n                      <div>\n                        <span className=\"gray\">Service Resourse:</span>\n                        <span> {appointment.service_resource}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"__right small\">\n                      <div>\n                        {appointment.created_at}\n                      </div>\n                      <div>\n                        Created by {appointment.created_by}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"legend\">Estimates</div>\n\n          <table className={classNames('table', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <th><span>Date</span></th>\n              <th><span>Name</span></th>\n              <th><span>Status</span></th>\n              <th><span>Service Resource</span></th>\n              <th><span>Area</span></th>\n              <th><span>Total</span></th>\n              <th><span>Comment</span></th>\n            </tr>\n            {jobData.estimates.map((estimate, i) => (\n              <tr key={i}>\n                <td>{estimate.created_at}</td>\n                <td>{estimate.name}</td>\n                <td>{estimate.status}</td>\n                <td>{estimate.service_resource}</td>\n                <td>{estimate.area}</td>\n                <td>{estimate.total}</td>\n                <td>{estimate.comment}</td>\n              </tr>\n            ))}\n          </table>\n\n          <div className={classNames('mobile-table', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            <div className=\"mobile-table-items\">\n\n              {jobData.estimates.map((estimate, i: number) => (\n                <div className=\"item\" key={i}>\n\n                  <div className=\"__top\">\n\n                    <div className=\"__left\">\n                      <div>\n                        <strong>{estimate.name}</strong>\n                      </div>\n                      <div>\n                        <strong>{estimate.status}</strong>\n                      </div>\n                    </div>\n\n                    <div className=\"__right\">\n                      <div>\n                        Total: <b>{estimate.total}</b>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"__bottom\">\n\n                    <div className=\"__left\">\n                      <div>\n                        <span className=\"gray\">Area:</span>\n                        <span> {estimate.area}</span>\n                      </div>\n                      <div>\n                        <span className=\"gray\">Service Resourse:</span>\n                        <span> {estimate.service_resource}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"__right small\">\n                      <div>\n                        <b>{estimate.created_at}</b>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"text\">\n                    {estimate.comment}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"legend\">Invoices</div>\n\n          <table className={classNames('table', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <th><span>Date</span></th>\n              <th><span>Name</span></th>\n              <th><span>Status</span></th>\n              <th><span>Service Resource</span></th>\n              <th><span>Area</span></th>\n              <th><span>Total</span></th>\n              <th><span>Paid</span></th>\n              <th><span>Unpaid</span></th>\n            </tr>\n\n            {jobData.invoices.map((invoice, i) => (\n              <tr key={i}>\n                <td>{invoice.created_at}</td>\n                <td>{invoice.name}</td>\n                <td>{invoice.status}</td>\n                <td>{invoice.service_resource}</td>\n                <td>{invoice.area}</td>\n                <td>{invoice.total}</td>\n                <td>{invoice.paid}</td>\n                <td>{invoice.unpaid}</td>\n              </tr>\n            ))}\n          </table>\n\n          <div className={classNames('mobile-table', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            <div className=\"mobile-table-items\">\n\n              {jobData.invoices.map((invoice, i: number) => (\n                <div className=\"item\" key={i}>\n\n                  <div className=\"__top\">\n\n                    <div className=\"__left\">\n                      <div><b>{invoice.name}</b></div>\n                      <div>\n                        {invoice.status}\n                      </div>\n                    </div>\n\n                    <div className=\"__right\">\n                      <div>\n                        Total: <b>{invoice.total}</b>\n                      </div>\n                      <div>\n                        Paid: <b>{invoice.paid}</b>\n                      </div>\n                      <div>\n                        Unpaid: <b>{invoice.unpaid}</b>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"__bottom\">\n\n                    <div className=\"__left\">\n                      <div>\n                        <span className=\"gray\">Area:</span>\n                        <span> {invoice.area}</span>\n                      </div>\n                      <div>\n                        <span className=\"gray\">Service Resource:</span>\n                        <span> {invoice.service_resource}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"__right small\">\n                      <div>\n                        <b>{invoice.created_at}</b>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n\n          <div className=\"legend\">Payments</div>\n\n          <table className={classNames('table', '__hide-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n            <tr>\n              <th><span>Date</span></th>\n              <th><span>Type</span></th>\n              <th><span>Number</span></th>\n              <th><span>Service</span></th>\n              <th><span>Status</span></th>\n              <th><span>Net</span></th>\n              <th><span>Total</span></th>\n              <th><span>Fee</span></th>\n            </tr>\n\n            {jobData.payments.map((payment, i) => (\n              <tr key={i}>\n                <td>{payment.created_at}</td>\n                <td>{payment.type}</td>\n                <td>{payment.number}</td>\n                <td>{payment.service}</td>\n                <td>{payment.status}</td>\n                <td>{payment.net}</td>\n                <td>{payment.total}</td>\n                <td>{payment.fee}</td>\n              </tr>\n            ))}\n          </table>\n\n          <div className={classNames('mobile-table', '__show-on-mobile', {\n            __respectAsidePanel: props.store.navActive.is\n          })}>\n\n            <div className=\"mobile-table-items\">\n\n              {jobData.payments.map((payment, i: number) => (\n                <div className=\"item\" key={i}>\n\n                  <div className=\"__top\">\n\n                    <div className=\"__left\">\n                      <div><strong>{payment.number}</strong></div>\n                      <div>{payment.service}</div>\n                      <div>\n                        <b>{payment.status}</b>\n                      </div>\n                    </div>\n\n                    <div className=\"__right\">\n                      <div>\n                        Net: <b>{payment.net}</b>\n                      </div>\n                      <div>\n                        Total: <b>{payment.total}</b>\n                      </div>\n                      <div>\n                        Fee: <b>{payment.fee}</b>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"__bottom\">\n\n                    <div className=\"__left\">\n                      \n                    </div>\n\n                    <div className=\"__right small\">\n                      <div>\n                        <b>{payment.created_at}</b>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {editing ? (\n          <div className=\"wrapper flex-container sb editing-buttons\">\n            <div>\n              <button className=\"_red\" onClick={() => setDeleting(true)}>Delete Job</button>\n            </div>\n            <div className=\"buttons\">\n              <button className=\"_bordered _red\" onClick={() => setEditing(false)}>\n                Cancel\n              </button>\n              <button disabled={!readyToSave} className=\"_bordered _green\">\n                Save\n              </button>\n            </div>\n          </div>\n        ) : null}\n\n        {/* Item share popup */}\n        {deleting ? (\n          <div className=\"item-delete-popup\" onClick={() => setDeleting(false)}>\n\n            <div className=\"wrapper\" onClick={(e) => e.stopPropagation()}>\n            \n              <div className=\"title\">\n                Delete Absence\n              </div>\n\n              <div className=\"checkbox-wrapper\">\n                <Checkbox contents=\"I understand that after deleting the absence it will not be possible to recover.\" value={readyToDelete} onChange={(value) => setReadyToDelete(value)} />\n              </div>\n\n              <div className=\"buttons\">\n\n                <button className=\"_bordered _green\" onClick={() => setDeleting(false)}>\n                  Cancel\n                </button>\n\n                <button disabled={!readyToDelete} className=\"_bordered _red\">\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    ) : null}\n  </>)\n})\nexport default JobsPage_Item\n"]},"metadata":{},"sourceType":"module"}