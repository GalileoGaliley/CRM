{"ast":null,"code":"var _jsxFileName = \"/Users/nicole/rrrr/crm/src/pages/Users/New.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport Icon from \"../../components/Icon\";\nimport { nError } from \"../../funcs\";\nimport { mapDispatchToProps, mapStateToProps } from \"../../store\";\nimport \"../../styles/pages/common/entity-edit.sass\";\nimport Select from \"../../components/Select\";\nimport { useRoute } from \"react-router5\";\nimport Switcher from \"../../components/Switcher\";\nimport ReactCrop from \"react-image-crop\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UsersPage_New = connect(mapStateToProps, mapDispatchToProps)(_s(function (props) {\n  _s();\n\n  const [readyToSave, setReadyToSave] = useState(false);\n  const $router = useRoute();\n  const [avatarPopup, setAvatarPopup] = useState(false);\n  const [avatarImageSrc, setAvatarImageSrc] = useState('');\n  const [avatarCrop, setAvatarCrop] = useState({\n    unit: '%',\n    width: 30,\n    aspect: 1\n  });\n  const [editions, setEditions] = useState(null);\n  const [newUserData, setNewUserData] = useState({}); // Load info function\n\n  async function loadInfo() {\n    try {\n      const {\n        data: usersData\n      } = await axios.get('/json/users.json');\n      setEditions(usersData.edit);\n      setNewUserData({\n        firstname: '',\n        lastname: '',\n        function: '',\n        phone: '',\n        street: '',\n        unit: '',\n        city: '',\n        zip: '',\n        time_zone: usersData.edit.time_zone[0],\n        permission: usersData.edit.permissions[0],\n        State: usersData.edit.state[0],\n        active_status: ''\n      });\n      setTimeout(() => setReadyToSave(false), 100);\n    } catch (error) {\n      nError(error);\n    }\n  } // Load user data\n\n\n  useEffect(() => {\n    loadInfo();\n  }, []); // On select file function\n\n  function onSelectFile(e) {\n    if (e.target.files && e.target.files.length > 0) {\n      const reader = new FileReader();\n      reader.addEventListener('load', () => setAvatarImageSrc(reader.result));\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  }\n\n  useEffect(() => setReadyToSave(true), [newUserData]); // Render function\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: editions && newUserData.time_zone ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UsersPage_New entity-edit\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper flex-container sb\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"New user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fieldset\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend\",\n          children: \"Main\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fields\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"First Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: _ref => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref;\n                  return setNewUserData({ ...newUserData,\n                    firstname: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Last Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: _ref2 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref2;\n                  return setNewUserData({ ...newUserData,\n                    lastname: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Active:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Switcher, {\n                checked: newUserData.active_status === 'Active',\n                onChange: value => setNewUserData({ ...newUserData,\n                  active_status: value ? 'Active' : 'Inactive'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: _ref3 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref3;\n                  return setNewUserData({ ...newUserData,\n                    email: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-editing\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"_zeroed _iconed\",\n              onClick: () => setAvatarPopup(true),\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                icon: \"user-20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fieldset\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend\",\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fields\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Function:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: _ref4 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref4;\n                  return setNewUserData({ ...newUserData,\n                    function: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Phone:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: _ref5 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref5;\n                  return setNewUserData({ ...newUserData,\n                    phone: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              style: {\n                zIndex: 7\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Time Zone:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                options: editions.time_zone.map(option => ({\n                  span: option,\n                  value: option\n                })),\n                selectedOption: newUserData.time_zone,\n                onChange: value => setNewUserData({ ...newUserData,\n                  time_zone: value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Permission:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                options: editions.permissions.map(option => ({\n                  span: option,\n                  value: option\n                })),\n                selectedOption: newUserData.permission,\n                onChange: value => setNewUserData({ ...newUserData,\n                  permission: value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fieldset\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend\",\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fields\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Street:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: _ref6 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref6;\n                  return setNewUserData({ ...newUserData,\n                    street: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Unit/Apt:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: _ref7 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref7;\n                  return setNewUserData({ ...newUserData,\n                    unit: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"City:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: _ref8 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref8;\n                  return setNewUserData({ ...newUserData,\n                    city: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"__right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"State:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                options: editions.state.map(option => ({\n                  span: option,\n                  value: option\n                })),\n                selectedOption: newUserData.State,\n                onChange: value => setNewUserData({ ...newUserData,\n                  State: value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Zip:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                onChange: _ref9 => {\n                  let {\n                    target: {\n                      value\n                    }\n                  } = _ref9;\n                  return setNewUserData({ ...newUserData,\n                    zip: value\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper flex-container sb editing-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"_bordered _red\",\n            onClick: () => $router.router.navigate('users', {}, {\n              reload: true\n            }),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: !readyToSave,\n            className: \"_bordered _green\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), avatarPopup ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup imageCrop\",\n        onClick: () => setAvatarPopup(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrapper\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: onSelectFile,\n              id: \"file-uploader\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"_wa _iconed _bordered _blue\",\n              onClick: () => {\n                var _document$getElementB;\n\n                return (_document$getElementB = document.getElementById('file-uploader')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.click();\n              },\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                icon: \"user-33\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Upload a File\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: avatarImageSrc && /*#__PURE__*/_jsxDEV(ReactCrop, {\n              src: avatarImageSrc,\n              crop: avatarCrop,\n              onChange: value => setAvatarCrop(value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this) : null\n  }, void 0, false);\n}, \"62RXLUkXIma4DF5sEL6hkM37yfc=\", false, function () {\n  return [useRoute];\n}));\nexport default UsersPage_New;","map":{"version":3,"sources":["/Users/nicole/rrrr/crm/src/pages/Users/New.tsx"],"names":["axios","React","useEffect","useState","connect","Icon","nError","mapDispatchToProps","mapStateToProps","Select","useRoute","Switcher","ReactCrop","UsersPage_New","props","readyToSave","setReadyToSave","$router","avatarPopup","setAvatarPopup","avatarImageSrc","setAvatarImageSrc","avatarCrop","setAvatarCrop","unit","width","aspect","editions","setEditions","newUserData","setNewUserData","loadInfo","data","usersData","get","edit","firstname","lastname","function","phone","street","city","zip","time_zone","permission","permissions","State","state","active_status","setTimeout","error","onSelectFile","e","target","files","length","reader","FileReader","addEventListener","result","readAsDataURL","value","email","zIndex","map","option","span","router","navigate","reload","stopPropagation","document","getElementById","click"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport Icon from \"../../components/Icon\"\nimport { nError } from \"../../funcs\"\nimport User from \"../../models/User\"\nimport { StoreDispatch, StoreState, mapDispatchToProps, mapStateToProps } from \"../../store\";\nimport Datetime from 'react-datetime'\n\nimport \"../../styles/pages/common/entity-edit.sass\"\nimport moment from \"moment\"\nimport Select from \"../../components/Select\"\nimport Checkbox from \"../../components/Checkbox\"\nimport { useRoute } from \"react-router5\"\nimport Switcher from \"../../components/Switcher\"\nimport ReactCrop, { Crop } from \"react-image-crop\"\nimport UserCustom from \"../../models/UserCustom\"\n\ninterface Props {\n  store: StoreState,\n  dispatcher: StoreDispatch\n}\n\nconst UsersPage_New = connect(mapStateToProps, mapDispatchToProps)(function(props: Props) {\n\n  const [readyToSave, setReadyToSave] = useState(false)\n\n  const $router = useRoute()\n\n  const [avatarPopup, setAvatarPopup] = useState(false)\n  const [avatarImageSrc, setAvatarImageSrc] = useState('')\n  const [avatarCrop, setAvatarCrop] = useState<Partial<Crop>>({\n    unit: '%',\n    width: 30,\n    aspect: 1\n  })\n\n  const [editions, setEditions] = useState<{\n    time_zone: string[],\n    permissions: string[],\n    state: string[]\n  } | null>(null)\n\n  const [newUserData, setNewUserData] = useState<Partial<UserCustom>>({\n    \n  })\n  \n  // Load info function\n  async function loadInfo() {\n    try {\n      const { data: usersData } = (await axios.get('/json/users.json'))\n\n      setEditions(usersData.edit)\n      setNewUserData({\n        firstname: '',\n        lastname: '',\n        function: '',\n        phone: '',\n        street: '',\n        unit: '',\n        city: '',\n        zip: '',\n        time_zone: usersData.edit.time_zone[0],\n        permission: usersData.edit.permissions[0],\n        State: usersData.edit.state[0],\n        active_status: ''\n      })\n\n      setTimeout(() => setReadyToSave(false), 100)\n    }\n    catch (error) {\n      nError(error)\n    }\n  }\n\n  // Load user data\n  useEffect(() => {\n    loadInfo()\n  }, [])\n\n  // On select file function\n  function onSelectFile(e: any) {\n    if (e.target.files && e.target.files.length > 0) {\n      const reader = new FileReader();\n      reader.addEventListener('load', () =>\n        setAvatarImageSrc(reader.result as string)\n      );\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  }\n\n  useEffect(() => setReadyToSave(true), [\n    newUserData\n  ])\n  \n  // Render function\n  return (<>\n    {editions && newUserData.time_zone ? (\n      <div className=\"UsersPage_New entity-edit\">\n\n        <div className=\"wrapper flex-container sb\">\n          <h1>New user</h1>\n        </div>\n        \n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Main</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>First Name:</span>\n                <input type=\"text\" onChange={({target: {value}}) => setNewUserData({...newUserData, firstname: value})} />\n              </div>\n\n              <div className=\"field\">\n                <span>Last Name:</span>\n                <input type=\"text\" onChange={({target: {value}}) => setNewUserData({...newUserData, lastname: value})} />\n              </div>\n            </div>\n\n            <div className=\"__right\">\n              <div className=\"field\">\n                <span>Active:</span>\n                <Switcher checked={newUserData.active_status === 'Active'} onChange={(value) => setNewUserData({...newUserData, active_status: value ? 'Active' : 'Inactive'})} />\n              </div>\n\n              <div className=\"field\">\n                <span>Email:</span>\n                <input type=\"text\" onChange={({target: {value}}) => setNewUserData({...newUserData, email: value})} />\n              </div>\n            </div>\n\n            <div className=\"avatar-editing\">\n              <button className=\"_zeroed _iconed\" onClick={() => setAvatarPopup(true)}>\n                <Icon icon=\"user-20\" />\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Settings</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Function:</span>\n                <input type=\"text\" onChange={({target: {value}}) => setNewUserData({...newUserData, function: value})} />\n              </div>\n\n              <div className=\"field\">\n                <span>Phone:</span>\n                <input type=\"text\" onChange={({target: {value}}) => setNewUserData({...newUserData, phone: value})} />\n              </div>\n            </div>\n\n            <div className=\"__right\">\n              <div className=\"field\" style={{zIndex: 7}}>\n                <span>Time Zone:</span>\n                <Select options={editions.time_zone.map((option) => ({\n                  span: option,\n                  value: option\n                }))} selectedOption={newUserData.time_zone} onChange={(value: string) => setNewUserData({...newUserData, time_zone: value})}/>\n              </div>\n\n              <div className=\"field\">\n                <span>Permission:</span>\n                <Select options={editions.permissions.map((option) => ({\n                  span: option,\n                  value: option\n                }))} selectedOption={newUserData.permission as string} onChange={(value: string) => setNewUserData({...newUserData, permission: value})}/>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"fieldset\">\n          \n          <div className=\"legend\">Address</div>\n\n          <div className=\"fields\">\n\n            <div className=\"__left\">\n              <div className=\"field\">\n                <span>Street:</span>\n                <input type=\"text\" onChange={({target: {value}}) => setNewUserData({...newUserData, street: value})} />\n              </div>\n\n              <div className=\"field\">\n                <span>Unit/Apt:</span>\n                <input type=\"text\" onChange={({target: {value}}) => setNewUserData({...newUserData, unit: value})} />\n              </div>\n\n              <div className=\"field\">\n                <span>City:</span>\n                <input type=\"text\" onChange={({target: {value}}) => setNewUserData({...newUserData, city: value})} />\n              </div>\n            </div>\n\n            <div className=\"__right\">\n              <div className=\"field\">\n                <span>State:</span>\n                <Select options={editions.state.map((option) => ({\n                  span: option,\n                  value: option\n                }))} selectedOption={newUserData.State as string} onChange={(value: string) => setNewUserData({...newUserData, State: value})}/>\n              </div>\n\n              <div className=\"field\">\n                <span>Zip:</span>\n                <input type=\"text\" onChange={({target: {value}}) => setNewUserData({...newUserData, zip: value})} />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"wrapper flex-container sb editing-buttons\">\n          <div />\n          <div className=\"buttons\">\n            <button className=\"_bordered _red\" onClick={() => $router.router.navigate('users', {}, {\n              reload: true\n            })}>\n              Cancel\n            </button>\n            <button disabled={!readyToSave} className=\"_bordered _green\">\n              Save\n            </button>\n          </div>\n        </div>\n\n        {avatarPopup ? (\n          <div className=\"popup imageCrop\" onClick={() => setAvatarPopup(false)}>\n\n            <div className=\"wrapper\" onClick={(e) => e.stopPropagation()}>\n              \n              <div>\n                <input type=\"file\" accept=\"image/*\" onChange={onSelectFile} id=\"file-uploader\" />\n                <button className=\"_wa _iconed _bordered _blue\" onClick={() => document.getElementById('file-uploader')?.click()}>\n                  <Icon icon=\"user-33\" />\n                  <span>Upload a File</span>\n                </button>\n              </div>\n\n              <div>\n                {avatarImageSrc && (\n                  <ReactCrop\n                    src={avatarImageSrc}\n                    crop={avatarCrop}\n                    onChange={(value) => setAvatarCrop(value)}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    ) : null}\n  </>)\n})\nexport default UsersPage_New\n"]},"metadata":{},"sourceType":"module"}